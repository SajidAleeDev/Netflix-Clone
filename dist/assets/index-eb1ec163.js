function C2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Cc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function P2(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var BT={exports:{}},zf={},zT={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),R2=Symbol.for("react.portal"),A2=Symbol.for("react.fragment"),N2=Symbol.for("react.strict_mode"),O2=Symbol.for("react.profiler"),D2=Symbol.for("react.provider"),$2=Symbol.for("react.context"),M2=Symbol.for("react.forward_ref"),L2=Symbol.for("react.suspense"),F2=Symbol.for("react.memo"),U2=Symbol.for("react.lazy"),w_=Symbol.iterator;function j2(t){return t===null||typeof t!="object"?null:(t=w_&&t[w_]||t["@@iterator"],typeof t=="function"?t:null)}var qT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WT=Object.assign,GT={};function Ha(t,e,n){this.props=t,this.context=e,this.refs=GT,this.updater=n||qT}Ha.prototype.isReactComponent={};Ha.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ha.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KT(){}KT.prototype=Ha.prototype;function q0(t,e,n){this.props=t,this.context=e,this.refs=GT,this.updater=n||qT}var W0=q0.prototype=new KT;W0.constructor=q0;WT(W0,Ha.prototype);W0.isPureReactComponent=!0;var E_=Array.isArray,HT=Object.prototype.hasOwnProperty,G0={current:null},QT={key:!0,ref:!0,__self:!0,__source:!0};function YT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HT.call(e,r)&&!QT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pc,type:t,key:s,ref:o,props:i,_owner:G0.current}}function V2(t,e){return{$$typeof:Pc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function K0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pc}function B2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var __=/\/+/g;function Zm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?B2(""+t.key):e.toString(36)}function Yd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pc:case R2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Zm(o,0):r,E_(i)?(n="",t!=null&&(n=t.replace(__,"$&/")+"/"),Yd(i,e,n,"",function(u){return u})):i!=null&&(K0(i)&&(i=V2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(__,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",E_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Zm(s,a);o+=Yd(s,e,n,l,i)}else if(l=j2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Zm(s,a++),o+=Yd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function md(t,e,n){if(t==null)return t;var r=[],i=0;return Yd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function z2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},Jd={transition:null},q2={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Jd,ReactCurrentOwner:G0};ie.Children={map:md,forEach:function(t,e,n){md(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return md(t,function(){e++}),e},toArray:function(t){return md(t,function(e){return e})||[]},only:function(t){if(!K0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=Ha;ie.Fragment=A2;ie.Profiler=O2;ie.PureComponent=q0;ie.StrictMode=N2;ie.Suspense=L2;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q2;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=WT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=G0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HT.call(e,l)&&!QT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pc,type:t.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:$2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:D2,_context:t},t.Consumer=t};ie.createElement=YT;ie.createFactory=function(t){var e=YT.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:M2,render:t}};ie.isValidElement=K0;ie.lazy=function(t){return{$$typeof:U2,_payload:{_status:-1,_result:t},_init:z2}};ie.memo=function(t,e){return{$$typeof:F2,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Jd.transition;Jd.transition={};try{t()}finally{Jd.transition=e}};ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ie.useCallback=function(t,e){return Zt.current.useCallback(t,e)};ie.useContext=function(t){return Zt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return Zt.current.useEffect(t,e)};ie.useId=function(){return Zt.current.useId()};ie.useImperativeHandle=function(t,e,n){return Zt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Zt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return Zt.current.useReducer(t,e,n)};ie.useRef=function(t){return Zt.current.useRef(t)};ie.useState=function(t){return Zt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Zt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Zt.current.useTransition()};ie.version="18.2.0";zT.exports=ie;var _=zT.exports;const Ht=Cc(_),gy=C2({__proto__:null,default:Ht},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2=_,G2=Symbol.for("react.element"),K2=Symbol.for("react.fragment"),H2=Object.prototype.hasOwnProperty,Q2=W2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y2={key:!0,ref:!0,__self:!0,__source:!0};function JT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)H2.call(e,r)&&!Y2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:G2,type:t,key:s,ref:o,props:i,_owner:Q2.current}}zf.Fragment=K2;zf.jsx=JT;zf.jsxs=JT;BT.exports=zf;var x=BT.exports,yy={},XT={exports:{}},kn={},ZT={exports:{}},ex={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,H){var G=$.length;$.push(H);e:for(;0<G;){var me=G-1>>>1,Ee=$[me];if(0<i(Ee,H))$[me]=H,$[G]=Ee,G=me;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var H=$[0],G=$.pop();if(G!==H){$[0]=G;e:for(var me=0,Ee=$.length,mn=Ee>>>1;me<mn;){var nt=2*(me+1)-1,ht=$[nt],rt=nt+1,Rr=$[rt];if(0>i(ht,G))rt<Ee&&0>i(Rr,ht)?($[me]=Rr,$[rt]=G,me=rt):($[me]=ht,$[nt]=G,me=nt);else if(rt<Ee&&0>i(Rr,G))$[me]=Rr,$[rt]=G,me=rt;else break e}}return H}function i($,H){var G=$.sortIndex-H.sortIndex;return G!==0?G:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,f=!1,m=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=$)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(u)}}function w($){if(m=!1,v($),!f)if(n(l)!==null)f=!0,pe(S);else{var H=n(u);H!==null&&dt(w,H.startTime-$)}}function S($,H){f=!1,m&&(m=!1,y(P),P=-1),p=!0;var G=h;try{for(v(H),d=n(l);d!==null&&(!(d.expirationTime>H)||$&&!z());){var me=d.callback;if(typeof me=="function"){d.callback=null,h=d.priorityLevel;var Ee=me(d.expirationTime<=H);H=t.unstable_now(),typeof Ee=="function"?d.callback=Ee:d===n(l)&&r(l),v(H)}else r(l);d=n(l)}if(d!==null)var mn=!0;else{var nt=n(u);nt!==null&&dt(w,nt.startTime-H),mn=!1}return mn}finally{d=null,h=G,p=!1}}var I=!1,b=null,P=-1,V=5,A=-1;function z(){return!(t.unstable_now()-A<V)}function te(){if(b!==null){var $=t.unstable_now();A=$;var H=!0;try{H=b(!0,$)}finally{H?ne():(I=!1,b=null)}}else I=!1}var ne;if(typeof g=="function")ne=function(){g(te)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ee=J.port2;J.port1.onmessage=te,ne=function(){ee.postMessage(null)}}else ne=function(){E(te,0)};function pe($){b=$,I||(I=!0,ne())}function dt($,H){P=E(function(){$(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,pe(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var G=h;h=H;try{return $()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=h;h=$;try{return H()}finally{h=G}},t.unstable_scheduleCallback=function($,H,G){var me=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?me+G:me):G=me,$){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=G+Ee,$={id:c++,callback:H,priorityLevel:$,startTime:G,expirationTime:Ee,sortIndex:-1},G>me?($.sortIndex=G,e(u,$),n(l)===null&&$===n(u)&&(m?(y(P),P=-1):m=!0,dt(w,G-me))):($.sortIndex=Ee,e(l,$),f||p||(f=!0,pe(S))),$},t.unstable_shouldYield=z,t.unstable_wrapCallback=function($){var H=h;return function(){var G=h;h=H;try{return $.apply(this,arguments)}finally{h=G}}}})(ex);ZT.exports=ex;var J2=ZT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=_,In=J2;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nx=new Set,xu={};function go(t,e){_a(t,e),_a(t+"Capture",e)}function _a(t,e){for(xu[t]=e,t=0;t<e.length;t++)nx.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vy=Object.prototype.hasOwnProperty,X2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S_={},I_={};function Z2(t){return vy.call(I_,t)?!0:vy.call(S_,t)?!1:X2.test(t)?I_[t]=!0:(S_[t]=!0,!1)}function eD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tD(t,e,n,r){if(e===null||typeof e>"u"||eD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var H0=/[\-:]([a-z])/g;function Q0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(H0,Q0);Nt[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(H0,Q0);Nt[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(H0,Q0);Nt[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function Y0(t,e,n,r){var i=Nt.hasOwnProperty(e)?Nt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tD(e,n,i,r)&&(n=null),r||i===null?Z2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ri=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gd=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),wy=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),ix=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),Ey=Symbol.for("react.suspense"),_y=Symbol.for("react.suspense_list"),Z0=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),sx=Symbol.for("react.offscreen"),b_=Symbol.iterator;function Sl(t){return t===null||typeof t!="object"?null:(t=b_&&t[b_]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,eg;function Wl(t){if(eg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);eg=e&&e[1]||""}return`
`+eg+t}var tg=!1;function ng(t,e){if(!t||tg)return"";tg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{tg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wl(t):""}function nD(t){switch(t.tag){case 5:return Wl(t.type);case 16:return Wl("Lazy");case 13:return Wl("Suspense");case 19:return Wl("SuspenseList");case 0:case 2:case 15:return t=ng(t.type,!1),t;case 11:return t=ng(t.type.render,!1),t;case 1:return t=ng(t.type,!0),t;default:return""}}function Sy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zo:return"Fragment";case Bo:return"Portal";case wy:return"Profiler";case J0:return"StrictMode";case Ey:return"Suspense";case _y:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ix:return(t.displayName||"Context")+".Consumer";case rx:return(t._context.displayName||"Context")+".Provider";case X0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z0:return e=t.displayName||null,e!==null?e:Sy(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return Sy(t(e))}catch{}}return null}function rD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sy(e);case 8:return e===J0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ox(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iD(t){var e=ox(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yd(t){t._valueTracker||(t._valueTracker=iD(t))}function ax(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ox(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ph(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Iy(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function T_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lx(t,e){e=e.checked,e!=null&&Y0(t,"checked",e,!1)}function by(t,e){lx(t,e);var n=ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ty(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ty(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ty(t,e,n){(e!=="number"||Ph(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gl=Array.isArray;function na(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function k_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Gl(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ji(n)}}function ux(t,e){var n=ji(e.value),r=ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function C_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ky(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vd,dx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sD=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(t){sD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iu[e]=iu[t]})});function hx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||iu.hasOwnProperty(t)&&iu[t]?(""+e).trim():e+"px"}function fx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var oD=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cy(t,e){if(e){if(oD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Py(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ry=null;function ew(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ay=null,ra=null,ia=null;function P_(t){if(t=Nc(t)){if(typeof Ay!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Hf(e),Ay(t.stateNode,t.type,e))}}function px(t){ra?ia?ia.push(t):ia=[t]:ra=t}function mx(){if(ra){var t=ra,e=ia;if(ia=ra=null,P_(t),e)for(t=0;t<e.length;t++)P_(e[t])}}function gx(t,e){return t(e)}function yx(){}var rg=!1;function vx(t,e,n){if(rg)return t(e,n);rg=!0;try{return gx(t,e,n)}finally{rg=!1,(ra!==null||ia!==null)&&(yx(),mx())}}function Cu(t,e){var n=t.stateNode;if(n===null)return null;var r=Hf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Ny=!1;if(Hr)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Ny=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Ny=!1}function aD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var su=!1,Rh=null,Ah=!1,Oy=null,lD={onError:function(t){su=!0,Rh=t}};function uD(t,e,n,r,i,s,o,a,l){su=!1,Rh=null,aD.apply(lD,arguments)}function cD(t,e,n,r,i,s,o,a,l){if(uD.apply(this,arguments),su){if(su){var u=Rh;su=!1,Rh=null}else throw Error(O(198));Ah||(Ah=!0,Oy=u)}}function yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function R_(t){if(yo(t)!==t)throw Error(O(188))}function dD(t){var e=t.alternate;if(!e){if(e=yo(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return R_(i),t;if(s===r)return R_(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Ex(t){return t=dD(t),t!==null?_x(t):null}function _x(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_x(t);if(e!==null)return e;t=t.sibling}return null}var Sx=In.unstable_scheduleCallback,A_=In.unstable_cancelCallback,hD=In.unstable_shouldYield,fD=In.unstable_requestPaint,qe=In.unstable_now,pD=In.unstable_getCurrentPriorityLevel,tw=In.unstable_ImmediatePriority,Ix=In.unstable_UserBlockingPriority,Nh=In.unstable_NormalPriority,mD=In.unstable_LowPriority,bx=In.unstable_IdlePriority,qf=null,yr=null;function gD(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(qf,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:wD,yD=Math.log,vD=Math.LN2;function wD(t){return t>>>=0,t===0?32:31-(yD(t)/vD|0)|0}var wd=64,Ed=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kl(a):(s&=o,s!==0&&(r=Kl(s)))}else o=n&~i,o!==0?r=Kl(o):s!==0&&(r=Kl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qn(e),i=1<<n,r|=t[n],e&=~i;return r}function ED(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _D(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ED(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Dy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tx(){var t=wd;return wd<<=1,!(wd&4194240)&&(wd=64),t}function ig(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qn(e),t[e]=n}function SD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function nw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function xx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kx,rw,Cx,Px,Rx,$y=!1,_d=[],Pi=null,Ri=null,Ai=null,Pu=new Map,Ru=new Map,wi=[],ID="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N_(t,e){switch(t){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(e.pointerId)}}function bl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Nc(e),e!==null&&rw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bD(t,e,n,r,i){switch(e){case"focusin":return Pi=bl(Pi,t,e,n,r,i),!0;case"dragenter":return Ri=bl(Ri,t,e,n,r,i),!0;case"mouseover":return Ai=bl(Ai,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pu.set(s,bl(Pu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ru.set(s,bl(Ru.get(s)||null,t,e,n,r,i)),!0}return!1}function Ax(t){var e=As(t.target);if(e!==null){var n=yo(e);if(n!==null){if(e=n.tag,e===13){if(e=wx(n),e!==null){t.blockedOn=e,Rx(t.priority,function(){Cx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=My(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ry=r,n.target.dispatchEvent(r),Ry=null}else return e=Nc(n),e!==null&&rw(e),t.blockedOn=n,!1;e.shift()}return!0}function O_(t,e,n){Xd(t)&&n.delete(e)}function TD(){$y=!1,Pi!==null&&Xd(Pi)&&(Pi=null),Ri!==null&&Xd(Ri)&&(Ri=null),Ai!==null&&Xd(Ai)&&(Ai=null),Pu.forEach(O_),Ru.forEach(O_)}function Tl(t,e){t.blockedOn===e&&(t.blockedOn=null,$y||($y=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,TD)))}function Au(t){function e(i){return Tl(i,t)}if(0<_d.length){Tl(_d[0],t);for(var n=1;n<_d.length;n++){var r=_d[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pi!==null&&Tl(Pi,t),Ri!==null&&Tl(Ri,t),Ai!==null&&Tl(Ai,t),Pu.forEach(e),Ru.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)Ax(n),n.blockedOn===null&&wi.shift()}var sa=ri.ReactCurrentBatchConfig,Dh=!0;function xD(t,e,n,r){var i=ye,s=sa.transition;sa.transition=null;try{ye=1,iw(t,e,n,r)}finally{ye=i,sa.transition=s}}function kD(t,e,n,r){var i=ye,s=sa.transition;sa.transition=null;try{ye=4,iw(t,e,n,r)}finally{ye=i,sa.transition=s}}function iw(t,e,n,r){if(Dh){var i=My(t,e,n,r);if(i===null)pg(t,e,r,$h,n),N_(t,r);else if(bD(i,t,e,n,r))r.stopPropagation();else if(N_(t,r),e&4&&-1<ID.indexOf(t)){for(;i!==null;){var s=Nc(i);if(s!==null&&kx(s),s=My(t,e,n,r),s===null&&pg(t,e,r,$h,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else pg(t,e,r,null,n)}}var $h=null;function My(t,e,n,r){if($h=null,t=ew(r),t=As(t),t!==null)if(e=yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $h=t,null}function Nx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pD()){case tw:return 1;case Ix:return 4;case Nh:case mD:return 16;case bx:return 536870912;default:return 16}default:return 16}}var bi=null,sw=null,Zd=null;function Ox(){if(Zd)return Zd;var t,e=sw,n=e.length,r,i="value"in bi?bi.value:bi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zd=i.slice(t,1<r?1-r:void 0)}function eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sd(){return!0}function D_(){return!1}function Cn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sd:D_,this.isPropagationStopped=D_,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sd)},persist:function(){},isPersistent:Sd}),e}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ow=Cn(Qa),Ac=Me({},Qa,{view:0,detail:0}),CD=Cn(Ac),sg,og,xl,Wf=Me({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xl&&(xl&&t.type==="mousemove"?(sg=t.screenX-xl.screenX,og=t.screenY-xl.screenY):og=sg=0,xl=t),sg)},movementY:function(t){return"movementY"in t?t.movementY:og}}),$_=Cn(Wf),PD=Me({},Wf,{dataTransfer:0}),RD=Cn(PD),AD=Me({},Ac,{relatedTarget:0}),ag=Cn(AD),ND=Me({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),OD=Cn(ND),DD=Me({},Qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$D=Cn(DD),MD=Me({},Qa,{data:0}),M_=Cn(MD),LD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UD[t])?!!e[t]:!1}function aw(){return jD}var VD=Me({},Ac,{key:function(t){if(t.key){var e=LD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aw,charCode:function(t){return t.type==="keypress"?eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BD=Cn(VD),zD=Me({},Wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L_=Cn(zD),qD=Me({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aw}),WD=Cn(qD),GD=Me({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),KD=Cn(GD),HD=Me({},Wf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QD=Cn(HD),YD=[9,13,27,32],lw=Hr&&"CompositionEvent"in window,ou=null;Hr&&"documentMode"in document&&(ou=document.documentMode);var JD=Hr&&"TextEvent"in window&&!ou,Dx=Hr&&(!lw||ou&&8<ou&&11>=ou),F_=String.fromCharCode(32),U_=!1;function $x(t,e){switch(t){case"keyup":return YD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qo=!1;function XD(t,e){switch(t){case"compositionend":return Mx(e);case"keypress":return e.which!==32?null:(U_=!0,F_);case"textInput":return t=e.data,t===F_&&U_?null:t;default:return null}}function ZD(t,e){if(qo)return t==="compositionend"||!lw&&$x(t,e)?(t=Ox(),Zd=sw=bi=null,qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dx&&e.locale!=="ko"?null:e.data;default:return null}}var e$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!e$[t.type]:e==="textarea"}function Lx(t,e,n,r){px(r),e=Mh(e,"onChange"),0<e.length&&(n=new ow("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var au=null,Nu=null;function t$(t){Hx(t,0)}function Gf(t){var e=Ko(t);if(ax(e))return t}function n$(t,e){if(t==="change")return e}var Fx=!1;if(Hr){var lg;if(Hr){var ug="oninput"in document;if(!ug){var V_=document.createElement("div");V_.setAttribute("oninput","return;"),ug=typeof V_.oninput=="function"}lg=ug}else lg=!1;Fx=lg&&(!document.documentMode||9<document.documentMode)}function B_(){au&&(au.detachEvent("onpropertychange",Ux),Nu=au=null)}function Ux(t){if(t.propertyName==="value"&&Gf(Nu)){var e=[];Lx(e,Nu,t,ew(t)),vx(t$,e)}}function r$(t,e,n){t==="focusin"?(B_(),au=e,Nu=n,au.attachEvent("onpropertychange",Ux)):t==="focusout"&&B_()}function i$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gf(Nu)}function s$(t,e){if(t==="click")return Gf(e)}function o$(t,e){if(t==="input"||t==="change")return Gf(e)}function a$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:a$;function Ou(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vy.call(e,i)||!Jn(t[i],e[i]))return!1}return!0}function z_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function q_(t,e){var n=z_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z_(n)}}function jx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vx(){for(var t=window,e=Ph();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ph(t.document)}return e}function uw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function l$(t){var e=Vx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jx(n.ownerDocument.documentElement,n)){if(r!==null&&uw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=q_(n,s);var o=q_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var u$=Hr&&"documentMode"in document&&11>=document.documentMode,Wo=null,Ly=null,lu=null,Fy=!1;function W_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fy||Wo==null||Wo!==Ph(r)||(r=Wo,"selectionStart"in r&&uw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lu&&Ou(lu,r)||(lu=r,r=Mh(Ly,"onSelect"),0<r.length&&(e=new ow("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wo)))}function Id(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Go={animationend:Id("Animation","AnimationEnd"),animationiteration:Id("Animation","AnimationIteration"),animationstart:Id("Animation","AnimationStart"),transitionend:Id("Transition","TransitionEnd")},cg={},Bx={};Hr&&(Bx=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Kf(t){if(cg[t])return cg[t];if(!Go[t])return t;var e=Go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bx)return cg[t]=e[n];return t}var zx=Kf("animationend"),qx=Kf("animationiteration"),Wx=Kf("animationstart"),Gx=Kf("transitionend"),Kx=new Map,G_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,e){Kx.set(t,e),go(e,[t])}for(var dg=0;dg<G_.length;dg++){var hg=G_[dg],c$=hg.toLowerCase(),d$=hg[0].toUpperCase()+hg.slice(1);is(c$,"on"+d$)}is(zx,"onAnimationEnd");is(qx,"onAnimationIteration");is(Wx,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(Gx,"onTransitionEnd");_a("onMouseEnter",["mouseout","mouseover"]);_a("onMouseLeave",["mouseout","mouseover"]);_a("onPointerEnter",["pointerout","pointerover"]);_a("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function K_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cD(r,e,void 0,t),t.currentTarget=null}function Hx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;K_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;K_(i,a,u),s=l}}}if(Ah)throw t=Oy,Ah=!1,Oy=null,t}function be(t,e){var n=e[zy];n===void 0&&(n=e[zy]=new Set);var r=t+"__bubble";n.has(r)||(Qx(e,t,2,!1),n.add(r))}function fg(t,e,n){var r=0;e&&(r|=4),Qx(n,t,r,e)}var bd="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[bd]){t[bd]=!0,nx.forEach(function(n){n!=="selectionchange"&&(h$.has(n)||fg(n,!1,t),fg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bd]||(e[bd]=!0,fg("selectionchange",!1,e))}}function Qx(t,e,n,r){switch(Nx(e)){case 1:var i=xD;break;case 4:i=kD;break;default:i=iw}n=i.bind(null,e,n,t),i=void 0,!Ny||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function pg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=As(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}vx(function(){var u=s,c=ew(n),d=[];e:{var h=Kx.get(t);if(h!==void 0){var p=ow,f=t;switch(t){case"keypress":if(eh(n)===0)break e;case"keydown":case"keyup":p=BD;break;case"focusin":f="focus",p=ag;break;case"focusout":f="blur",p=ag;break;case"beforeblur":case"afterblur":p=ag;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=RD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WD;break;case zx:case qx:case Wx:p=OD;break;case Gx:p=KD;break;case"scroll":p=CD;break;case"wheel":p=QD;break;case"copy":case"cut":case"paste":p=$D;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=L_}var m=(e&4)!==0,E=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,v;g!==null;){v=g;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,y!==null&&(w=Cu(g,y),w!=null&&m.push($u(g,w,v)))),E)break;g=g.return}0<m.length&&(h=new p(h,f,null,n,c),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Ry&&(f=n.relatedTarget||n.fromElement)&&(As(f)||f[Qr]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(f=n.relatedTarget||n.toElement,p=u,f=f?As(f):null,f!==null&&(E=yo(f),f!==E||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=u),p!==f)){if(m=$_,w="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=L_,w="onPointerLeave",y="onPointerEnter",g="pointer"),E=p==null?h:Ko(p),v=f==null?h:Ko(f),h=new m(w,g+"leave",p,n,c),h.target=E,h.relatedTarget=v,w=null,As(c)===u&&(m=new m(y,g+"enter",f,n,c),m.target=v,m.relatedTarget=E,w=m),E=w,p&&f)t:{for(m=p,y=f,g=0,v=m;v;v=ko(v))g++;for(v=0,w=y;w;w=ko(w))v++;for(;0<g-v;)m=ko(m),g--;for(;0<v-g;)y=ko(y),v--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=ko(m),y=ko(y)}m=null}else m=null;p!==null&&H_(d,h,p,m,!1),f!==null&&E!==null&&H_(d,E,f,m,!0)}}e:{if(h=u?Ko(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=n$;else if(j_(h))if(Fx)S=o$;else{S=i$;var I=r$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=s$);if(S&&(S=S(t,u))){Lx(d,S,n,c);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Ty(h,"number",h.value)}switch(I=u?Ko(u):window,t){case"focusin":(j_(I)||I.contentEditable==="true")&&(Wo=I,Ly=u,lu=null);break;case"focusout":lu=Ly=Wo=null;break;case"mousedown":Fy=!0;break;case"contextmenu":case"mouseup":case"dragend":Fy=!1,W_(d,n,c);break;case"selectionchange":if(u$)break;case"keydown":case"keyup":W_(d,n,c)}var b;if(lw)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else qo?$x(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Dx&&n.locale!=="ko"&&(qo||P!=="onCompositionStart"?P==="onCompositionEnd"&&qo&&(b=Ox()):(bi=c,sw="value"in bi?bi.value:bi.textContent,qo=!0)),I=Mh(u,P),0<I.length&&(P=new M_(P,t,null,n,c),d.push({event:P,listeners:I}),b?P.data=b:(b=Mx(n),b!==null&&(P.data=b)))),(b=JD?XD(t,n):ZD(t,n))&&(u=Mh(u,"onBeforeInput"),0<u.length&&(c=new M_("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}Hx(d,e)})}function $u(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cu(t,n),s!=null&&r.unshift($u(t,s,i)),s=Cu(t,e),s!=null&&r.push($u(t,s,i))),t=t.return}return r}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function H_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Cu(n,s),l!=null&&o.unshift($u(n,l,a))):i||(l=Cu(n,s),l!=null&&o.push($u(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var f$=/\r\n?/g,p$=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(f$,`
`).replace(p$,"")}function Td(t,e,n){if(e=Q_(e),Q_(t)!==e&&n)throw Error(O(425))}function Lh(){}var Uy=null,jy=null;function Vy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var By=typeof setTimeout=="function"?setTimeout:void 0,m$=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,g$=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(t){return Y_.resolve(null).then(t).catch(y$)}:By;function y$(t){setTimeout(function(){throw t})}function mg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Au(e)}function Ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function J_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ya=Math.random().toString(36).slice(2),sr="__reactFiber$"+Ya,Mu="__reactProps$"+Ya,Qr="__reactContainer$"+Ya,zy="__reactEvents$"+Ya,v$="__reactListeners$"+Ya,w$="__reactHandles$"+Ya;function As(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=J_(t);t!==null;){if(n=t[sr])return n;t=J_(t)}return e}t=n,n=t.parentNode}return null}function Nc(t){return t=t[sr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Hf(t){return t[Mu]||null}var qy=[],Ho=-1;function ss(t){return{current:t}}function Te(t){0>Ho||(t.current=qy[Ho],qy[Ho]=null,Ho--)}function Se(t,e){Ho++,qy[Ho]=t.current,t.current=e}var Vi={},qt=ss(Vi),cn=ss(!1),Qs=Vi;function Sa(t,e){var n=t.type.contextTypes;if(!n)return Vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dn(t){return t=t.childContextTypes,t!=null}function Fh(){Te(cn),Te(qt)}function X_(t,e,n){if(qt.current!==Vi)throw Error(O(168));Se(qt,e),Se(cn,n)}function Yx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,rD(t)||"Unknown",i));return Me({},n,r)}function Uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,Qs=qt.current,Se(qt,t),Se(cn,cn.current),!0}function Z_(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=Yx(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,Te(cn),Te(qt),Se(qt,t)):Te(cn),Se(cn,n)}var Dr=null,Qf=!1,gg=!1;function Jx(t){Dr===null?Dr=[t]:Dr.push(t)}function E$(t){Qf=!0,Jx(t)}function os(){if(!gg&&Dr!==null){gg=!0;var t=0,e=ye;try{var n=Dr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,Qf=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(t+1)),Sx(tw,os),i}finally{ye=e,gg=!1}}return null}var Qo=[],Yo=0,jh=null,Vh=0,An=[],Nn=0,Ys=null,$r=1,Mr="";function ys(t,e){Qo[Yo++]=Vh,Qo[Yo++]=jh,jh=t,Vh=e}function Xx(t,e,n){An[Nn++]=$r,An[Nn++]=Mr,An[Nn++]=Ys,Ys=t;var r=$r;t=Mr;var i=32-Qn(r)-1;r&=~(1<<i),n+=1;var s=32-Qn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-Qn(e)+i|n<<i|r,Mr=s+t}else $r=1<<s|n<<i|r,Mr=t}function cw(t){t.return!==null&&(ys(t,1),Xx(t,1,0))}function dw(t){for(;t===jh;)jh=Qo[--Yo],Qo[Yo]=null,Vh=Qo[--Yo],Qo[Yo]=null;for(;t===Ys;)Ys=An[--Nn],An[Nn]=null,Mr=An[--Nn],An[Nn]=null,$r=An[--Nn],An[Nn]=null}var _n=null,wn=null,Re=!1,Gn=null;function Zx(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,wn=Ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ys!==null?{id:$r,overflow:Mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_n=t,wn=null,!0):!1;default:return!1}}function Wy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gy(t){if(Re){var e=wn;if(e){var n=e;if(!eS(t,e)){if(Wy(t))throw Error(O(418));e=Ni(n.nextSibling);var r=_n;e&&eS(t,e)?Zx(r,n):(t.flags=t.flags&-4097|2,Re=!1,_n=t)}}else{if(Wy(t))throw Error(O(418));t.flags=t.flags&-4097|2,Re=!1,_n=t}}}function tS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function xd(t){if(t!==_n)return!1;if(!Re)return tS(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vy(t.type,t.memoizedProps)),e&&(e=wn)){if(Wy(t))throw ek(),Error(O(418));for(;e;)Zx(t,e),e=Ni(e.nextSibling)}if(tS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=Ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=_n?Ni(t.stateNode.nextSibling):null;return!0}function ek(){for(var t=wn;t;)t=Ni(t.nextSibling)}function Ia(){wn=_n=null,Re=!1}function hw(t){Gn===null?Gn=[t]:Gn.push(t)}var _$=ri.ReactCurrentBatchConfig;function qn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bh=ss(null),zh=null,Jo=null,fw=null;function pw(){fw=Jo=zh=null}function mw(t){var e=Bh.current;Te(Bh),t._currentValue=e}function Ky(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oa(t,e){zh=t,fw=Jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(on=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(fw!==t)if(t={context:t,memoizedValue:e,next:null},Jo===null){if(zh===null)throw Error(O(308));Jo=t,zh.dependencies={lanes:0,firstContext:t}}else Jo=Jo.next=t;return e}var Ns=null;function gw(t){Ns===null?Ns=[t]:Ns.push(t)}function tk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,gw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vi=!1;function yw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yr(t,n)}return i=r.interleaved,i===null?(e.next=e,gw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yr(t,n)}function th(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nw(t,n)}}function nS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qh(t,e,n,r){var i=t.updateQueue;vi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,m=a;switch(h=e,p=n,m.tag){case 1:if(f=m.payload,typeof f=="function"){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=m.payload,h=typeof f=="function"?f.call(p,d,h):f,h==null)break e;d=Me({},d,h);break e;case 2:vi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xs|=o,t.lanes=o,t.memoizedState=d}}function rS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var rk=new tx.Component().refs;function Hy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yf={isMounted:function(t){return(t=t._reactInternals)?yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=$i(t),s=Br(r,i);s.payload=e,n!=null&&(s.callback=n),e=Oi(t,s,i),e!==null&&(Yn(e,t,i,r),th(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=$i(t),s=Br(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Oi(t,s,i),e!==null&&(Yn(e,t,i,r),th(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=$i(t),i=Br(n,r);i.tag=2,e!=null&&(i.callback=e),e=Oi(t,i,r),e!==null&&(Yn(e,t,r,n),th(e,t,r))}};function iS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ou(n,r)||!Ou(i,s):!0}function ik(t,e,n){var r=!1,i=Vi,s=e.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=dn(e)?Qs:qt.current,r=e.contextTypes,s=(r=r!=null)?Sa(t,i):Vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yf.enqueueReplaceState(e,e.state,null)}function Qy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=rk,yw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=dn(e)?Qs:qt.current,i.context=Sa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yf.enqueueReplaceState(i,i.state,null),qh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function kl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===rk&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function kd(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oS(t){var e=t._init;return e(t._payload)}function sk(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Mi(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,w){return g===null||g.tag!==6?(g=Ig(v,y.mode,w),g.return=y,g):(g=i(g,v),g.return=y,g)}function l(y,g,v,w){var S=v.type;return S===zo?c(y,g,v.props.children,w,v.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yi&&oS(S)===g.type)?(w=i(g,v.props),w.ref=kl(y,g,v),w.return=y,w):(w=ah(v.type,v.key,v.props,null,y.mode,w),w.ref=kl(y,g,v),w.return=y,w)}function u(y,g,v,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=bg(v,y.mode,w),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function c(y,g,v,w,S){return g===null||g.tag!==7?(g=Bs(v,y.mode,w,S),g.return=y,g):(g=i(g,v),g.return=y,g)}function d(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ig(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case gd:return v=ah(g.type,g.key,g.props,null,y.mode,v),v.ref=kl(y,null,g),v.return=y,v;case Bo:return g=bg(g,y.mode,v),g.return=y,g;case yi:var w=g._init;return d(y,w(g._payload),v)}if(Gl(g)||Sl(g))return g=Bs(g,y.mode,v,null),g.return=y,g;kd(y,g)}return null}function h(y,g,v,w){var S=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(y,g,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gd:return v.key===S?l(y,g,v,w):null;case Bo:return v.key===S?u(y,g,v,w):null;case yi:return S=v._init,h(y,g,S(v._payload),w)}if(Gl(v)||Sl(v))return S!==null?null:c(y,g,v,w,null);kd(y,v)}return null}function p(y,g,v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(v)||null,a(g,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gd:return y=y.get(w.key===null?v:w.key)||null,l(g,y,w,S);case Bo:return y=y.get(w.key===null?v:w.key)||null,u(g,y,w,S);case yi:var I=w._init;return p(y,g,v,I(w._payload),S)}if(Gl(w)||Sl(w))return y=y.get(v)||null,c(g,y,w,S,null);kd(g,w)}return null}function f(y,g,v,w){for(var S=null,I=null,b=g,P=g=0,V=null;b!==null&&P<v.length;P++){b.index>P?(V=b,b=null):V=b.sibling;var A=h(y,b,v[P],w);if(A===null){b===null&&(b=V);break}t&&b&&A.alternate===null&&e(y,b),g=s(A,g,P),I===null?S=A:I.sibling=A,I=A,b=V}if(P===v.length)return n(y,b),Re&&ys(y,P),S;if(b===null){for(;P<v.length;P++)b=d(y,v[P],w),b!==null&&(g=s(b,g,P),I===null?S=b:I.sibling=b,I=b);return Re&&ys(y,P),S}for(b=r(y,b);P<v.length;P++)V=p(b,y,P,v[P],w),V!==null&&(t&&V.alternate!==null&&b.delete(V.key===null?P:V.key),g=s(V,g,P),I===null?S=V:I.sibling=V,I=V);return t&&b.forEach(function(z){return e(y,z)}),Re&&ys(y,P),S}function m(y,g,v,w){var S=Sl(v);if(typeof S!="function")throw Error(O(150));if(v=S.call(v),v==null)throw Error(O(151));for(var I=S=null,b=g,P=g=0,V=null,A=v.next();b!==null&&!A.done;P++,A=v.next()){b.index>P?(V=b,b=null):V=b.sibling;var z=h(y,b,A.value,w);if(z===null){b===null&&(b=V);break}t&&b&&z.alternate===null&&e(y,b),g=s(z,g,P),I===null?S=z:I.sibling=z,I=z,b=V}if(A.done)return n(y,b),Re&&ys(y,P),S;if(b===null){for(;!A.done;P++,A=v.next())A=d(y,A.value,w),A!==null&&(g=s(A,g,P),I===null?S=A:I.sibling=A,I=A);return Re&&ys(y,P),S}for(b=r(y,b);!A.done;P++,A=v.next())A=p(b,y,P,A.value,w),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?P:A.key),g=s(A,g,P),I===null?S=A:I.sibling=A,I=A);return t&&b.forEach(function(te){return e(y,te)}),Re&&ys(y,P),S}function E(y,g,v,w){if(typeof v=="object"&&v!==null&&v.type===zo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case gd:e:{for(var S=v.key,I=g;I!==null;){if(I.key===S){if(S=v.type,S===zo){if(I.tag===7){n(y,I.sibling),g=i(I,v.props.children),g.return=y,y=g;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yi&&oS(S)===I.type){n(y,I.sibling),g=i(I,v.props),g.ref=kl(y,I,v),g.return=y,y=g;break e}n(y,I);break}else e(y,I);I=I.sibling}v.type===zo?(g=Bs(v.props.children,y.mode,w,v.key),g.return=y,y=g):(w=ah(v.type,v.key,v.props,null,y.mode,w),w.ref=kl(y,g,v),w.return=y,y=w)}return o(y);case Bo:e:{for(I=v.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=bg(v,y.mode,w),g.return=y,y=g}return o(y);case yi:return I=v._init,E(y,g,I(v._payload),w)}if(Gl(v))return f(y,g,v,w);if(Sl(v))return m(y,g,v,w);kd(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,v),g.return=y,y=g):(n(y,g),g=Ig(v,y.mode,w),g.return=y,y=g),o(y)):n(y,g)}return E}var ba=sk(!0),ok=sk(!1),Oc={},vr=ss(Oc),Lu=ss(Oc),Fu=ss(Oc);function Os(t){if(t===Oc)throw Error(O(174));return t}function vw(t,e){switch(Se(Fu,e),Se(Lu,t),Se(vr,Oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ky(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ky(e,t)}Te(vr),Se(vr,e)}function Ta(){Te(vr),Te(Lu),Te(Fu)}function ak(t){Os(Fu.current);var e=Os(vr.current),n=ky(e,t.type);e!==n&&(Se(Lu,t),Se(vr,n))}function ww(t){Lu.current===t&&(Te(vr),Te(Lu))}var De=ss(0);function Wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yg=[];function Ew(){for(var t=0;t<yg.length;t++)yg[t]._workInProgressVersionPrimary=null;yg.length=0}var nh=ri.ReactCurrentDispatcher,vg=ri.ReactCurrentBatchConfig,Js=0,$e=null,it=null,pt=null,Gh=!1,uu=!1,Uu=0,S$=0;function Mt(){throw Error(O(321))}function _w(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jn(t[n],e[n]))return!1;return!0}function Sw(t,e,n,r,i,s){if(Js=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nh.current=t===null||t.memoizedState===null?x$:k$,t=n(r,i),uu){s=0;do{if(uu=!1,Uu=0,25<=s)throw Error(O(301));s+=1,pt=it=null,e.updateQueue=null,nh.current=C$,t=n(r,i)}while(uu)}if(nh.current=Kh,e=it!==null&&it.next!==null,Js=0,pt=it=$e=null,Gh=!1,e)throw Error(O(300));return t}function Iw(){var t=Uu!==0;return Uu=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?$e.memoizedState=pt=t:pt=pt.next=t,pt}function Un(){if(it===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=pt===null?$e.memoizedState:pt.next;if(e!==null)pt=e,it=t;else{if(t===null)throw Error(O(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},pt===null?$e.memoizedState=pt=t:pt=pt.next=t}return pt}function ju(t,e){return typeof e=="function"?e(t):e}function wg(t){var e=Un(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Js&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,$e.lanes|=c,Xs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Jn(r,e.memoizedState)||(on=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,Xs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eg(t){var e=Un(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Jn(s,e.memoizedState)||(on=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function lk(){}function uk(t,e){var n=$e,r=Un(),i=e(),s=!Jn(r.memoizedState,i);if(s&&(r.memoizedState=i,on=!0),r=r.queue,bw(hk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Vu(9,dk.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(O(349));Js&30||ck(n,e,i)}return i}function ck(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dk(t,e,n,r){e.value=n,e.getSnapshot=r,fk(e)&&pk(t)}function hk(t,e,n){return n(function(){fk(e)&&pk(t)})}function fk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jn(t,n)}catch{return!0}}function pk(t){var e=Yr(t,1);e!==null&&Yn(e,t,1,-1)}function aS(t){var e=nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:t},e.queue=t,t=t.dispatch=T$.bind(null,$e,t),[e.memoizedState,t]}function Vu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mk(){return Un().memoizedState}function rh(t,e,n,r){var i=nr();$e.flags|=t,i.memoizedState=Vu(1|e,n,void 0,r===void 0?null:r)}function Jf(t,e,n,r){var i=Un();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&_w(r,o.deps)){i.memoizedState=Vu(e,n,s,r);return}}$e.flags|=t,i.memoizedState=Vu(1|e,n,s,r)}function lS(t,e){return rh(8390656,8,t,e)}function bw(t,e){return Jf(2048,8,t,e)}function gk(t,e){return Jf(4,2,t,e)}function yk(t,e){return Jf(4,4,t,e)}function vk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wk(t,e,n){return n=n!=null?n.concat([t]):null,Jf(4,4,vk.bind(null,e,t),n)}function Tw(){}function Ek(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_w(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _k(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_w(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Sk(t,e,n){return Js&21?(Jn(n,e)||(n=Tx(),$e.lanes|=n,Xs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,on=!0),t.memoizedState=n)}function I$(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=vg.transition;vg.transition={};try{t(!1),e()}finally{ye=n,vg.transition=r}}function Ik(){return Un().memoizedState}function b$(t,e,n){var r=$i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bk(t))Tk(e,n);else if(n=tk(t,e,n,r),n!==null){var i=Yt();Yn(n,t,r,i),xk(n,e,r)}}function T$(t,e,n){var r=$i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bk(t))Tk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,o)){var l=e.interleaved;l===null?(i.next=i,gw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=tk(t,e,i,r),n!==null&&(i=Yt(),Yn(n,t,r,i),xk(n,e,r))}}function bk(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function Tk(t,e){uu=Gh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nw(t,n)}}var Kh={readContext:Fn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},x$={readContext:Fn,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:lS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rh(4194308,4,vk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rh(4194308,4,t,e)},useInsertionEffect:function(t,e){return rh(4,2,t,e)},useMemo:function(t,e){var n=nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=b$.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:aS,useDebugValue:Tw,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=aS(!1),e=t[0];return t=I$.bind(null,t[1]),nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=nr();if(Re){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),gt===null)throw Error(O(349));Js&30||ck(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lS(hk.bind(null,r,s,t),[t]),r.flags|=2048,Vu(9,dk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=nr(),e=gt.identifierPrefix;if(Re){var n=Mr,r=$r;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=S$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},k$={readContext:Fn,useCallback:Ek,useContext:Fn,useEffect:bw,useImperativeHandle:wk,useInsertionEffect:gk,useLayoutEffect:yk,useMemo:_k,useReducer:wg,useRef:mk,useState:function(){return wg(ju)},useDebugValue:Tw,useDeferredValue:function(t){var e=Un();return Sk(e,it.memoizedState,t)},useTransition:function(){var t=wg(ju)[0],e=Un().memoizedState;return[t,e]},useMutableSource:lk,useSyncExternalStore:uk,useId:Ik,unstable_isNewReconciler:!1},C$={readContext:Fn,useCallback:Ek,useContext:Fn,useEffect:bw,useImperativeHandle:wk,useInsertionEffect:gk,useLayoutEffect:yk,useMemo:_k,useReducer:Eg,useRef:mk,useState:function(){return Eg(ju)},useDebugValue:Tw,useDeferredValue:function(t){var e=Un();return it===null?e.memoizedState=t:Sk(e,it.memoizedState,t)},useTransition:function(){var t=Eg(ju)[0],e=Un().memoizedState;return[t,e]},useMutableSource:lk,useSyncExternalStore:uk,useId:Ik,unstable_isNewReconciler:!1};function xa(t,e){try{var n="",r=e;do n+=nD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function _g(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P$=typeof WeakMap=="function"?WeakMap:Map;function kk(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qh||(Qh=!0,ov=r),Yy(t,e)},n}function Ck(t,e,n){n=Br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yy(t,e),typeof r!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=z$.bind(null,t,e,n),e.then(t,t))}function cS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,Oi(n,e,1))),n.lanes|=1),t)}var R$=ri.ReactCurrentOwner,on=!1;function Wt(t,e,n,r){e.child=t===null?ok(e,null,n,r):ba(e,t.child,n,r)}function hS(t,e,n,r,i){n=n.render;var s=e.ref;return oa(e,i),r=Sw(t,e,n,r,s,i),n=Iw(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Re&&n&&cw(e),e.flags|=1,Wt(t,e,r,i),e.child)}function fS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ow(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Pk(t,e,s,r,i)):(t=ah(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ou,n(o,r)&&t.ref===e.ref)return Jr(t,e,i)}return e.flags|=1,t=Mi(s,r),t.ref=e.ref,t.return=e,e.child=t}function Pk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ou(s,r)&&t.ref===e.ref)if(on=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(on=!0);else return e.lanes=t.lanes,Jr(t,e,i)}return Jy(t,e,n,r,i)}function Rk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Zo,gn),gn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Zo,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Zo,gn),gn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Se(Zo,gn),gn|=r;return Wt(t,e,i,n),e.child}function Ak(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jy(t,e,n,r,i){var s=dn(n)?Qs:qt.current;return s=Sa(e,s),oa(e,i),n=Sw(t,e,n,r,s,i),r=Iw(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Re&&r&&cw(e),e.flags|=1,Wt(t,e,n,i),e.child)}function pS(t,e,n,r,i){if(dn(n)){var s=!0;Uh(e)}else s=!1;if(oa(e,i),e.stateNode===null)ih(t,e),ik(e,n,r),Qy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fn(u):(u=dn(n)?Qs:qt.current,u=Sa(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&sS(e,o,r,u),vi=!1;var h=e.memoizedState;o.state=h,qh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||cn.current||vi?(typeof c=="function"&&(Hy(e,n,c,r),l=e.memoizedState),(a=vi||iS(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:qn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fn(l):(l=dn(n)?Qs:qt.current,l=Sa(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&sS(e,o,r,l),vi=!1,h=e.memoizedState,o.state=h,qh(e,r,o,i);var f=e.memoizedState;a!==d||h!==f||cn.current||vi?(typeof p=="function"&&(Hy(e,n,p,r),f=e.memoizedState),(u=vi||iS(e,n,u,r,h,f,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Xy(t,e,n,r,s,i)}function Xy(t,e,n,r,i,s){Ak(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Z_(e,n,!1),Jr(t,e,s);r=e.stateNode,R$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ba(e,t.child,null,s),e.child=ba(e,null,a,s)):Wt(t,e,a,s),e.memoizedState=r.state,i&&Z_(e,n,!0),e.child}function Nk(t){var e=t.stateNode;e.pendingContext?X_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X_(t,e.context,!1),vw(t,e.containerInfo)}function mS(t,e,n,r,i){return Ia(),hw(i),e.flags|=256,Wt(t,e,n,r),e.child}var Zy={dehydrated:null,treeContext:null,retryLane:0};function ev(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ok(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(De,i&1),t===null)return Gy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ep(o,r,0,null),t=Bs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ev(n),e.memoizedState=Zy,t):xw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return A$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Mi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Mi(a,s):(s=Bs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ev(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Zy,r}return s=t.child,t=s.sibling,r=Mi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xw(t,e){return e=ep({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cd(t,e,n,r){return r!==null&&hw(r),ba(e,t.child,null,n),t=xw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function A$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=_g(Error(O(422))),Cd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ep({mode:"visible",children:r.children},i,0,null),s=Bs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ba(e,t.child,null,o),e.child.memoizedState=ev(o),e.memoizedState=Zy,s);if(!(e.mode&1))return Cd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=_g(s,r,void 0),Cd(t,e,o,r)}if(a=(o&t.childLanes)!==0,on||a){if(r=gt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yr(t,i),Yn(r,t,i,-1))}return Nw(),r=_g(Error(O(421))),Cd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=q$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,wn=Ni(i.nextSibling),_n=e,Re=!0,Gn=null,t!==null&&(An[Nn++]=$r,An[Nn++]=Mr,An[Nn++]=Ys,$r=t.id,Mr=t.overflow,Ys=e),e=xw(e,r.children),e.flags|=4096,e)}function gS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ky(t.return,e,n)}function Sg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Dk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gS(t,n,e);else if(t.tag===19)gS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sg(e,!0,n,null,s);break;case"together":Sg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ih(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function N$(t,e,n){switch(e.tag){case 3:Nk(e),Ia();break;case 5:ak(e);break;case 1:dn(e.type)&&Uh(e);break;case 4:vw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(Bh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?Ok(t,e,n):(Se(De,De.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Se(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,Rk(t,e,n)}return Jr(t,e,n)}var $k,tv,Mk,Lk;$k=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tv=function(){};Mk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Os(vr.current);var s=null;switch(n){case"input":i=Iy(t,i),r=Iy(t,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=xy(t,i),r=xy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lh)}Cy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Lk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Cl(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function O$(t,e,n){var r=e.pendingProps;switch(dw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return dn(e.type)&&Fh(),Lt(e),null;case 3:return r=e.stateNode,Ta(),Te(cn),Te(qt),Ew(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(uv(Gn),Gn=null))),tv(t,e),Lt(e),null;case 5:ww(e);var i=Os(Fu.current);if(n=e.type,t!==null&&e.stateNode!=null)Mk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Lt(e),null}if(t=Os(vr.current),xd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sr]=e,r[Mu]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<Hl.length;i++)be(Hl[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":T_(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":k_(r,s),be("invalid",r)}Cy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Td(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Td(r.textContent,a,t),i=["children",""+a]):xu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":yd(r),x_(r,s,!0);break;case"textarea":yd(r),C_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Lh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[Mu]=r,$k(t,e,!1,!1),e.stateNode=t;e:{switch(o=Py(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hl.length;i++)be(Hl[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":T_(t,r),i=Iy(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),be("invalid",t);break;case"textarea":k_(t,r),i=xy(t,r),be("invalid",t);break;default:i=r}Cy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ku(t,l):typeof l=="number"&&ku(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",t):l!=null&&Y0(t,s,l,o))}switch(n){case"input":yd(t),x_(t,r,!1);break;case"textarea":yd(t),C_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?na(t,!!r.multiple,s,!1):r.defaultValue!=null&&na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Lh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)Lk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Os(Fu.current),Os(vr.current),xd(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(s=r.nodeValue!==n)&&(t=_n,t!==null))switch(t.tag){case 3:Td(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Td(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Lt(e),null;case 13:if(Te(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&wn!==null&&e.mode&1&&!(e.flags&128))ek(),Ia(),e.flags|=98560,s=!1;else if(s=xd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[sr]=e}else Ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else Gn!==null&&(uv(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?ot===0&&(ot=3):Nw())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Ta(),tv(t,e),t===null&&Du(e.stateNode.containerInfo),Lt(e),null;case 10:return mw(e.type._context),Lt(e),null;case 17:return dn(e.type)&&Fh(),Lt(e),null;case 19:if(Te(De),s=e.memoizedState,s===null)return Lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Cl(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wh(t),o!==null){for(e.flags|=128,Cl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>ka&&(e.flags|=128,r=!0,Cl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return Lt(e),null}else 2*qe()-s.renderingStartTime>ka&&n!==1073741824&&(e.flags|=128,r=!0,Cl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=De.current,Se(De,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return Aw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function D$(t,e){switch(dw(e),e.tag){case 1:return dn(e.type)&&Fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ta(),Te(cn),Te(qt),Ew(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ww(e),null;case 13:if(Te(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(De),null;case 4:return Ta(),null;case 10:return mw(e.type._context),null;case 22:case 23:return Aw(),null;case 24:return null;default:return null}}var Pd=!1,Vt=!1,$$=typeof WeakSet=="function"?WeakSet:Set,B=null;function Xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function nv(t,e,n){try{n()}catch(r){je(t,e,r)}}var yS=!1;function M$(t,e){if(Uy=Dh,t=Vx(),uw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jy={focusedElem:t,selectionRange:n},Dh=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var m=f.memoizedProps,E=f.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:qn(e.type,m),E);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){je(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return f=yS,yS=!1,f}function cu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nv(e,n,s)}i=i.next}while(i!==r)}}function Xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fk(t){var e=t.alternate;e!==null&&(t.alternate=null,Fk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[Mu],delete e[zy],delete e[v$],delete e[w$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Uk(t){return t.tag===5||t.tag===3||t.tag===4}function vS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lh));else if(r!==4&&(t=t.child,t!==null))for(iv(t,e,n),t=t.sibling;t!==null;)iv(t,e,n),t=t.sibling}function sv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sv(t,e,n),t=t.sibling;t!==null;)sv(t,e,n),t=t.sibling}var Tt=null,Wn=!1;function ci(t,e,n){for(n=n.child;n!==null;)jk(t,e,n),n=n.sibling}function jk(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(qf,n)}catch{}switch(n.tag){case 5:Vt||Xo(n,e);case 6:var r=Tt,i=Wn;Tt=null,ci(t,e,n),Tt=r,Wn=i,Tt!==null&&(Wn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Wn?(t=Tt,n=n.stateNode,t.nodeType===8?mg(t.parentNode,n):t.nodeType===1&&mg(t,n),Au(t)):mg(Tt,n.stateNode));break;case 4:r=Tt,i=Wn,Tt=n.stateNode.containerInfo,Wn=!0,ci(t,e,n),Tt=r,Wn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&nv(n,e,o),i=i.next}while(i!==r)}ci(t,e,n);break;case 1:if(!Vt&&(Xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,e,a)}ci(t,e,n);break;case 21:ci(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,ci(t,e,n),Vt=r):ci(t,e,n);break;default:ci(t,e,n)}}function wS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $$),e.forEach(function(r){var i=W$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,Wn=!1;break e;case 3:Tt=a.stateNode.containerInfo,Wn=!0;break e;case 4:Tt=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(Tt===null)throw Error(O(160));jk(s,o,i),Tt=null,Wn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){je(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vk(e,t),e=e.sibling}function Vk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),tr(t),r&4){try{cu(3,t,t.return),Xf(3,t)}catch(m){je(t,t.return,m)}try{cu(5,t,t.return)}catch(m){je(t,t.return,m)}}break;case 1:zn(e,t),tr(t),r&512&&n!==null&&Xo(n,n.return);break;case 5:if(zn(e,t),tr(t),r&512&&n!==null&&Xo(n,n.return),t.flags&32){var i=t.stateNode;try{ku(i,"")}catch(m){je(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lx(i,s),Py(a,o);var u=Py(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?fx(i,d):c==="dangerouslySetInnerHTML"?dx(i,d):c==="children"?ku(i,d):Y0(i,c,d,u)}switch(a){case"input":by(i,s);break;case"textarea":ux(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?na(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?na(i,!!s.multiple,s.defaultValue,!0):na(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mu]=s}catch(m){je(t,t.return,m)}}break;case 6:if(zn(e,t),tr(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){je(t,t.return,m)}}break;case 3:if(zn(e,t),tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(e.containerInfo)}catch(m){je(t,t.return,m)}break;case 4:zn(e,t),tr(t);break;case 13:zn(e,t),tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pw=qe())),r&4&&wS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||c,zn(e,t),Vt=u):zn(e,t),tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(d=B=c;B!==null;){switch(h=B,p=h.child,h.tag){case 0:case 11:case 14:case 15:cu(4,h,h.return);break;case 1:Xo(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(m){je(r,n,m)}}break;case 5:Xo(h,h.return);break;case 22:if(h.memoizedState!==null){_S(d);continue}}p!==null?(p.return=h,B=p):_S(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hx("display",o))}catch(m){je(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){je(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:zn(e,t),tr(t),r&4&&wS(t);break;case 21:break;default:zn(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Uk(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ku(i,""),r.flags&=-33);var s=vS(t);sv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vS(t);iv(t,a,o);break;default:throw Error(O(161))}}catch(l){je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function L$(t,e,n){B=t,Bk(t)}function Bk(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Pd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Pd;var u=Vt;if(Pd=o,(Vt=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?SS(i):l!==null?(l.return=o,B=l):SS(i);for(;s!==null;)B=s,Bk(s),s=s.sibling;B=i,Pd=a,Vt=u}ES(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):ES(t)}}function ES(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Au(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Vt||e.flags&512&&rv(e)}catch(h){je(e,e.return,h)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function _S(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function SS(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xf(4,e)}catch(l){je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){je(e,i,l)}}var s=e.return;try{rv(e)}catch(l){je(e,s,l)}break;case 5:var o=e.return;try{rv(e)}catch(l){je(e,o,l)}}}catch(l){je(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var F$=Math.ceil,Hh=ri.ReactCurrentDispatcher,kw=ri.ReactCurrentOwner,Mn=ri.ReactCurrentBatchConfig,ue=0,gt=null,Ze=null,Pt=0,gn=0,Zo=ss(0),ot=0,Bu=null,Xs=0,Zf=0,Cw=0,du=null,rn=null,Pw=0,ka=1/0,Or=null,Qh=!1,ov=null,Di=null,Rd=!1,Ti=null,Yh=0,hu=0,av=null,sh=-1,oh=0;function Yt(){return ue&6?qe():sh!==-1?sh:sh=qe()}function $i(t){return t.mode&1?ue&2&&Pt!==0?Pt&-Pt:_$.transition!==null?(oh===0&&(oh=Tx()),oh):(t=ye,t!==0||(t=window.event,t=t===void 0?16:Nx(t.type)),t):1}function Yn(t,e,n,r){if(50<hu)throw hu=0,av=null,Error(O(185));Rc(t,n,r),(!(ue&2)||t!==gt)&&(t===gt&&(!(ue&2)&&(Zf|=n),ot===4&&Ei(t,Pt)),hn(t,r),n===1&&ue===0&&!(e.mode&1)&&(ka=qe()+500,Qf&&os()))}function hn(t,e){var n=t.callbackNode;_D(t,e);var r=Oh(t,t===gt?Pt:0);if(r===0)n!==null&&A_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&A_(n),e===1)t.tag===0?E$(IS.bind(null,t)):Jx(IS.bind(null,t)),g$(function(){!(ue&6)&&os()}),n=null;else{switch(xx(r)){case 1:n=tw;break;case 4:n=Ix;break;case 16:n=Nh;break;case 536870912:n=bx;break;default:n=Nh}n=Yk(n,zk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zk(t,e){if(sh=-1,oh=0,ue&6)throw Error(O(327));var n=t.callbackNode;if(aa()&&t.callbackNode!==n)return null;var r=Oh(t,t===gt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jh(t,r);else{e=r;var i=ue;ue|=2;var s=Wk();(gt!==t||Pt!==e)&&(Or=null,ka=qe()+500,Vs(t,e));do try{V$();break}catch(a){qk(t,a)}while(1);pw(),Hh.current=s,ue=i,Ze!==null?e=0:(gt=null,Pt=0,e=ot)}if(e!==0){if(e===2&&(i=Dy(t),i!==0&&(r=i,e=lv(t,i))),e===1)throw n=Bu,Vs(t,0),Ei(t,r),hn(t,qe()),n;if(e===6)Ei(t,r);else{if(i=t.current.alternate,!(r&30)&&!U$(i)&&(e=Jh(t,r),e===2&&(s=Dy(t),s!==0&&(r=s,e=lv(t,s))),e===1))throw n=Bu,Vs(t,0),Ei(t,r),hn(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:vs(t,rn,Or);break;case 3:if(Ei(t,r),(r&130023424)===r&&(e=Pw+500-qe(),10<e)){if(Oh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=By(vs.bind(null,t,rn,Or),e);break}vs(t,rn,Or);break;case 4:if(Ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Qn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F$(r/1960))-r,10<r){t.timeoutHandle=By(vs.bind(null,t,rn,Or),r);break}vs(t,rn,Or);break;case 5:vs(t,rn,Or);break;default:throw Error(O(329))}}}return hn(t,qe()),t.callbackNode===n?zk.bind(null,t):null}function lv(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(Vs(t,e).flags|=256),t=Jh(t,e),t!==2&&(e=rn,rn=n,e!==null&&uv(e)),t}function uv(t){rn===null?rn=t:rn.push.apply(rn,t)}function U$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ei(t,e){for(e&=~Cw,e&=~Zf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qn(e),r=1<<n;t[n]=-1,e&=~r}}function IS(t){if(ue&6)throw Error(O(327));aa();var e=Oh(t,0);if(!(e&1))return hn(t,qe()),null;var n=Jh(t,e);if(t.tag!==0&&n===2){var r=Dy(t);r!==0&&(e=r,n=lv(t,r))}if(n===1)throw n=Bu,Vs(t,0),Ei(t,e),hn(t,qe()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vs(t,rn,Or),hn(t,qe()),null}function Rw(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(ka=qe()+500,Qf&&os())}}function Zs(t){Ti!==null&&Ti.tag===0&&!(ue&6)&&aa();var e=ue;ue|=1;var n=Mn.transition,r=ye;try{if(Mn.transition=null,ye=1,t)return t()}finally{ye=r,Mn.transition=n,ue=e,!(ue&6)&&os()}}function Aw(){gn=Zo.current,Te(Zo)}function Vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,m$(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(dw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fh();break;case 3:Ta(),Te(cn),Te(qt),Ew();break;case 5:ww(r);break;case 4:Ta();break;case 13:Te(De);break;case 19:Te(De);break;case 10:mw(r.type._context);break;case 22:case 23:Aw()}n=n.return}if(gt=t,Ze=t=Mi(t.current,null),Pt=gn=e,ot=0,Bu=null,Cw=Zf=Xs=0,rn=du=null,Ns!==null){for(e=0;e<Ns.length;e++)if(n=Ns[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ns=null}return t}function qk(t,e){do{var n=Ze;try{if(pw(),nh.current=Kh,Gh){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gh=!1}if(Js=0,pt=it=$e=null,uu=!1,Uu=0,kw.current=null,n===null||n.return===null){ot=1,Bu=e,Ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=cS(o);if(p!==null){p.flags&=-257,dS(p,o,a,s,e),p.mode&1&&uS(s,u,e),e=p,l=u;var f=e.updateQueue;if(f===null){var m=new Set;m.add(l),e.updateQueue=m}else f.add(l);break e}else{if(!(e&1)){uS(s,u,e),Nw();break e}l=Error(O(426))}}else if(Re&&a.mode&1){var E=cS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),dS(E,o,a,s,e),hw(xa(l,a));break e}}s=l=xa(l,a),ot!==4&&(ot=2),du===null?du=[s]:du.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=kk(s,l,e);nS(s,y);break e;case 1:a=l;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Di===null||!Di.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Ck(s,a,e);nS(s,w);break e}}s=s.return}while(s!==null)}Kk(n)}catch(S){e=S,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(1)}function Wk(){var t=Hh.current;return Hh.current=Kh,t===null?Kh:t}function Nw(){(ot===0||ot===3||ot===2)&&(ot=4),gt===null||!(Xs&268435455)&&!(Zf&268435455)||Ei(gt,Pt)}function Jh(t,e){var n=ue;ue|=2;var r=Wk();(gt!==t||Pt!==e)&&(Or=null,Vs(t,e));do try{j$();break}catch(i){qk(t,i)}while(1);if(pw(),ue=n,Hh.current=r,Ze!==null)throw Error(O(261));return gt=null,Pt=0,ot}function j$(){for(;Ze!==null;)Gk(Ze)}function V$(){for(;Ze!==null&&!hD();)Gk(Ze)}function Gk(t){var e=Qk(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?Kk(t):Ze=e,kw.current=null}function Kk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=D$(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,Ze=null;return}}else if(n=O$(n,e,gn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);ot===0&&(ot=5)}function vs(t,e,n){var r=ye,i=Mn.transition;try{Mn.transition=null,ye=1,B$(t,e,n,r)}finally{Mn.transition=i,ye=r}return null}function B$(t,e,n,r){do aa();while(Ti!==null);if(ue&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(SD(t,s),t===gt&&(Ze=gt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rd||(Rd=!0,Yk(Nh,function(){return aa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Mn.transition,Mn.transition=null;var o=ye;ye=1;var a=ue;ue|=4,kw.current=null,M$(t,n),Vk(n,t),l$(jy),Dh=!!Uy,jy=Uy=null,t.current=n,L$(n),fD(),ue=a,ye=o,Mn.transition=s}else t.current=n;if(Rd&&(Rd=!1,Ti=t,Yh=i),s=t.pendingLanes,s===0&&(Di=null),gD(n.stateNode),hn(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qh)throw Qh=!1,t=ov,ov=null,t;return Yh&1&&t.tag!==0&&aa(),s=t.pendingLanes,s&1?t===av?hu++:(hu=0,av=t):hu=0,os(),null}function aa(){if(Ti!==null){var t=xx(Yh),e=Mn.transition,n=ye;try{if(Mn.transition=null,ye=16>t?16:t,Ti===null)var r=!1;else{if(t=Ti,Ti=null,Yh=0,ue&6)throw Error(O(331));var i=ue;for(ue|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:cu(8,c,s)}var d=c.child;if(d!==null)d.return=c,B=d;else for(;B!==null;){c=B;var h=c.sibling,p=c.return;if(Fk(c),c===u){B=null;break}if(h!==null){h.return=p,B=h;break}B=p}}}var f=s.alternate;if(f!==null){var m=f.child;if(m!==null){f.child=null;do{var E=m.sibling;m.sibling=null,m=E}while(m!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,B=y;break e}B=s.return}}var g=t.current;for(B=g;B!==null;){o=B;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,B=v;else e:for(o=g;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xf(9,a)}}catch(S){je(a,a.return,S)}if(a===o){B=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,B=w;break e}B=a.return}}if(ue=i,os(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(qf,t)}catch{}r=!0}return r}finally{ye=n,Mn.transition=e}}return!1}function bS(t,e,n){e=xa(n,e),e=kk(t,e,1),t=Oi(t,e,1),e=Yt(),t!==null&&(Rc(t,1,e),hn(t,e))}function je(t,e,n){if(t.tag===3)bS(t,t,n);else for(;e!==null;){if(e.tag===3){bS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Di===null||!Di.has(r))){t=xa(n,t),t=Ck(e,t,1),e=Oi(e,t,1),t=Yt(),e!==null&&(Rc(e,1,t),hn(e,t));break}}e=e.return}}function z$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(Pt&n)===n&&(ot===4||ot===3&&(Pt&130023424)===Pt&&500>qe()-Pw?Vs(t,0):Cw|=n),hn(t,e)}function Hk(t,e){e===0&&(t.mode&1?(e=Ed,Ed<<=1,!(Ed&130023424)&&(Ed=4194304)):e=1);var n=Yt();t=Yr(t,e),t!==null&&(Rc(t,e,n),hn(t,n))}function q$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Hk(t,n)}function W$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),Hk(t,n)}var Qk;Qk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)on=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return on=!1,N$(t,e,n);on=!!(t.flags&131072)}else on=!1,Re&&e.flags&1048576&&Xx(e,Vh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ih(t,e),t=e.pendingProps;var i=Sa(e,qt.current);oa(e,n),i=Sw(null,e,r,t,i,n);var s=Iw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(s=!0,Uh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yw(e),i.updater=Yf,e.stateNode=i,i._reactInternals=e,Qy(e,r,t,n),e=Xy(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&cw(e),Wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ih(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=K$(r),t=qn(r,t),i){case 0:e=Jy(null,e,r,t,n);break e;case 1:e=pS(null,e,r,t,n);break e;case 11:e=hS(null,e,r,t,n);break e;case 14:e=fS(null,e,r,qn(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),Jy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),pS(t,e,r,i,n);case 3:e:{if(Nk(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,nk(t,e),qh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xa(Error(O(423)),e),e=mS(t,e,r,n,i);break e}else if(r!==i){i=xa(Error(O(424)),e),e=mS(t,e,r,n,i);break e}else for(wn=Ni(e.stateNode.containerInfo.firstChild),_n=e,Re=!0,Gn=null,n=ok(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ia(),r===i){e=Jr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return ak(e),t===null&&Gy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vy(r,i)?o=null:s!==null&&Vy(r,s)&&(e.flags|=32),Ak(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&Gy(e),null;case 13:return Ok(t,e,n);case 4:return vw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ba(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),hS(t,e,r,i,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Se(Bh,r._currentValue),r._currentValue=o,s!==null)if(Jn(s.value,o)){if(s.children===i.children&&!cn.current){e=Jr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Br(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ky(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ky(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oa(e,n),i=Fn(i),r=r(i),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,i=qn(r,e.pendingProps),i=qn(r.type,i),fS(t,e,r,i,n);case 15:return Pk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qn(r,i),ih(t,e),e.tag=1,dn(r)?(t=!0,Uh(e)):t=!1,oa(e,n),ik(e,r,i),Qy(e,r,i,n),Xy(null,e,r,!0,t,n);case 19:return Dk(t,e,n);case 22:return Rk(t,e,n)}throw Error(O(156,e.tag))};function Yk(t,e){return Sx(t,e)}function G$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,r){return new G$(t,e,n,r)}function Ow(t){return t=t.prototype,!(!t||!t.isReactComponent)}function K$(t){if(typeof t=="function")return Ow(t)?1:0;if(t!=null){if(t=t.$$typeof,t===X0)return 11;if(t===Z0)return 14}return 2}function Mi(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ah(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ow(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zo:return Bs(n.children,i,s,e);case J0:o=8,i|=8;break;case wy:return t=Dn(12,n,e,i|2),t.elementType=wy,t.lanes=s,t;case Ey:return t=Dn(13,n,e,i),t.elementType=Ey,t.lanes=s,t;case _y:return t=Dn(19,n,e,i),t.elementType=_y,t.lanes=s,t;case sx:return ep(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rx:o=10;break e;case ix:o=9;break e;case X0:o=11;break e;case Z0:o=14;break e;case yi:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Bs(t,e,n,r){return t=Dn(7,t,r,e),t.lanes=n,t}function ep(t,e,n,r){return t=Dn(22,t,r,e),t.elementType=sx,t.lanes=n,t.stateNode={isHidden:!1},t}function Ig(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function bg(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function H$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ig(0),this.expirationTimes=ig(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ig(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dw(t,e,n,r,i,s,o,a,l){return t=new H$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yw(s),t}function Q$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Jk(t){if(!t)return Vi;t=t._reactInternals;e:{if(yo(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(dn(n))return Yx(t,n,e)}return e}function Xk(t,e,n,r,i,s,o,a,l){return t=Dw(n,r,!0,t,i,s,o,a,l),t.context=Jk(null),n=t.current,r=Yt(),i=$i(n),s=Br(r,i),s.callback=e??null,Oi(n,s,i),t.current.lanes=i,Rc(t,i,r),hn(t,r),t}function tp(t,e,n,r){var i=e.current,s=Yt(),o=$i(i);return n=Jk(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Oi(i,e,o),t!==null&&(Yn(t,i,o,s),th(t,i,o)),o}function Xh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $w(t,e){TS(t,e),(t=t.alternate)&&TS(t,e)}function Y$(){return null}var Zk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mw(t){this._internalRoot=t}np.prototype.render=Mw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));tp(t,e,null,null)};np.prototype.unmount=Mw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){tp(null,t,null,null)}),e[Qr]=null}};function np(t){this._internalRoot=t}np.prototype.unstable_scheduleHydration=function(t){if(t){var e=Px();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&Ax(t)}};function Lw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xS(){}function J$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Xh(o);s.call(u)}}var o=Xk(e,r,t,0,null,!1,!1,"",xS);return t._reactRootContainer=o,t[Qr]=o.current,Du(t.nodeType===8?t.parentNode:t),Zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xh(l);a.call(u)}}var l=Dw(t,0,!1,null,null,!1,!1,"",xS);return t._reactRootContainer=l,t[Qr]=l.current,Du(t.nodeType===8?t.parentNode:t),Zs(function(){tp(e,l,n,r)}),l}function ip(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xh(o);a.call(l)}}tp(e,o,t,i)}else o=J$(n,e,t,i,r);return Xh(o)}kx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kl(e.pendingLanes);n!==0&&(nw(e,n|1),hn(e,qe()),!(ue&6)&&(ka=qe()+500,os()))}break;case 13:Zs(function(){var r=Yr(t,1);if(r!==null){var i=Yt();Yn(r,t,1,i)}}),$w(t,1)}};rw=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=Yt();Yn(e,t,134217728,n)}$w(t,134217728)}};Cx=function(t){if(t.tag===13){var e=$i(t),n=Yr(t,e);if(n!==null){var r=Yt();Yn(n,t,e,r)}$w(t,e)}};Px=function(){return ye};Rx=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Ay=function(t,e,n){switch(e){case"input":if(by(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hf(r);if(!i)throw Error(O(90));ax(r),by(r,i)}}}break;case"textarea":ux(t,n);break;case"select":e=n.value,e!=null&&na(t,!!n.multiple,e,!1)}};gx=Rw;yx=Zs;var X$={usingClientEntryPoint:!1,Events:[Nc,Ko,Hf,px,mx,Rw]},Pl={findFiberByHostInstance:As,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Z$={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ex(t),t===null?null:t.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||Y$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{qf=Ad.inject(Z$),yr=Ad}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X$;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lw(e))throw Error(O(200));return Q$(t,e,null,n)};kn.createRoot=function(t,e){if(!Lw(t))throw Error(O(299));var n=!1,r="",i=Zk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dw(t,1,!1,null,null,n,!1,r,i),t[Qr]=e.current,Du(t.nodeType===8?t.parentNode:t),new Mw(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Ex(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return Zs(t)};kn.hydrate=function(t,e,n){if(!rp(e))throw Error(O(200));return ip(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!Lw(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Zk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Xk(e,null,t,1,n??null,i,!1,s,o),t[Qr]=e.current,Du(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new np(e)};kn.render=function(t,e,n){if(!rp(e))throw Error(O(200));return ip(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!rp(t))throw Error(O(40));return t._reactRootContainer?(Zs(function(){ip(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};kn.unstable_batchedUpdates=Rw;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rp(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return ip(t,e,n,!1,r)};kn.version="18.2.0-next-9e3b772b8-20220608";function eC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eC)}catch(t){console.error(t)}}eC(),XT.exports=kn;var sp=XT.exports;const Nd=Cc(sp);var kS=sp;yy.createRoot=kS.createRoot,yy.hydrateRoot=kS.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}var xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xi||(xi={}));const CS="popstate";function eM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return cv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tC(i)}return nM(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tM(){return Math.random().toString(36).substr(2,8)}function PS(t,e){return{usr:t.state,key:t.key,idx:e}}function cv(t,e,n,r){return n===void 0&&(n=null),zu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ja(e):e,{state:n,key:e&&e.key||r||tM()})}function tC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ja(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=xi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(zu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=xi.Pop;let E=c(),y=E==null?null:E-u;u=E,l&&l({action:a,location:m.location,delta:y})}function h(E,y){a=xi.Push;let g=cv(m.location,E,y);n&&n(g,E),u=c()+1;let v=PS(g,u),w=m.createHref(g);try{o.pushState(v,"",w)}catch{i.location.assign(w)}s&&l&&l({action:a,location:m.location,delta:1})}function p(E,y){a=xi.Replace;let g=cv(m.location,E,y);n&&n(g,E),u=c();let v=PS(g,u),w=m.createHref(g);o.replaceState(v,"",w),s&&l&&l({action:a,location:m.location,delta:0})}function f(E){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof E=="string"?E:tC(E);return at(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let m={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(CS,d),l=E,()=>{i.removeEventListener(CS,d),l=null}},createHref(E){return e(i,E)},createURL:f,encodeLocation(E){let y=f(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(E){return o.go(E)}};return m}var RS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(RS||(RS={}));function rM(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ja(e):e,i=iC(r.pathname||"/",n);if(i==null)return null;let s=nC(t);iM(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=fM(s[a],gM(i));return o}function nC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zs([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(at(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nC(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:dM(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of rC(s.path))i(s,o,l)}),e}function rC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=rC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sM=/^:\w+$/,oM=3,aM=2,lM=1,uM=10,cM=-2,AS=t=>t==="*";function dM(t,e){let n=t.split("/"),r=n.length;return n.some(AS)&&(r+=cM),e&&(r+=aM),n.filter(i=>!AS(i)).reduce((i,s)=>i+(sM.test(s)?oM:s===""?lM:uM),r)}function hM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fM(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=pM({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:zs([i,c.pathname]),pathnameBase:SM(zs([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=zs([i,c.pathnameBase]))}return s}function pM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=yM(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function mM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Fw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gM(t){try{return decodeURI(t)}catch(e){return Fw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yM(t,e){try{return decodeURIComponent(t)}catch(n){return Fw(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function iC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ja(t):t;return{pathname:n?n.startsWith("/")?n:wM(n,e):e,search:IM(r),hash:bM(i)}}function wM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _M(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ja(t):(i=zu({},t),at(!i.pathname||!i.pathname.includes("?"),Tg("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),Tg("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),Tg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=vM(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const zs=t=>t.join("/").replace(/\/\/+/g,"/"),SM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sC=["post","put","patch","delete"];new Set(sC);const xM=["get",...sC];new Set(xM);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}const Uw=_.createContext(null),kM=_.createContext(null),op=_.createContext(null),ap=_.createContext(null),Xa=_.createContext({outlet:null,matches:[],isDataRoute:!1}),oC=_.createContext(null);function lp(){return _.useContext(ap)!=null}function aC(){return lp()||at(!1),_.useContext(ap).location}function lC(t){_.useContext(op).static||_.useLayoutEffect(t)}function CM(){let{isDataRoute:t}=_.useContext(Xa);return t?VM():PM()}function PM(){lp()||at(!1);let t=_.useContext(Uw),{basename:e,navigator:n}=_.useContext(op),{matches:r}=_.useContext(Xa),{pathname:i}=aC(),s=JSON.stringify(EM(r).map(l=>l.pathnameBase)),o=_.useRef(!1);return lC(()=>{o.current=!0}),_.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=_M(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:zs([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function RM(t,e){return AM(t,e)}function AM(t,e,n){lp()||at(!1);let{navigator:r}=_.useContext(op),{matches:i}=_.useContext(Xa),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=aC(),u;if(e){var c;let m=typeof e=="string"?Ja(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||at(!1),u=m}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",p=rM(t,{pathname:h}),f=MM(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:zs([a,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:zs([a,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n);return e&&f?_.createElement(ap.Provider,{value:{location:Zh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xi.Pop}},f):f}function NM(){let t=jM(),e=TM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,s)}const OM=_.createElement(NM,null);class DM extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?_.createElement(Xa.Provider,{value:this.props.routeContext},_.createElement(oC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $M(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(Uw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Xa.Provider,{value:e},r)}function MM(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||at(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||OM);let h=e.concat(s.slice(0,u+1)),p=()=>{let f;return c?f=d:l.route.Component?f=_.createElement(l.route.Component,null):l.route.element?f=l.route.element:f=a,_.createElement($M,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:f})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?_.createElement(DM,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var dv;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(dv||(dv={}));var qu;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(qu||(qu={}));function LM(t){let e=_.useContext(Uw);return e||at(!1),e}function FM(t){let e=_.useContext(kM);return e||at(!1),e}function UM(t){let e=_.useContext(Xa);return e||at(!1),e}function uC(t){let e=UM(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function jM(){var t;let e=_.useContext(oC),n=FM(qu.UseRouteError),r=uC(qu.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function VM(){let{router:t}=LM(dv.UseNavigateStable),e=uC(qu.UseNavigateStable),n=_.useRef(!1);return lC(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zh({fromRouteId:e},s)))},[t,e])}function hv(t){at(!1)}function BM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xi.Pop,navigator:s,static:o=!1}=t;lp()&&at(!1);let a=e.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ja(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=r,f=_.useMemo(()=>{let m=iC(u,a);return m==null?null:{location:{pathname:m,search:c,hash:d,state:h,key:p},navigationType:i}},[a,u,c,d,h,p,i]);return f==null?null:_.createElement(op.Provider,{value:l},_.createElement(ap.Provider,{children:n,value:f}))}function zM(t){let{children:e,location:n}=t;return RM(fv(e),n)}var NS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(NS||(NS={}));new Promise(()=>{});function fv(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,fv(r.props.children,s));return}r.type!==hv&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qM(t){let{basename:e,children:n,window:r}=t,i=_.useRef();i.current==null&&(i.current=eM({window:r,v5Compat:!0}));let s=i.current,[o,a]=_.useState({action:s.action,location:s.location});return _.useLayoutEffect(()=>s.listen(a),[s]),_.createElement(BM,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var OS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(OS||(OS={}));var DS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DS||(DS={}));function cC(){const[t,e]=_.useState(!1),n=CM(),r=()=>{window.scrollY>100?e(!0):e(!1)};return _.useEffect(()=>(window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)),[]),x.jsx("div",{className:`nav fixed top-0 p-[20px] w-full h-[65px] ease-in  transition-all duration-[0.8s] z-[1] ${t&&"bg-black"}`,children:x.jsxs("div",{className:" flex justify-between ",children:[x.jsx("img",{onClick:()=>n("/"),className:" fixed left-0 cursor-pointer pl-[20px] w-[80px] top-[13px] object-contain",src:"/Netflix.png",alt:""}),x.jsx("img",{onClick:()=>n("/profile"),className:" fixed right-[20px] w-[30px] cursor-pointer",src:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png",alt:""})]})})}function dC(t,e){return function(){return t.apply(e,arguments)}}const{toString:WM}=Object.prototype,{getPrototypeOf:jw}=Object,up=(t=>e=>{const n=WM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cr=t=>(t=t.toLowerCase(),e=>up(e)===t),cp=t=>e=>typeof e===t,{isArray:Za}=Array,Wu=cp("undefined");function GM(t){return t!==null&&!Wu(t)&&t.constructor!==null&&!Wu(t.constructor)&&Ln(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const hC=Cr("ArrayBuffer");function KM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&hC(t.buffer),e}const HM=cp("string"),Ln=cp("function"),fC=cp("number"),dp=t=>t!==null&&typeof t=="object",QM=t=>t===!0||t===!1,lh=t=>{if(up(t)!=="object")return!1;const e=jw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},YM=Cr("Date"),JM=Cr("File"),XM=Cr("Blob"),ZM=Cr("FileList"),eL=t=>dp(t)&&Ln(t.pipe),tL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ln(t.append)&&((e=up(t))==="formdata"||e==="object"&&Ln(t.toString)&&t.toString()==="[object FormData]"))},nL=Cr("URLSearchParams"),rL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Za(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function pC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const mC=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),gC=t=>!Wu(t)&&t!==mC;function pv(){const{caseless:t}=gC(this)&&this||{},e={},n=(r,i)=>{const s=t&&pC(e,i)||i;lh(e[s])&&lh(r)?e[s]=pv(e[s],r):lh(r)?e[s]=pv({},r):Za(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Dc(arguments[r],n);return e}const iL=(t,e,n,{allOwnKeys:r}={})=>(Dc(e,(i,s)=>{n&&Ln(i)?t[s]=dC(i,n):t[s]=i},{allOwnKeys:r}),t),sL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),oL=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},aL=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&jw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},lL=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},uL=t=>{if(!t)return null;if(Za(t))return t;let e=t.length;if(!fC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},cL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&jw(Uint8Array)),dL=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},hL=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},fL=Cr("HTMLFormElement"),pL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),$S=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),mL=Cr("RegExp"),yC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Dc(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},gL=t=>{yC(t,(e,n)=>{if(Ln(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ln(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},yL=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Za(t)?r(t):r(String(t).split(e)),n},vL=()=>{},wL=(t,e)=>(t=+t,Number.isFinite(t)?t:e),xg="abcdefghijklmnopqrstuvwxyz",MS="0123456789",vC={DIGIT:MS,ALPHA:xg,ALPHA_DIGIT:xg+xg.toUpperCase()+MS},EL=(t=16,e=vC.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function _L(t){return!!(t&&Ln(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const SL=t=>{const e=new Array(10),n=(r,i)=>{if(dp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Za(r)?[]:{};return Dc(r,(o,a)=>{const l=n(o,i+1);!Wu(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},IL=Cr("AsyncFunction"),bL=t=>t&&(dp(t)||Ln(t))&&Ln(t.then)&&Ln(t.catch),C={isArray:Za,isArrayBuffer:hC,isBuffer:GM,isFormData:tL,isArrayBufferView:KM,isString:HM,isNumber:fC,isBoolean:QM,isObject:dp,isPlainObject:lh,isUndefined:Wu,isDate:YM,isFile:JM,isBlob:XM,isRegExp:mL,isFunction:Ln,isStream:eL,isURLSearchParams:nL,isTypedArray:cL,isFileList:ZM,forEach:Dc,merge:pv,extend:iL,trim:rL,stripBOM:sL,inherits:oL,toFlatObject:aL,kindOf:up,kindOfTest:Cr,endsWith:lL,toArray:uL,forEachEntry:dL,matchAll:hL,isHTMLForm:fL,hasOwnProperty:$S,hasOwnProp:$S,reduceDescriptors:yC,freezeMethods:gL,toObjectSet:yL,toCamelCase:pL,noop:vL,toFiniteNumber:wL,findKey:pC,global:mC,isContextDefined:gC,ALPHABET:vC,generateString:EL,isSpecCompliantForm:_L,toJSONObject:SL,isAsyncFn:IL,isThenable:bL};function le(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}C.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const wC=le.prototype,EC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{EC[t]={value:t}});Object.defineProperties(le,EC);Object.defineProperty(wC,"isAxiosError",{value:!0});le.from=(t,e,n,r,i,s)=>{const o=Object.create(wC);return C.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),le.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const TL=null;function mv(t){return C.isPlainObject(t)||C.isArray(t)}function _C(t){return C.endsWith(t,"[]")?t.slice(0,-2):t}function LS(t,e,n){return t?t.concat(e).map(function(i,s){return i=_C(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function xL(t){return C.isArray(t)&&!t.some(mv)}const kL=C.toFlatObject(C,{},null,function(e){return/^is[A-Z]/.test(e)});function hp(t,e,n){if(!C.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,E){return!C.isUndefined(E[m])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(e);if(!C.isFunction(i))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(C.isDate(f))return f.toISOString();if(!l&&C.isBlob(f))throw new le("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(f)||C.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,m,E){let y=f;if(f&&!E&&typeof f=="object"){if(C.endsWith(m,"{}"))m=r?m:m.slice(0,-2),f=JSON.stringify(f);else if(C.isArray(f)&&xL(f)||(C.isFileList(f)||C.endsWith(m,"[]"))&&(y=C.toArray(f)))return m=_C(m),y.forEach(function(v,w){!(C.isUndefined(v)||v===null)&&e.append(o===!0?LS([m],w,s):o===null?m:m+"[]",u(v))}),!1}return mv(f)?!0:(e.append(LS(E,m,s),u(f)),!1)}const d=[],h=Object.assign(kL,{defaultVisitor:c,convertValue:u,isVisitable:mv});function p(f,m){if(!C.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(f),C.forEach(f,function(y,g){(!(C.isUndefined(y)||y===null)&&i.call(e,y,C.isString(g)?g.trim():g,m,h))===!0&&p(y,m?m.concat(g):[g])}),d.pop()}}if(!C.isObject(t))throw new TypeError("data must be an object");return p(t),e}function FS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Vw(t,e){this._pairs=[],t&&hp(t,this,e)}const SC=Vw.prototype;SC.append=function(e,n){this._pairs.push([e,n])};SC.toString=function(e){const n=e?function(r){return e.call(this,r,FS)}:FS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function CL(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function IC(t,e,n){if(!e)return t;const r=n&&n.encode||CL,i=n&&n.serialize;let s;if(i?s=i(e,n):s=C.isURLSearchParams(e)?e.toString():new Vw(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class PL{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){C.forEach(this.handlers,function(r){r!==null&&e(r)})}}const US=PL,bC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RL=typeof URLSearchParams<"u"?URLSearchParams:Vw,AL=typeof FormData<"u"?FormData:null,NL=typeof Blob<"u"?Blob:null,OL=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),DL=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),hr={isBrowser:!0,classes:{URLSearchParams:RL,FormData:AL,Blob:NL},isStandardBrowserEnv:OL,isStandardBrowserWebWorkerEnv:DL,protocols:["http","https","file","blob","url","data"]};function $L(t,e){return hp(t,new hr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return hr.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ML(t){return C.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function LL(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function TC(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&C.isArray(i)?i.length:o,l?(C.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!C.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&C.isArray(i[o])&&(i[o]=LL(i[o])),!a)}if(C.isFormData(t)&&C.isFunction(t.entries)){const n={};return C.forEachEntry(t,(r,i)=>{e(ML(r),i,n,0)}),n}return null}const FL={"Content-Type":void 0};function UL(t,e,n){if(C.isString(t))try{return(e||JSON.parse)(t),C.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const fp={transitional:bC,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=C.isObject(e);if(s&&C.isHTMLForm(e)&&(e=new FormData(e)),C.isFormData(e))return i&&i?JSON.stringify(TC(e)):e;if(C.isArrayBuffer(e)||C.isBuffer(e)||C.isStream(e)||C.isFile(e)||C.isBlob(e))return e;if(C.isArrayBufferView(e))return e.buffer;if(C.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $L(e,this.formSerializer).toString();if((a=C.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),UL(e)):e}],transformResponse:[function(e){const n=this.transitional||fp.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&C.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?le.from(a,le.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hr.classes.FormData,Blob:hr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};C.forEach(["delete","get","head"],function(e){fp.headers[e]={}});C.forEach(["post","put","patch"],function(e){fp.headers[e]=C.merge(FL)});const Bw=fp,jL=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VL=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&jL[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jS=Symbol("internals");function Rl(t){return t&&String(t).trim().toLowerCase()}function uh(t){return t===!1||t==null?t:C.isArray(t)?t.map(uh):String(t)}function BL(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const zL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kg(t,e,n,r,i){if(C.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!C.isString(e)){if(C.isString(r))return e.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(e)}}function qL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function WL(t,e){const n=C.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class pp{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=Rl(l);if(!c)throw new Error("header name must be a non-empty string");const d=C.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=uh(a))}const o=(a,l)=>C.forEach(a,(u,c)=>s(u,c,l));return C.isPlainObject(e)||e instanceof this.constructor?o(e,n):C.isString(e)&&(e=e.trim())&&!zL(e)?o(VL(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=Rl(e),e){const r=C.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return BL(i);if(C.isFunction(n))return n.call(this,i,r);if(C.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Rl(e),e){const r=C.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||kg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Rl(o),o){const a=C.findKey(r,o);a&&(!n||kg(r,r[a],a,n))&&(delete r[a],i=!0)}}return C.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||kg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return C.forEach(this,(i,s)=>{const o=C.findKey(r,s);if(o){n[o]=uh(i),delete n[s];return}const a=e?qL(s):String(s).trim();a!==s&&delete n[s],n[a]=uh(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return C.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[jS]=this[jS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Rl(o);r[a]||(WL(i,o),r[a]=!0)}return C.isArray(e)?e.forEach(s):s(e),this}}pp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.freezeMethods(pp.prototype);C.freezeMethods(pp);const zr=pp;function Cg(t,e){const n=this||Bw,r=e||n,i=zr.from(r.headers);let s=r.data;return C.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function xC(t){return!!(t&&t.__CANCEL__)}function $c(t,e,n){le.call(this,t??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}C.inherits($c,le,{__CANCEL__:!0});function GL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const KL=hr.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),C.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),C.isString(s)&&l.push("path="+s),C.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function HL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function QL(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function kC(t,e){return t&&!HL(e)?QL(t,e):e}const YL=hr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=C.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function JL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function XL(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(h*1e3/p):void 0}}function VS(t,e){let n=0;const r=XL(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),u=s<=o;n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const ZL=typeof XMLHttpRequest<"u",eF=ZL&&function(t){return new Promise(function(n,r){let i=t.data;const s=zr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}C.isFormData(i)&&(hr.isStandardBrowserEnv||hr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+f))}const c=kC(t.baseURL,t.url);u.open(t.method.toUpperCase(),IC(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const p=zr.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:t,request:u};GL(function(y){n(y),l()},function(y){r(y),l()},m),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new le("Request aborted",le.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let f=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||bC;t.timeoutErrorMessage&&(f=t.timeoutErrorMessage),r(new le(f,m.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,u)),u=null},hr.isStandardBrowserEnv){const p=(t.withCredentials||YL(c))&&t.xsrfCookieName&&KL.read(t.xsrfCookieName);p&&s.set(t.xsrfHeaderName,p)}i===void 0&&s.setContentType(null),"setRequestHeader"in u&&C.forEach(s.toJSON(),function(f,m){u.setRequestHeader(m,f)}),C.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",VS(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",VS(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{u&&(r(!p||p.type?new $c(null,t,u):p),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=JL(c);if(h&&hr.protocols.indexOf(h)===-1){r(new le("Unsupported protocol "+h+":",le.ERR_BAD_REQUEST,t));return}u.send(i||null)})},ch={http:TL,xhr:eF};C.forEach(ch,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const tF={getAdapter:t=>{t=C.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=C.isString(n)?ch[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new le(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(C.hasOwnProp(ch,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!C.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:ch};function Pg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $c(null,t)}function BS(t){return Pg(t),t.headers=zr.from(t.headers),t.data=Cg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tF.getAdapter(t.adapter||Bw.adapter)(t).then(function(r){return Pg(t),r.data=Cg.call(t,t.transformResponse,r),r.headers=zr.from(r.headers),r},function(r){return xC(r)||(Pg(t),r&&r.response&&(r.response.data=Cg.call(t,t.transformResponse,r.response),r.response.headers=zr.from(r.response.headers))),Promise.reject(r)})}const zS=t=>t instanceof zr?t.toJSON():t;function Ca(t,e){e=e||{};const n={};function r(u,c,d){return C.isPlainObject(u)&&C.isPlainObject(c)?C.merge.call({caseless:d},u,c):C.isPlainObject(c)?C.merge({},c):C.isArray(c)?c.slice():c}function i(u,c,d){if(C.isUndefined(c)){if(!C.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!C.isUndefined(c))return r(void 0,c)}function o(u,c){if(C.isUndefined(c)){if(!C.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(zS(u),zS(c),!0)};return C.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||i,h=d(t[c],e[c],c);C.isUndefined(h)&&d!==a||(n[c]=h)}),n}const CC="1.4.0",zw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zw[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qS={};zw.transitional=function(e,n,r){function i(s,o){return"[Axios v"+CC+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new le(i(o," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!qS[o]&&(qS[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function nF(t,e,n){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new le("option "+s+" must be "+l,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+s,le.ERR_BAD_OPTION)}}const gv={assertOptions:nF,validators:zw},di=gv.validators;class ef{constructor(e){this.defaults=e,this.interceptors={request:new US,response:new US}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ca(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&gv.assertOptions(r,{silentJSONParsing:di.transitional(di.boolean),forcedJSONParsing:di.transitional(di.boolean),clarifyTimeoutError:di.transitional(di.boolean)},!1),i!=null&&(C.isFunction(i)?n.paramsSerializer={serialize:i}:gv.assertOptions(i,{encode:di.function,serialize:di.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&C.merge(s.common,s[n.method]),o&&C.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),n.headers=zr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,d=0,h;if(!l){const f=[BS.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,u),h=f.length,c=Promise.resolve(n);d<h;)c=c.then(f[d++],f[d++]);return c}h=a.length;let p=n;for(d=0;d<h;){const f=a[d++],m=a[d++];try{p=f(p)}catch(E){m.call(this,E);break}}try{c=BS.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=Ca(this.defaults,e);const n=kC(e.baseURL,e.url);return IC(n,e.params,e.paramsSerializer)}}C.forEach(["delete","get","head","options"],function(e){ef.prototype[e]=function(n,r){return this.request(Ca(r||{},{method:e,url:n,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Ca(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ef.prototype[e]=n(),ef.prototype[e+"Form"]=n(!0)});const dh=ef;class qw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new $c(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new qw(function(i){e=i}),cancel:e}}}const rF=qw;function iF(t){return function(n){return t.apply(null,n)}}function sF(t){return C.isObject(t)&&t.isAxiosError===!0}const yv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yv).forEach(([t,e])=>{yv[e]=t});const oF=yv;function PC(t){const e=new dh(t),n=dC(dh.prototype.request,e);return C.extend(n,dh.prototype,e,{allOwnKeys:!0}),C.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return PC(Ca(t,i))},n}const lt=PC(Bw);lt.Axios=dh;lt.CanceledError=$c;lt.CancelToken=rF;lt.isCancel=xC;lt.VERSION=CC;lt.toFormData=hp;lt.AxiosError=le;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=iF;lt.isAxiosError=sF;lt.mergeConfig=Ca;lt.AxiosHeaders=zr;lt.formToJSON=t=>TC(C.isHTMLForm(t)?new FormData(t):t);lt.HttpStatusCode=oF;lt.default=lt;const aF=lt,la=aF.create({baseURL:"https://api.themoviedb.org/3"}),Ar="49249c67676503688e912586c3520caf",Nr={fetchTrending:`/trending/all/week?api_key=${Ar}&language=en-US`,fetchNetflixOriginals:`/discover/tv?api_key=${Ar}&with_networks=213`,fetchTopRated:`/movie/top_rated?api_key=${Ar}&language=en-US`,fetchActionMovies:`/discover/movie?api_key=${Ar}&with_genres=28`,fetchComedyMovies:`/discover/movie?api_key=${Ar}&with_genres=35`,fetchHorroMovies:`/discover/movie?api_key=${Ar}&with_genres=27`,fetchRomanceMovies:`/discover/movie?api_key=${Ar}&with_genres=10749`,fetchDocumantaries:`/discover/movie?api_key=${Ar}&with_genres=99`,fetchLatest:`/movie/latest?api_key=${Ar}&language=en-US`};function Ts(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function RC(t){if(!Ts(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=RC(t[n])}),e}function qr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Ts(t)&&Ts(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Ts(e[i])&&i in t&&Ts(t[i])?r[i]=qr(t[i],e[i],n):n.clone?r[i]=Ts(e[i])?RC(e[i]):e[i]:r[i]=e[i])}),r}var AC={exports:{}},lF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uF=lF,cF=uF;function NC(){}function OC(){}OC.resetWarningCache=NC;var dF=function(){function t(r,i,s,o,a,l){if(l!==cF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OC,resetWarningCache:NC};return n.PropTypes=n,n};AC.exports=dF();var hF=AC.exports;const bt=Cc(hF);function Pa(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function et(t){if(typeof t!="string")throw new Error(Pa(7));return t.charAt(0).toUpperCase()+t.slice(1)}function vv(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function fF(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function pF(t,e){return()=>null}function mF(t,e){return _.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function Wr(t){return t&&t.ownerDocument||document}function mp(t){return Wr(t).defaultView||window}function gF(t,e){return()=>null}function tf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const yF=typeof window<"u"?_.useLayoutEffect:_.useEffect,nf=yF;let WS=0;function vF(t){const[e,n]=_.useState(t),r=t||e;return _.useEffect(()=>{e==null&&(WS+=1,n(`mui-${WS}`))},[e]),r}const GS=gy["useId".toString()];function wF(t){if(GS!==void 0){const e=GS();return t??e}return vF(t)}function EF(t,e,n,r,i){return null}function _F({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=_.useRef(t!==void 0),[s,o]=_.useState(e),a=i?t:s,l=_.useCallback(u=>{i||o(u)},[]);return[a,l]}function Ds(t){const e=_.useRef(t);return nf(()=>{e.current=t}),_.useCallback((...n)=>(0,e.current)(...n),[])}function Bi(...t){return _.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{tf(n,e)})},t)}let gp=!0,wv=!1,KS;const SF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function IF(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&SF[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function bF(t){t.metaKey||t.altKey||t.ctrlKey||(gp=!0)}function Rg(){gp=!1}function TF(){this.visibilityState==="hidden"&&wv&&(gp=!0)}function xF(t){t.addEventListener("keydown",bF,!0),t.addEventListener("mousedown",Rg,!0),t.addEventListener("pointerdown",Rg,!0),t.addEventListener("touchstart",Rg,!0),t.addEventListener("visibilitychange",TF,!0)}function kF(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return gp||IF(e)}function DC(){const t=_.useCallback(i=>{i!=null&&xF(i.ownerDocument)},[]),e=_.useRef(!1);function n(){return e.current?(wv=!0,window.clearTimeout(KS),KS=window.setTimeout(()=>{wv=!1},100),e.current=!1,!0):!1}function r(i){return kF(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function CF(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Ww(t,e){const n={...e};return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]={...t[r],...n[r]};else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]={...s},Object.keys(i).forEach(o=>{n[r][o]=Ww(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function Mc(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const HS=t=>t,PF=()=>{let t=HS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=HS}}},RF=PF(),Gw=RF,AF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function el(t,e,n="Mui"){const r=AF[e];return r?`${n}-${r}`:`${Gw.generate(t)}-${e}`}function tl(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=el(t,i,n)}),r}function L(){return L=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L.apply(this,arguments)}function $C(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var NF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,OF=$C(function(t){return NF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function DF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function $F(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var MF=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($F(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=DF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ut="-ms-",rf="-moz-",de="-webkit-",MC="comm",Kw="rule",Hw="decl",LF="@import",LC="@keyframes",FF="@layer",UF=Math.abs,yp=String.fromCharCode,jF=Object.assign;function VF(t,e){return kt(t,0)^45?(((e<<2^kt(t,0))<<2^kt(t,1))<<2^kt(t,2))<<2^kt(t,3):0}function FC(t){return t.trim()}function BF(t,e){return(t=e.exec(t))?t[0]:t}function he(t,e,n){return t.replace(e,n)}function Ev(t,e){return t.indexOf(e)}function kt(t,e){return t.charCodeAt(e)|0}function Gu(t,e,n){return t.slice(e,n)}function rr(t){return t.length}function Qw(t){return t.length}function Od(t,e){return e.push(t),t}function zF(t,e){return t.map(e).join("")}var vp=1,Ra=1,UC=0,fn=0,Xe=0,nl="";function wp(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:vp,column:Ra,length:o,return:""}}function Al(t,e){return jF(wp("",null,null,"",null,null,0),t,{length:-t.length},e)}function qF(){return Xe}function WF(){return Xe=fn>0?kt(nl,--fn):0,Ra--,Xe===10&&(Ra=1,vp--),Xe}function Sn(){return Xe=fn<UC?kt(nl,fn++):0,Ra++,Xe===10&&(Ra=1,vp++),Xe}function wr(){return kt(nl,fn)}function hh(){return fn}function Lc(t,e){return Gu(nl,t,e)}function Ku(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jC(t){return vp=Ra=1,UC=rr(nl=t),fn=0,[]}function VC(t){return nl="",t}function fh(t){return FC(Lc(fn-1,_v(t===91?t+2:t===40?t+1:t)))}function GF(t){for(;(Xe=wr())&&Xe<33;)Sn();return Ku(t)>2||Ku(Xe)>3?"":" "}function KF(t,e){for(;--e&&Sn()&&!(Xe<48||Xe>102||Xe>57&&Xe<65||Xe>70&&Xe<97););return Lc(t,hh()+(e<6&&wr()==32&&Sn()==32))}function _v(t){for(;Sn();)switch(Xe){case t:return fn;case 34:case 39:t!==34&&t!==39&&_v(Xe);break;case 40:t===41&&_v(t);break;case 92:Sn();break}return fn}function HF(t,e){for(;Sn()&&t+Xe!==47+10;)if(t+Xe===42+42&&wr()===47)break;return"/*"+Lc(e,fn-1)+"*"+yp(t===47?t:Sn())}function QF(t){for(;!Ku(wr());)Sn();return Lc(t,fn)}function YF(t){return VC(ph("",null,null,null,[""],t=jC(t),0,[0],t))}function ph(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,p=0,f=0,m=1,E=1,y=1,g=0,v="",w=i,S=s,I=r,b=v;E;)switch(f=g,g=Sn()){case 40:if(f!=108&&kt(b,d-1)==58){Ev(b+=he(fh(g),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:b+=fh(g);break;case 9:case 10:case 13:case 32:b+=GF(f);break;case 92:b+=KF(hh()-1,7);continue;case 47:switch(wr()){case 42:case 47:Od(JF(HF(Sn(),hh()),e,n),l);break;default:b+="/"}break;case 123*m:a[u++]=rr(b)*y;case 125*m:case 59:case 0:switch(g){case 0:case 125:E=0;case 59+c:y==-1&&(b=he(b,/\f/g,"")),p>0&&rr(b)-d&&Od(p>32?YS(b+";",r,n,d-1):YS(he(b," ","")+";",r,n,d-2),l);break;case 59:b+=";";default:if(Od(I=QS(b,e,n,u,c,i,a,v,w=[],S=[],d),s),g===123)if(c===0)ph(b,e,I,I,w,s,d,a,S);else switch(h===99&&kt(b,3)===110?100:h){case 100:case 108:case 109:case 115:ph(t,I,I,r&&Od(QS(t,I,I,0,0,i,a,v,i,w=[],d),S),i,S,d,a,r?w:S);break;default:ph(b,I,I,I,[""],S,0,a,S)}}u=c=p=0,m=y=1,v=b="",d=o;break;case 58:d=1+rr(b),p=f;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&WF()==125)continue}switch(b+=yp(g),g*m){case 38:y=c>0?1:(b+="\f",-1);break;case 44:a[u++]=(rr(b)-1)*y,y=1;break;case 64:wr()===45&&(b+=fh(Sn())),h=wr(),c=d=rr(v=b+=QF(hh())),g++;break;case 45:f===45&&rr(b)==2&&(m=0)}}return s}function QS(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],p=Qw(h),f=0,m=0,E=0;f<r;++f)for(var y=0,g=Gu(t,d+1,d=UF(m=o[f])),v=t;y<p;++y)(v=FC(m>0?h[y]+" "+g:he(g,/&\f/g,h[y])))&&(l[E++]=v);return wp(t,e,n,i===0?Kw:a,l,u,c)}function JF(t,e,n){return wp(t,e,n,MC,yp(qF()),Gu(t,2,-2),0)}function YS(t,e,n,r){return wp(t,e,n,Hw,Gu(t,0,r),Gu(t,r+1,-1),r)}function ua(t,e){for(var n="",r=Qw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function XF(t,e,n,r){switch(t.type){case FF:if(t.children.length)break;case LF:case Hw:return t.return=t.return||t.value;case MC:return"";case LC:return t.return=t.value+"{"+ua(t.children,r)+"}";case Kw:t.value=t.props.join(",")}return rr(n=ua(t.children,r))?t.return=t.value+"{"+n+"}":""}function ZF(t){var e=Qw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function e4(t){return function(e){e.root||(e=e.return)&&t(e)}}var t4=function(e,n,r){for(var i=0,s=0;i=s,s=wr(),i===38&&s===12&&(n[r]=1),!Ku(s);)Sn();return Lc(e,fn)},n4=function(e,n){var r=-1,i=44;do switch(Ku(i)){case 0:i===38&&wr()===12&&(n[r]=1),e[r]+=t4(fn-1,n,r);break;case 2:e[r]+=fh(i);break;case 4:if(i===44){e[++r]=wr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=yp(i)}while(i=Sn());return e},r4=function(e,n){return VC(n4(jC(e),n))},JS=new WeakMap,i4=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!JS.get(r))&&!i){JS.set(e,!0);for(var s=[],o=r4(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},s4=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function BC(t,e){switch(VF(t,e)){case 5103:return de+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return de+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return de+t+rf+t+Ut+t+t;case 6828:case 4268:return de+t+Ut+t+t;case 6165:return de+t+Ut+"flex-"+t+t;case 5187:return de+t+he(t,/(\w+).+(:[^]+)/,de+"box-$1$2"+Ut+"flex-$1$2")+t;case 5443:return de+t+Ut+"flex-item-"+he(t,/flex-|-self/,"")+t;case 4675:return de+t+Ut+"flex-line-pack"+he(t,/align-content|flex-|-self/,"")+t;case 5548:return de+t+Ut+he(t,"shrink","negative")+t;case 5292:return de+t+Ut+he(t,"basis","preferred-size")+t;case 6060:return de+"box-"+he(t,"-grow","")+de+t+Ut+he(t,"grow","positive")+t;case 4554:return de+he(t,/([^-])(transform)/g,"$1"+de+"$2")+t;case 6187:return he(he(he(t,/(zoom-|grab)/,de+"$1"),/(image-set)/,de+"$1"),t,"")+t;case 5495:case 3959:return he(t,/(image-set\([^]*)/,de+"$1$`$1");case 4968:return he(he(t,/(.+:)(flex-)?(.*)/,de+"box-pack:$3"+Ut+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+de+t+t;case 4095:case 3583:case 4068:case 2532:return he(t,/(.+)-inline(.+)/,de+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rr(t)-1-e>6)switch(kt(t,e+1)){case 109:if(kt(t,e+4)!==45)break;case 102:return he(t,/(.+:)(.+)-([^]+)/,"$1"+de+"$2-$3$1"+rf+(kt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ev(t,"stretch")?BC(he(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(kt(t,e+1)!==115)break;case 6444:switch(kt(t,rr(t)-3-(~Ev(t,"!important")&&10))){case 107:return he(t,":",":"+de)+t;case 101:return he(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+de+(kt(t,14)===45?"inline-":"")+"box$3$1"+de+"$2$3$1"+Ut+"$2box$3")+t}break;case 5936:switch(kt(t,e+11)){case 114:return de+t+Ut+he(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return de+t+Ut+he(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return de+t+Ut+he(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return de+t+Ut+t+t}return t}var o4=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Hw:e.return=BC(e.value,e.length);break;case LC:return ua([Al(e,{value:he(e.value,"@","@"+de)})],i);case Kw:if(e.length)return zF(e.props,function(s){switch(BF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ua([Al(e,{props:[he(s,/:(read-\w+)/,":"+rf+"$1")]})],i);case"::placeholder":return ua([Al(e,{props:[he(s,/:(plac\w+)/,":"+de+"input-$1")]}),Al(e,{props:[he(s,/:(plac\w+)/,":"+rf+"$1")]}),Al(e,{props:[he(s,/:(plac\w+)/,Ut+"input-$1")]})],i)}return""})}},a4=[o4],l4=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var E=m.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||a4,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var E=m.getAttribute("data-emotion").split(" "),y=1;y<E.length;y++)s[E[y]]=!0;a.push(m)});var l,u=[i4,s4];{var c,d=[XF,e4(function(m){c.insert(m)})],h=ZF(u.concat(i,d)),p=function(E){return ua(YF(E),h)};l=function(E,y,g,v){c=g,p(E?E+"{"+y.styles+"}":y.styles),v&&(f.inserted[y.name]=!0)}}var f={key:n,sheet:new MF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return f.sheet.hydrate(a),f},zC={exports:{}},we={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Et=typeof Symbol=="function"&&Symbol.for,Yw=Et?Symbol.for("react.element"):60103,Jw=Et?Symbol.for("react.portal"):60106,Ep=Et?Symbol.for("react.fragment"):60107,_p=Et?Symbol.for("react.strict_mode"):60108,Sp=Et?Symbol.for("react.profiler"):60114,Ip=Et?Symbol.for("react.provider"):60109,bp=Et?Symbol.for("react.context"):60110,Xw=Et?Symbol.for("react.async_mode"):60111,Tp=Et?Symbol.for("react.concurrent_mode"):60111,xp=Et?Symbol.for("react.forward_ref"):60112,kp=Et?Symbol.for("react.suspense"):60113,u4=Et?Symbol.for("react.suspense_list"):60120,Cp=Et?Symbol.for("react.memo"):60115,Pp=Et?Symbol.for("react.lazy"):60116,c4=Et?Symbol.for("react.block"):60121,d4=Et?Symbol.for("react.fundamental"):60117,h4=Et?Symbol.for("react.responder"):60118,f4=Et?Symbol.for("react.scope"):60119;function Pn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Yw:switch(t=t.type,t){case Xw:case Tp:case Ep:case Sp:case _p:case kp:return t;default:switch(t=t&&t.$$typeof,t){case bp:case xp:case Pp:case Cp:case Ip:return t;default:return e}}case Jw:return e}}}function qC(t){return Pn(t)===Tp}we.AsyncMode=Xw;we.ConcurrentMode=Tp;we.ContextConsumer=bp;we.ContextProvider=Ip;we.Element=Yw;we.ForwardRef=xp;we.Fragment=Ep;we.Lazy=Pp;we.Memo=Cp;we.Portal=Jw;we.Profiler=Sp;we.StrictMode=_p;we.Suspense=kp;we.isAsyncMode=function(t){return qC(t)||Pn(t)===Xw};we.isConcurrentMode=qC;we.isContextConsumer=function(t){return Pn(t)===bp};we.isContextProvider=function(t){return Pn(t)===Ip};we.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yw};we.isForwardRef=function(t){return Pn(t)===xp};we.isFragment=function(t){return Pn(t)===Ep};we.isLazy=function(t){return Pn(t)===Pp};we.isMemo=function(t){return Pn(t)===Cp};we.isPortal=function(t){return Pn(t)===Jw};we.isProfiler=function(t){return Pn(t)===Sp};we.isStrictMode=function(t){return Pn(t)===_p};we.isSuspense=function(t){return Pn(t)===kp};we.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ep||t===Tp||t===Sp||t===_p||t===kp||t===u4||typeof t=="object"&&t!==null&&(t.$$typeof===Pp||t.$$typeof===Cp||t.$$typeof===Ip||t.$$typeof===bp||t.$$typeof===xp||t.$$typeof===d4||t.$$typeof===h4||t.$$typeof===f4||t.$$typeof===c4)};we.typeOf=Pn;zC.exports=we;var p4=zC.exports,WC=p4,m4={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},g4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GC={};GC[WC.ForwardRef]=m4;GC[WC.Memo]=g4;var y4=!0;function v4(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var KC=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||y4===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},w4=function(e,n,r){KC(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function E4(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var _4={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},S4=/[A-Z]|^ms/g,I4=/_EMO_([^_]+?)_([^]*?)_EMO_/g,HC=function(e){return e.charCodeAt(1)===45},XS=function(e){return e!=null&&typeof e!="boolean"},Ag=$C(function(t){return HC(t)?t:t.replace(S4,"-$&").toLowerCase()}),ZS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(I4,function(r,i,s){return ir={name:i,styles:s,next:ir},i})}return _4[e]!==1&&!HC(e)&&typeof n=="number"&&n!==0?n+"px":n};function Hu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ir={name:n.name,styles:n.styles,next:ir},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ir={name:r.name,styles:r.styles,next:ir},r=r.next;var i=n.styles+";";return i}return b4(t,e,n)}case"function":{if(t!==void 0){var s=ir,o=n(t);return ir=s,Hu(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function b4(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Hu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":XS(o)&&(r+=Ag(s)+":"+ZS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)XS(o[a])&&(r+=Ag(s)+":"+ZS(s,o[a])+";");else{var l=Hu(t,e,o);switch(s){case"animation":case"animationName":{r+=Ag(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var eI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ir,QC=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ir=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Hu(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Hu(r,n,e[a]),i&&(s+=o[a]);eI.lastIndex=0;for(var l="",u;(u=eI.exec(s))!==null;)l+="-"+u[1];var c=E4(s)+l;return{name:c,styles:s,next:ir}},T4=function(e){return e()},x4=gy["useInsertionEffect"]?gy["useInsertionEffect"]:!1,k4=x4||T4,YC=_.createContext(typeof HTMLElement<"u"?l4({key:"css"}):null);YC.Provider;var C4=function(e){return _.forwardRef(function(n,r){var i=_.useContext(YC);return e(n,i,r)})},JC=_.createContext({});function P4(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return QC(e)}var Zw=function(){var e=P4.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},R4=OF,A4=function(e){return e!=="theme"},tI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?R4:A4},nI=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},N4=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return KC(n,r,i),k4(function(){return w4(n,r,i)}),null},O4=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=nI(e,n,r),l=a||tI(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,p=1;p<h;p++)d.push(c[p],c[0][p])}var f=C4(function(m,E,y){var g=u&&m.as||i,v="",w=[],S=m;if(m.theme==null){S={};for(var I in m)S[I]=m[I];S.theme=_.useContext(JC)}typeof m.className=="string"?v=v4(E.registered,w,m.className):m.className!=null&&(v=m.className+" ");var b=QC(d.concat(w),E.registered,S);v+=E.key+"-"+b.name,o!==void 0&&(v+=" "+o);var P=u&&a===void 0?tI(g):l,V={};for(var A in m)u&&A==="as"||P(A)&&(V[A]=m[A]);return V.className=v,V.ref=y,_.createElement(_.Fragment,null,_.createElement(N4,{cache:E,serialized:b,isStringTag:typeof g=="string"}),_.createElement(g,V))});return f.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=e.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=a,Object.defineProperty(f,"toString",{value:function(){return"."+o}}),f.withComponent=function(m,E){return t(m,L({},n,E,{shouldForwardProp:nI(f,E,!0)})).apply(void 0,d)},f}},D4=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Sv=O4.bind();D4.forEach(function(t){Sv[t]=Sv(t)});/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function XC(t,e){return Sv(t,e)}const $4=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Qe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const M4=["values","unit","step"],L4=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>L({},n,{[r.key]:r.val}),{})};function F4(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Qe(t,M4),s=L4(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,p){const f=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(f!==-1&&typeof e[o[f]]=="number"?e[o[f]]:p)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return L({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const U4={borderRadius:4},j4=U4;function fu(t,e){return e?qr(t,e,{clone:!1}):t}const e1={xs:0,sm:600,md:900,lg:1200,xl:1536},rI={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${e1[t]}px)`};function Xr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||rI;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||rI;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||e1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function V4(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function B4(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Rp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function sf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Rp(t,n)||r,e&&(i=e(i,r,t)),i}function fe(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Rp(l,r)||{};return Xr(o,a,d=>{let h=sf(u,i,d);return d===h&&typeof d=="string"&&(h=sf(u,i,`${e}${d==="default"?"":et(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function z4(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const q4={m:"margin",p:"padding"},W4={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},iI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},G4=z4(t=>{if(t.length>2)if(iI[t])t=iI[t];else return[t];const[e,n]=t.split(""),r=q4[e],i=W4[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),t1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],n1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...t1,...n1];function Fc(t,e,n,r){var i;const s=(i=Rp(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function ZC(t){return Fc(t,"spacing",8)}function Uc(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function K4(t,e){return n=>t.reduce((r,i)=>(r[i]=Uc(e,n),r),{})}function H4(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=G4(n),s=K4(i,r),o=t[n];return Xr(t,o,s)}function eP(t,e){const n=ZC(t.theme);return Object.keys(t).map(r=>H4(t,e,r,n)).reduce(fu,{})}function Fe(t){return eP(t,t1)}Fe.propTypes={};Fe.filterProps=t1;function Ue(t){return eP(t,n1)}Ue.propTypes={};Ue.filterProps=n1;function Q4(t=8){if(t.mui)return t;const e=ZC({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Ap(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?fu(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function or(t){return typeof t!="number"?t:`${t}px solid`}const Y4=fe({prop:"border",themeKey:"borders",transform:or}),J4=fe({prop:"borderTop",themeKey:"borders",transform:or}),X4=fe({prop:"borderRight",themeKey:"borders",transform:or}),Z4=fe({prop:"borderBottom",themeKey:"borders",transform:or}),eU=fe({prop:"borderLeft",themeKey:"borders",transform:or}),tU=fe({prop:"borderColor",themeKey:"palette"}),nU=fe({prop:"borderTopColor",themeKey:"palette"}),rU=fe({prop:"borderRightColor",themeKey:"palette"}),iU=fe({prop:"borderBottomColor",themeKey:"palette"}),sU=fe({prop:"borderLeftColor",themeKey:"palette"}),Np=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Fc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Uc(e,r)});return Xr(t,t.borderRadius,n)}return null};Np.propTypes={};Np.filterProps=["borderRadius"];Ap(Y4,J4,X4,Z4,eU,tU,nU,rU,iU,sU,Np);const Op=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Fc(t.theme,"spacing",8),n=r=>({gap:Uc(e,r)});return Xr(t,t.gap,n)}return null};Op.propTypes={};Op.filterProps=["gap"];const Dp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Fc(t.theme,"spacing",8),n=r=>({columnGap:Uc(e,r)});return Xr(t,t.columnGap,n)}return null};Dp.propTypes={};Dp.filterProps=["columnGap"];const $p=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Fc(t.theme,"spacing",8),n=r=>({rowGap:Uc(e,r)});return Xr(t,t.rowGap,n)}return null};$p.propTypes={};$p.filterProps=["rowGap"];const oU=fe({prop:"gridColumn"}),aU=fe({prop:"gridRow"}),lU=fe({prop:"gridAutoFlow"}),uU=fe({prop:"gridAutoColumns"}),cU=fe({prop:"gridAutoRows"}),dU=fe({prop:"gridTemplateColumns"}),hU=fe({prop:"gridTemplateRows"}),fU=fe({prop:"gridTemplateAreas"}),pU=fe({prop:"gridArea"});Ap(Op,Dp,$p,oU,aU,lU,uU,cU,dU,hU,fU,pU);function ca(t,e){return e==="grey"?e:t}const mU=fe({prop:"color",themeKey:"palette",transform:ca}),gU=fe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ca}),yU=fe({prop:"backgroundColor",themeKey:"palette",transform:ca});Ap(mU,gU,yU);function vn(t){return t<=1&&t!==0?`${t*100}%`:t}const vU=fe({prop:"width",transform:vn}),r1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||e1[n]||vn(n)}};return Xr(t,t.maxWidth,e)}return null};r1.filterProps=["maxWidth"];const wU=fe({prop:"minWidth",transform:vn}),EU=fe({prop:"height",transform:vn}),_U=fe({prop:"maxHeight",transform:vn}),SU=fe({prop:"minHeight",transform:vn});fe({prop:"size",cssProperty:"width",transform:vn});fe({prop:"size",cssProperty:"height",transform:vn});const IU=fe({prop:"boxSizing"});Ap(vU,r1,wU,EU,_U,SU,IU);const bU={border:{themeKey:"borders",transform:or},borderTop:{themeKey:"borders",transform:or},borderRight:{themeKey:"borders",transform:or},borderBottom:{themeKey:"borders",transform:or},borderLeft:{themeKey:"borders",transform:or},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Np},color:{themeKey:"palette",transform:ca},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ca},backgroundColor:{themeKey:"palette",transform:ca},p:{style:Ue},pt:{style:Ue},pr:{style:Ue},pb:{style:Ue},pl:{style:Ue},px:{style:Ue},py:{style:Ue},padding:{style:Ue},paddingTop:{style:Ue},paddingRight:{style:Ue},paddingBottom:{style:Ue},paddingLeft:{style:Ue},paddingX:{style:Ue},paddingY:{style:Ue},paddingInline:{style:Ue},paddingInlineStart:{style:Ue},paddingInlineEnd:{style:Ue},paddingBlock:{style:Ue},paddingBlockStart:{style:Ue},paddingBlockEnd:{style:Ue},m:{style:Fe},mt:{style:Fe},mr:{style:Fe},mb:{style:Fe},ml:{style:Fe},mx:{style:Fe},my:{style:Fe},margin:{style:Fe},marginTop:{style:Fe},marginRight:{style:Fe},marginBottom:{style:Fe},marginLeft:{style:Fe},marginX:{style:Fe},marginY:{style:Fe},marginInline:{style:Fe},marginInlineStart:{style:Fe},marginInlineEnd:{style:Fe},marginBlock:{style:Fe},marginBlockStart:{style:Fe},marginBlockEnd:{style:Fe},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Op},rowGap:{style:$p},columnGap:{style:Dp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:vn},maxWidth:{style:r1},minWidth:{transform:vn},height:{transform:vn},maxHeight:{transform:vn},minHeight:{transform:vn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Mp=bU;function TU(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function xU(t,e){return typeof t=="function"?t(e):t}function kU(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Rp(i,u)||{};return d?d(o):Xr(o,r,f=>{let m=sf(h,c,f);return f===m&&typeof f=="string"&&(m=sf(h,c,`${n}${f==="default"?"":et(f)}`,f)),l===!1?m:{[l]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Mp;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=V4(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(p=>{const f=xU(u[p],s);if(f!=null)if(typeof f=="object")if(o[p])h=fu(h,t(p,f,s,o));else{const m=Xr({theme:s},f,E=>({[p]:E}));TU(m,f)?h[p]=e({sx:f,theme:s}):h=fu(h,m)}else h=fu(h,t(p,f,s,o))}),B4(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const tP=kU();tP.filterProps=["sx"];const Lp=tP,CU=["breakpoints","palette","spacing","shape"];function i1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=Qe(t,CU),a=F4(n),l=Q4(i);let u=qr({breakpoints:a,direction:"ltr",components:{},palette:L({mode:"light"},r),spacing:l,shape:L({},j4,s)},o);return u=e.reduce((c,d)=>qr(c,d),u),u.unstable_sxConfig=L({},Mp,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Lp({sx:d,theme:this})},u}function PU(t){return Object.keys(t).length===0}function RU(t=null){const e=_.useContext(JC);return!e||PU(e)?t:e}const AU=i1();function s1(t=AU){return RU(t)}const NU=["sx"],OU=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Mp;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function DU(t){const{sx:e}=t,n=Qe(t,NU),{systemProps:r,otherProps:i}=OU(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ts(a)?L({},r,a):r}:s=L({},r,e),L({},i,{sx:s})}function nP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=nP(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function st(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=nP(t))&&(r&&(r+=" "),r+=e);return r}const $U=["className","component"];function MU(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=XC("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Lp);return _.forwardRef(function(l,u){const c=s1(n),d=DU(l),{className:h,component:p="div"}=d,f=Qe(d,$U);return x.jsx(s,L({as:p,ref:u,className:st(h,i?i(r):r),theme:e&&c[e]||c},f))})}const LU=["variant"];function sI(t){return t.length===0}function rP(t){const{variant:e}=t,n=Qe(t,LU);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=sI(r)?t[i]:et(t[i]):r+=`${sI(r)?i:et(i)}${et(t[i].toString())}`}),r}const FU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function UU(t){return Object.keys(t).length===0}function jU(t){return typeof t=="string"&&t.charCodeAt(0)>96}const VU=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,BU=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=rP(i.props);r[s]=i.style}),r},zU=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(d=>{o[d]!==u.props[d]&&t[d]!==u.props[d]&&(c=!1)}),c&&a.push(e[rP(u.props)])}),a};function mh(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const qU=i1();function Nl({defaultTheme:t,theme:e,themeId:n}){return UU(e)?t:e[n]||e}function WU(t={}){const{themeId:e,defaultTheme:n=qU,rootShouldForwardProp:r=mh,slotShouldForwardProp:i=mh}=t,s=o=>Lp(L({},o,{theme:Nl(L({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{$4(o,w=>w.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h}=a,p=Qe(a,FU),f=c!==void 0?c:u&&u!=="Root"||!1,m=d||!1;let E,y=mh;u==="Root"?y=r:u?y=i:jU(o)&&(y=void 0);const g=XC(o,L({shouldForwardProp:y,label:E},p)),v=(w,...S)=>{const I=S?S.map(A=>typeof A=="function"&&A.__emotion_real!==A?z=>A(L({},z,{theme:Nl(L({},z,{defaultTheme:n,themeId:e}))})):A):[];let b=w;l&&h&&I.push(A=>{const z=Nl(L({},A,{defaultTheme:n,themeId:e})),te=VU(l,z);if(te){const ne={};return Object.entries(te).forEach(([J,ee])=>{ne[J]=typeof ee=="function"?ee(L({},A,{theme:z})):ee}),h(A,ne)}return null}),l&&!f&&I.push(A=>{const z=Nl(L({},A,{defaultTheme:n,themeId:e}));return zU(A,BU(l,z),z,l)}),m||I.push(s);const P=I.length-S.length;if(Array.isArray(w)&&P>0){const A=new Array(P).fill("");b=[...w,...A],b.raw=[...w.raw,...A]}else typeof w=="function"&&w.__emotion_real!==w&&(b=A=>w(L({},A,{theme:Nl(L({},A,{defaultTheme:n,themeId:e}))})));const V=g(b,...I);return o.muiName&&(V.muiName=o.muiName),V};return g.withConfig&&(v.withConfig=g.withConfig),v}}function GU(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Ww(e.components[n].defaultProps,r)}function KU({props:t,name:e,defaultTheme:n,themeId:r}){let i=s1(n);return r&&(i=i[r]||i),GU({theme:i,name:e,props:t})}function o1(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function HU(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function eo(t){if(t.type)return t;if(t.charAt(0)==="#")return eo(HU(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Pa(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Pa(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Fp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function QU(t){t=eo(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Fp({type:a,values:l})}function oI(t){t=eo(t);let e=t.type==="hsl"||t.type==="hsla"?eo(QU(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function YU(t,e){const n=oI(t),r=oI(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Dd(t,e){return t=eo(t),e=o1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Fp(t)}function JU(t,e){if(t=eo(t),e=o1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Fp(t)}function XU(t,e){if(t=eo(t),e=o1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Fp(t)}const Up="$$material";function ZU(t,e){return L({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const e5={black:"#000",white:"#fff"},Qu=e5,t5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},n5=t5,r5={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Co=r5,i5={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Po=i5,s5={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ol=s5,o5={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ro=o5,a5={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ao=a5,l5={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},No=l5,u5=["mode","contrastThreshold","tonalOffset"],aI={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Qu.white,default:Qu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ng={text:{primary:Qu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Qu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function lI(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=XU(t.main,i):e==="dark"&&(t.dark=JU(t.main,s)))}function c5(t="light"){return t==="dark"?{main:Ro[200],light:Ro[50],dark:Ro[400]}:{main:Ro[700],light:Ro[400],dark:Ro[800]}}function d5(t="light"){return t==="dark"?{main:Co[200],light:Co[50],dark:Co[400]}:{main:Co[500],light:Co[300],dark:Co[700]}}function h5(t="light"){return t==="dark"?{main:Po[500],light:Po[300],dark:Po[700]}:{main:Po[700],light:Po[400],dark:Po[800]}}function f5(t="light"){return t==="dark"?{main:Ao[400],light:Ao[300],dark:Ao[700]}:{main:Ao[700],light:Ao[500],dark:Ao[900]}}function p5(t="light"){return t==="dark"?{main:No[400],light:No[300],dark:No[700]}:{main:No[800],light:No[500],dark:No[900]}}function m5(t="light"){return t==="dark"?{main:Ol[400],light:Ol[300],dark:Ol[700]}:{main:"#ed6c02",light:Ol[500],dark:Ol[900]}}function g5(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Qe(t,u5),s=t.primary||c5(e),o=t.secondary||d5(e),a=t.error||h5(e),l=t.info||f5(e),u=t.success||p5(e),c=t.warning||m5(e);function d(m){return YU(m,Ng.text.primary)>=n?Ng.text.primary:aI.text.primary}const h=({color:m,name:E,mainShade:y=500,lightShade:g=300,darkShade:v=700})=>{if(m=L({},m),!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(Pa(11,E?` (${E})`:"",y));if(typeof m.main!="string")throw new Error(Pa(12,E?` (${E})`:"",JSON.stringify(m.main)));return lI(m,"light",g,r),lI(m,"dark",v,r),m.contrastText||(m.contrastText=d(m.main)),m},p={dark:Ng,light:aI};return qr(L({common:L({},Qu),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:n5,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const y5=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function v5(t){return Math.round(t*1e5)/1e5}const uI={textTransform:"uppercase"},cI='"Roboto", "Helvetica", "Arial", sans-serif';function w5(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=cI,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=Qe(n,y5),p=i/14,f=d||(y=>`${y/u*p}rem`),m=(y,g,v,w,S)=>L({fontFamily:r,fontWeight:y,fontSize:f(g),lineHeight:v},r===cI?{letterSpacing:`${v5(w/g)}em`}:{},S,c),E={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,uI),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,uI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return qr(L({htmlFontSize:u,pxToRem:f,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),h,{clone:!1})}const E5=.2,_5=.14,S5=.12;function Ce(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${E5})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${_5})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${S5})`].join(",")}const I5=["none",Ce(0,2,1,-1,0,1,1,0,0,1,3,0),Ce(0,3,1,-2,0,2,2,0,0,1,5,0),Ce(0,3,3,-2,0,3,4,0,0,1,8,0),Ce(0,2,4,-1,0,4,5,0,0,1,10,0),Ce(0,3,5,-1,0,5,8,0,0,1,14,0),Ce(0,3,5,-1,0,6,10,0,0,1,18,0),Ce(0,4,5,-2,0,7,10,1,0,2,16,1),Ce(0,5,5,-3,0,8,10,1,0,3,14,2),Ce(0,5,6,-3,0,9,12,1,0,3,16,2),Ce(0,6,6,-3,0,10,14,1,0,4,18,3),Ce(0,6,7,-4,0,11,15,1,0,4,20,3),Ce(0,7,8,-4,0,12,17,2,0,5,22,4),Ce(0,7,8,-4,0,13,19,2,0,5,24,4),Ce(0,7,9,-4,0,14,21,2,0,5,26,4),Ce(0,8,9,-5,0,15,22,2,0,6,28,5),Ce(0,8,10,-5,0,16,24,2,0,6,30,5),Ce(0,8,11,-5,0,17,26,2,0,6,32,5),Ce(0,9,11,-5,0,18,28,2,0,7,34,6),Ce(0,9,12,-6,0,19,29,2,0,7,36,6),Ce(0,10,13,-6,0,20,31,3,0,8,38,7),Ce(0,10,13,-6,0,21,33,3,0,8,40,7),Ce(0,10,14,-6,0,22,35,3,0,8,42,7),Ce(0,11,14,-7,0,23,36,3,0,9,44,8),Ce(0,11,15,-7,0,24,38,3,0,9,46,8)],b5=I5,T5=["duration","easing","delay"],x5={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},k5={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function dI(t){return`${Math.round(t)}ms`}function C5(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function P5(t){const e=L({},x5,t.easing),n=L({},k5,t.duration);return L({getAutoHeightDuration:C5,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return Qe(s,T5),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:dI(o)} ${a} ${typeof l=="string"?l:dI(l)}`).join(",")}},t,{easing:e,duration:n})}const R5={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},A5=R5,N5=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function iP(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=Qe(t,N5);if(t.vars)throw new Error(Pa(18));const a=g5(r),l=i1(t);let u=qr(l,{mixins:ZU(l.breakpoints,n),palette:a,shadows:b5.slice(),typography:w5(a,s),transitions:P5(i),zIndex:L({},A5)});return u=qr(u,o),u=e.reduce((c,d)=>qr(c,d),u),u.unstable_sxConfig=L({},Mp,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Lp({sx:d,theme:this})},u}const O5=iP(),a1=O5;function D5(){const t=s1(a1);return t[Up]||t}function rl({props:t,name:e}){return KU({props:t,name:e,defaultTheme:a1,themeId:Up})}const sP=t=>mh(t)&&t!=="classes",$5=WU({themeId:Up,defaultTheme:a1,rootShouldForwardProp:sP}),Pr=$5,M5=iP(),L5=MU({themeId:Up,defaultTheme:M5,defaultClassName:"MuiBox-root",generateClassName:Gw.generate}),Iv=L5;var l1={},oP={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(oP);var aP=oP.exports,Og={};function lP(t){return typeof t=="string"}function F5(t,e,n){return t===void 0||lP(t)?e:L({},e,{ownerState:L({},e.ownerState,n)})}const U5={disableDefaultClasses:!1},j5=_.createContext(U5);function V5(t){const{disableDefaultClasses:e}=_.useContext(j5);return n=>e?"":t(n)}function B5(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function bv(t,e){return typeof t=="function"?t(e):t}function hI(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function z5(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=st(i==null?void 0:i.className,r==null?void 0:r.className,s,n==null?void 0:n.className),f=L({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=L({},n,i,r);return p.length>0&&(m.className=p),Object.keys(f).length>0&&(m.style=f),{props:m,internalRef:void 0}}const o=B5(L({},i,r)),a=hI(r),l=hI(i),u=e(o),c=st(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=L({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=L({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const q5=["elementType","externalSlotProps","ownerState"];function fI(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i}=t,s=Qe(t,q5),o=bv(r,i),{props:a,internalRef:l}=z5(L({},s,{externalSlotProps:o})),u=Bi(l,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return F5(n,L({},a,{ref:u}),i)}const W5=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function G5(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function K5(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function H5(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||K5(t))}function Q5(t){const e=[],n=[];return Array.from(t.querySelectorAll(W5)).forEach((r,i)=>{const s=G5(r);s===-1||!H5(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Y5(){return!0}function J5(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=Q5,isEnabled:o=Y5,open:a}=t,l=_.useRef(!1),u=_.useRef(null),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),p=_.useRef(!1),f=_.useRef(null),m=Bi(e.ref,f),E=_.useRef(null);_.useEffect(()=>{!a||!f.current||(p.current=!n)},[n,a]),_.useEffect(()=>{if(!a||!f.current)return;const v=Wr(f.current);return f.current.contains(v.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),p.current&&f.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),_.useEffect(()=>{if(!a||!f.current)return;const v=Wr(f.current),w=b=>{const{current:P}=f;if(P!==null){if(!v.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!P.contains(v.activeElement)){if(b&&h.current!==b.target||v.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let z=[];if((v.activeElement===u.current||v.activeElement===c.current)&&(z=s(f.current)),z.length>0){var V,A;const te=!!((V=E.current)!=null&&V.shiftKey&&((A=E.current)==null?void 0:A.key)==="Tab"),ne=z[0],J=z[z.length-1];typeof ne!="string"&&typeof J!="string"&&(te?J.focus():ne.focus())}else P.focus()}}},S=b=>{E.current=b,!(r||!o()||b.key!=="Tab")&&v.activeElement===f.current&&b.shiftKey&&(l.current=!0,c.current&&c.current.focus())};v.addEventListener("focusin",w),v.addEventListener("keydown",S,!0);const I=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&w(null)},50);return()=>{clearInterval(I),v.removeEventListener("focusin",w),v.removeEventListener("keydown",S,!0)}},[n,r,i,o,a,s]);const y=v=>{d.current===null&&(d.current=v.relatedTarget),p.current=!0,h.current=v.target;const w=e.props.onFocus;w&&w(v)},g=v=>{d.current===null&&(d.current=v.relatedTarget),p.current=!0};return x.jsxs(_.Fragment,{children:[x.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:u,"data-testid":"sentinelStart"}),_.cloneElement(e,{ref:m,onFocus:y}),x.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:c,"data-testid":"sentinelEnd"})]})}function X5(t){return typeof t=="function"?t():t}const Z5=_.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=_.useState(null),l=Bi(_.isValidElement(r)?r.ref:null,n);if(nf(()=>{s||a(X5(i)||document.body)},[i,s]),nf(()=>{if(o&&!s)return tf(n,o),()=>{tf(n,null)}},[n,o,s]),s){if(_.isValidElement(r)){const u={ref:l};return _.cloneElement(r,u)}return x.jsx(_.Fragment,{children:r})}return x.jsx(_.Fragment,{children:o&&sp.createPortal(r,o)})}),ej=Z5;function tj(t){const e=Wr(t);return e.body===t?mp(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function pu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function pI(t){return parseInt(mp(t).getComputedStyle(t).paddingRight,10)||0}function nj(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function mI(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!nj(o);a&&l&&pu(o,i)})}function Dg(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function rj(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(tj(r)){const o=CF(Wr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${pI(r)+o}px`;const a=Wr(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${pI(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Wr(r).body;else{const o=r.parentElement,a=mp(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function ij(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class sj{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&pu(e.modalRef,!1);const i=ij(n);mI(n,e.mount,e.modalRef,i,!0);const s=Dg(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Dg(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=rj(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Dg(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&pu(e.modalRef,n),mI(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&pu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function oj(t){return el("MuiModal",t)}tl("MuiModal",["root","hidden","backdrop"]);const aj=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],lj=t=>{const{open:e,exited:n}=t;return Mc({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},V5(oj))};function uj(t){return typeof t=="function"?t():t}function cj(t){return t?t.props.hasOwnProperty("in"):!1}const dj=new sj,hj=_.forwardRef(function(e,n){var r,i;const{children:s,closeAfterTransition:o=!1,container:a,disableAutoFocus:l=!1,disableEnforceFocus:u=!1,disableEscapeKeyDown:c=!1,disablePortal:d=!1,disableRestoreFocus:h=!1,disableScrollLock:p=!1,hideBackdrop:f=!1,keepMounted:m=!1,manager:E=dj,onBackdropClick:y,onClose:g,onKeyDown:v,open:w,onTransitionEnter:S,onTransitionExited:I,slotProps:b={},slots:P={}}=e,V=Qe(e,aj),A=E,[z,te]=_.useState(!w),ne=_.useRef({}),J=_.useRef(null),ee=_.useRef(null),pe=Bi(ee,n),dt=cj(s),$=(r=e["aria-hidden"])!=null?r:!0,H=()=>Wr(J.current),G=()=>(ne.current.modalRef=ee.current,ne.current.mountNode=J.current,ne.current),me=()=>{A.mount(G(),{disableScrollLock:p}),ee.current&&(ee.current.scrollTop=0)},Ee=Ds(()=>{const $t=uj(a)||H().body;A.add(G(),$t),ee.current&&me()}),mn=_.useCallback(()=>A.isTopModal(G()),[A]),nt=Ds($t=>{J.current=$t,!(!$t||!ee.current)&&(w&&mn()?me():pu(ee.current,$))}),ht=_.useCallback(()=>{A.remove(G(),$)},[A,$]);_.useEffect(()=>()=>{ht()},[ht]),_.useEffect(()=>{w?Ee():(!dt||!o)&&ht()},[w,ht,dt,o,Ee]);const rt=L({},e,{closeAfterTransition:o,disableAutoFocus:l,disableEnforceFocus:u,disableEscapeKeyDown:c,disablePortal:d,disableRestoreFocus:h,disableScrollLock:p,exited:z,hideBackdrop:f,keepMounted:m}),Rr=lj(rt),Gm=()=>{te(!1),S&&S()},Bn=()=>{te(!0),I&&I(),o&&ht()},Km=$t=>{$t.target===$t.currentTarget&&(y&&y($t),g&&g($t,"backdropClick"))},Hm=$t=>{v&&v($t),!($t.key!=="Escape"||!mn())&&(c||($t.stopPropagation(),g&&g($t,"escapeKeyDown")))},xo={};s.props.tabIndex===void 0&&(xo.tabIndex="-1"),dt&&(xo.onEnter=vv(Gm,s.props.onEnter),xo.onExited=vv(Bn,s.props.onExited));const fd=(i=P.root)!=null?i:"div",Qm=fI({elementType:fd,externalSlotProps:b.root,externalForwardedProps:V,additionalProps:{ref:pe,role:"presentation",onKeyDown:Hm},className:Rr.root,ownerState:rt}),El=P.backdrop,Ym=fI({elementType:El,externalSlotProps:b.backdrop,additionalProps:{"aria-hidden":!0,onClick:Km,open:w},className:Rr.backdrop,ownerState:rt});return!m&&!w&&(!dt||z)?null:x.jsx(ej,{ref:nt,container:a,disablePortal:d,children:x.jsxs(fd,L({},Qm,{children:[!f&&El?x.jsx(El,L({},Ym)):null,x.jsx(J5,{disableEnforceFocus:u,disableAutoFocus:l,disableRestoreFocus:h,isEnabled:mn,open:w,children:_.cloneElement(s,xo)})]}))})}),fj=hj;function pj(t){return el("MuiSvgIcon",t)}tl("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const mj=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],gj=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${et(e)}`,`fontSize${et(n)}`]};return Mc(i,pj,r)},yj=Pr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${et(n.color)}`],e[`fontSize${et(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,p,f,m,E,y,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(p=(t.vars||t).palette)==null||(f=p[e.color])==null?void 0:f.main)!=null?h:{action:(m=(t.vars||t).palette)==null||(E=m.action)==null?void 0:E.active,disabled:(y=(t.vars||t).palette)==null||(g=y.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),uP=_.forwardRef(function(e,n){const r=rl({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=Qe(r,mj),f=L({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h}),m={};c||(m.viewBox=h);const E=gj(f);return x.jsxs(yj,L({as:a,className:st(E.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},m,p,{ownerState:f,children:[i,d?x.jsx("title",{children:d}):null]}))});uP.muiName="SvgIcon";const gI=uP;function vj(t,e){function n(r,i){return x.jsx(gI,L({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=gI.muiName,_.memo(_.forwardRef(n))}const wj={configure:t=>{Gw.configure(t)}},Ej=Object.freeze(Object.defineProperty({__proto__:null,capitalize:et,createChainedFunction:vv,createSvgIcon:vj,debounce:fF,deprecatedPropType:pF,isMuiElement:mF,ownerDocument:Wr,ownerWindow:mp,requirePropFactory:gF,setRef:tf,unstable_ClassNameGenerator:wj,unstable_useEnhancedEffect:nf,unstable_useId:wF,unsupportedProp:EF,useControlled:_F,useEventCallback:Ds,useForkRef:Bi,useIsFocusVisible:DC},Symbol.toStringTag,{value:"Module"})),_j=P2(Ej);var yI;function cP(){return yI||(yI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=_j}(Og)),Og}var Sj=aP;Object.defineProperty(l1,"__esModule",{value:!0});var dP=l1.default=void 0,Ij=Sj(cP()),bj=x,Tj=(0,Ij.default)((0,bj.jsx)("path",{d:"m10.8 15.9 4.67-3.5c.27-.2.27-.6 0-.8L10.8 8.1c-.33-.25-.8-.01-.8.4v7c0 .41.47.65.8.4zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutlineRounded");dP=l1.default=Tj;function Tv(t,e){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tv(t,e)}function hP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Tv(t,e)}const vI={disabled:!1},of=Ht.createContext(null);var xj=function(e){return e.scrollTop},Ql="unmounted",ws="exited",Es="entering",Fo="entered",xv="exiting",ii=function(t){hP(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ws,s.appearStatus=Es):l=Fo:r.unmountOnExit||r.mountOnEnter?l=Ql:l=ws,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ql?{status:ws}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Es&&o!==Fo&&(s=Es):(o===Es||o===Fo)&&(s=xv)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Es){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Nd.findDOMNode(this);o&&xj(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ws&&this.setState({status:Ql})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Nd.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||vI.disabled){this.safeSetState({status:Fo},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Es},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:Fo},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Nd.findDOMNode(this);if(!s||vI.disabled){this.safeSetState({status:ws},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:xv},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ws},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Nd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ql)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Qe(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ht.createElement(of.Provider,{value:null},typeof o=="function"?o(i,a):Ht.cloneElement(Ht.Children.only(o),a))},e}(Ht.Component);ii.contextType=of;ii.propTypes={};function Oo(){}ii.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Oo,onEntering:Oo,onEntered:Oo,onExit:Oo,onExiting:Oo,onExited:Oo};ii.UNMOUNTED=Ql;ii.EXITED=ws;ii.ENTERING=Es;ii.ENTERED=Fo;ii.EXITING=xv;const kj=ii;function Cj(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u1(t,e){var n=function(s){return e&&_.isValidElement(s)?e(s):s},r=Object.create(null);return t&&_.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Pj(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function $s(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Rj(t,e){return u1(t.children,function(n){return _.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:$s(n,"appear",t),enter:$s(n,"enter",t),exit:$s(n,"exit",t)})})}function Aj(t,e,n){var r=u1(t.children),i=Pj(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(_.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=_.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:$s(o,"exit",t),enter:$s(o,"enter",t)}):!l&&a&&!c?i[s]=_.cloneElement(o,{in:!1}):l&&a&&_.isValidElement(u)&&(i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:$s(o,"exit",t),enter:$s(o,"enter",t)}))}}),i}var Nj=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},Oj={component:"div",childFactory:function(e){return e}},c1=function(t){hP(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Cj(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Rj(i,a):Aj(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=u1(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=L({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Qe(i,["component","childFactory"]),l=this.state.contextValue,u=Nj(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Ht.createElement(of.Provider,{value:l},u):Ht.createElement(of.Provider,{value:l},Ht.createElement(s,a,u))},e}(Ht.Component);c1.propTypes={};c1.defaultProps=Oj;const Dj=c1,$j=t=>t.scrollTop;function wI(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const Mj=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Lj={entering:{opacity:1},entered:{opacity:1}},Fj=_.forwardRef(function(e,n){const r=D5(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:E,timeout:y=i,TransitionComponent:g=kj}=e,v=Qe(e,Mj),w=_.useRef(null),S=Bi(w,a.ref,n),I=J=>ee=>{if(J){const pe=w.current;ee===void 0?J(pe):J(pe,ee)}},b=I(h),P=I((J,ee)=>{$j(J);const pe=wI({style:E,timeout:y,easing:l},{mode:"enter"});J.style.webkitTransition=r.transitions.create("opacity",pe),J.style.transition=r.transitions.create("opacity",pe),c&&c(J,ee)}),V=I(d),A=I(m),z=I(J=>{const ee=wI({style:E,timeout:y,easing:l},{mode:"exit"});J.style.webkitTransition=r.transitions.create("opacity",ee),J.style.transition=r.transitions.create("opacity",ee),p&&p(J)}),te=I(f),ne=J=>{s&&s(w.current,J)};return x.jsx(g,L({appear:o,in:u,nodeRef:w,onEnter:P,onEntered:V,onEntering:b,onExit:z,onExited:te,onExiting:A,addEndListener:ne,timeout:y},v,{children:(J,ee)=>_.cloneElement(a,L({style:L({opacity:0,visibility:J==="exited"&&!u?"hidden":void 0},Lj[J],E,a.props.style),ref:S},ee))}))}),Uj=Fj;function jj(t){return el("MuiBackdrop",t)}tl("MuiBackdrop",["root","invisible"]);const Vj=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Bj=t=>{const{classes:e,invisible:n}=t;return Mc({root:["root",n&&"invisible"]},jj,e)},zj=Pr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>L({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),qj=_.forwardRef(function(e,n){var r,i,s;const o=rl({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:p,slotProps:f={},slots:m={},TransitionComponent:E=Uj,transitionDuration:y}=o,g=Qe(o,Vj),v=L({},o,{component:u,invisible:h}),w=Bj(v),S=(r=f.root)!=null?r:d.root;return x.jsx(E,L({in:p,timeout:y},g,{children:x.jsx(zj,L({"aria-hidden":!0},S,{as:(i=(s=m.root)!=null?s:c.Root)!=null?i:u,className:st(w.root,l,S==null?void 0:S.className),ownerState:L({},v,S==null?void 0:S.ownerState),classes:w,ref:n,children:a}))}))}),Wj=qj,Gj=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],Kj=Pr("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>L({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),Hj=Pr(Wj,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Qj=_.forwardRef(function(e,n){var r,i,s,o,a,l;const u=rl({name:"MuiModal",props:e}),{BackdropComponent:c=Hj,BackdropProps:d,classes:h,className:p,closeAfterTransition:f=!1,children:m,container:E,component:y,components:g={},componentsProps:v={},disableAutoFocus:w=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:I=!1,disablePortal:b=!1,disableRestoreFocus:P=!1,disableScrollLock:V=!1,hideBackdrop:A=!1,keepMounted:z=!1,onBackdropClick:te,onClose:ne,open:J,slotProps:ee,slots:pe,theme:dt}=u,$=Qe(u,Gj),[H,G]=_.useState(!0),me={container:E,closeAfterTransition:f,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:I,disablePortal:b,disableRestoreFocus:P,disableScrollLock:V,hideBackdrop:A,keepMounted:z,onBackdropClick:te,onClose:ne,open:J},Ee=L({},u,me,{exited:H}),mn=(r=(i=pe==null?void 0:pe.root)!=null?i:g.Root)!=null?r:Kj,nt=(s=(o=pe==null?void 0:pe.backdrop)!=null?o:g.Backdrop)!=null?s:c,ht=(a=ee==null?void 0:ee.root)!=null?a:v.root,rt=(l=ee==null?void 0:ee.backdrop)!=null?l:v.backdrop;return x.jsx(fj,L({slots:{root:mn,backdrop:nt},slotProps:{root:()=>L({},bv(ht,Ee),!lP(mn)&&{as:y,theme:dt},{className:st(p,ht==null?void 0:ht.className,h==null?void 0:h.root,!Ee.open&&Ee.exited&&(h==null?void 0:h.hidden))}),backdrop:()=>L({},d,bv(rt,Ee),{className:st(rt==null?void 0:rt.className,h==null?void 0:h.backdrop)})},onTransitionEnter:()=>G(!1),onTransitionExited:()=>G(!0),ref:n},$,me,{children:m}))}),kv=Qj;var Yj=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const Jj=Cc(Yj);var Cv={exports:{}},fP;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/fP=function(){var t={},e={};return t.on=function(n,r){var i={name:n,handler:r};return e[n]=e[n]||[],e[n].unshift(i),i},t.off=function(n){var r=e[n.name].indexOf(n);r!==-1&&e[n.name].splice(r,1)},t.trigger=function(n,r){var i=e[n],s;if(i)for(s=i.length;s--;)i[s].handler(r)},t};var Xj=fP,Pv={exports:{}},Zj=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},s.type=n.type||"text/javascript",s.charset=n.charset||"utf8",s.async="async"in n?!!n.async:!0,s.src=e,n.attrs&&eV(s,n.attrs),n.text&&(s.text=""+n.text);var o="onload"in s?EI:tV;o(s,r),s.onload||EI(s,r),i.appendChild(s)};function eV(t,e){for(var n in e)t.setAttribute(n,e[n])}function EI(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function tV(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Zj,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=function(s){var o=new Promise(function(a){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){a(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(l+"//www.youtube.com/iframe_api",function(c){c&&s.trigger("error",c)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),a(window.YT)}});return o},t.exports=e.default})(Pv,Pv.exports);var nV=Pv.exports,Rv={exports:{}},Av={exports:{}},Nv={exports:{}},Yu=1e3,Ju=Yu*60,Xu=Ju*60,Zu=Xu*24,rV=Zu*365.25,iV=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return sV(t);if(n==="number"&&isNaN(t)===!1)return e.long?aV(t):oV(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function sV(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*rV;case"days":case"day":case"d":return n*Zu;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Xu;case"minutes":case"minute":case"mins":case"min":case"m":return n*Ju;case"seconds":case"second":case"secs":case"sec":case"s":return n*Yu;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function oV(t){return t>=Zu?Math.round(t/Zu)+"d":t>=Xu?Math.round(t/Xu)+"h":t>=Ju?Math.round(t/Ju)+"m":t>=Yu?Math.round(t/Yu)+"s":t+"ms"}function aV(t){return $d(t,Zu,"day")||$d(t,Xu,"hour")||$d(t,Ju,"minute")||$d(t,Yu,"second")||t+" ms"}function $d(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}(function(t,e){e=t.exports=i.debug=i.default=i,e.coerce=l,e.disable=o,e.enable=s,e.enabled=a,e.humanize=iV,e.names=[],e.skips=[],e.formatters={};var n;function r(u){var c=0,d;for(d in u)c=(c<<5)-c+u.charCodeAt(d),c|=0;return e.colors[Math.abs(c)%e.colors.length]}function i(u){function c(){if(c.enabled){var d=c,h=+new Date,p=h-(n||h);d.diff=p,d.prev=n,d.curr=h,n=h;for(var f=new Array(arguments.length),m=0;m<f.length;m++)f[m]=arguments[m];f[0]=e.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var E=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(g,v){if(g==="%%")return g;E++;var w=e.formatters[v];if(typeof w=="function"){var S=f[E];g=w.call(d,S),f.splice(E,1),E--}return g}),e.formatArgs.call(d,f);var y=c.log||e.log||console.log.bind(console);y.apply(d,f)}}return c.namespace=u,c.enabled=e.enabled(u),c.useColors=e.useColors(),c.color=r(u),typeof e.init=="function"&&e.init(c),c}function s(u){e.save(u),e.names=[],e.skips=[];for(var c=(typeof u=="string"?u:"").split(/[\s,]+/),d=c.length,h=0;h<d;h++)c[h]&&(u=c[h].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function o(){e.enable("")}function a(u){var c,d;for(c=0,d=e.skips.length;c<d;c++)if(e.skips[c].test(u))return!1;for(c=0,d=e.names.length;c<d;c++)if(e.names[c].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}})(Nv,Nv.exports);var lV=Nv.exports;(function(t,e){e=t.exports=lV,e.log=i,e.formatArgs=r,e.save=s,e.load=o,e.useColors=n,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:a(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function r(l){var u=this.useColors;if(l[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+l[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var c="color: "+this.color;l.splice(1,0,c,"color: inherit");var d=0,h=0;l[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(d++,p==="%c"&&(h=d))}),l.splice(h,0,c)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(l){try{l==null?e.storage.removeItem("debug"):e.storage.debug=l}catch{}}function o(){var l;try{l=e.storage.debug}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}e.enable(o());function a(){try{return window.localStorage}catch{}}})(Av,Av.exports);var uV=Av.exports,Ov={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(Ov,Ov.exports);var cV=Ov.exports,Dv={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(Dv,Dv.exports);var dV=Dv.exports,$v={exports:{}},Mv={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(Mv,Mv.exports);var hV=Mv.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=hV,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})($v,$v.exports);var fV=$v.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=uV,r=c(n),i=cV,s=c(i),o=dV,a=c(o),l=fV,u=c(l);function c(p){return p&&p.__esModule?p:{default:p}}var d=(0,r.default)("youtube-player"),h={};h.proxyEvents=function(p){var f={},m=function(b){var P="on"+b.slice(0,1).toUpperCase()+b.slice(1);f[P]=function(V){d('event "%s"',P,V),p.trigger(b,V)}},E=!0,y=!1,g=void 0;try{for(var v=a.default[Symbol.iterator](),w;!(E=(w=v.next()).done);E=!0){var S=w.value;m(S)}}catch(I){y=!0,g=I}finally{try{!E&&v.return&&v.return()}finally{if(y)throw g}}return f},h.promisifyPlayer=function(p){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m={},E=function(P){f&&u.default[P]?m[P]=function(){for(var V=arguments.length,A=Array(V),z=0;z<V;z++)A[z]=arguments[z];return p.then(function(te){var ne=u.default[P],J=te.getPlayerState(),ee=te[P].apply(te,A);return ne.stateChangeRequired||Array.isArray(ne.acceptableStates)&&ne.acceptableStates.indexOf(J)===-1?new Promise(function(pe){var dt=function $(){var H=te.getPlayerState(),G=void 0;typeof ne.timeout=="number"&&(G=setTimeout(function(){te.removeEventListener("onStateChange",$),pe()},ne.timeout)),Array.isArray(ne.acceptableStates)&&ne.acceptableStates.indexOf(H)!==-1&&(te.removeEventListener("onStateChange",$),clearTimeout(G),pe())};te.addEventListener("onStateChange",dt)}).then(function(){return ee}):ee})}:m[P]=function(){for(var V=arguments.length,A=Array(V),z=0;z<V;z++)A[z]=arguments[z];return p.then(function(te){return te[P].apply(te,A)})}},y=!0,g=!1,v=void 0;try{for(var w=s.default[Symbol.iterator](),S;!(y=(S=w.next()).done);y=!0){var I=S.value;E(I)}}catch(b){g=!0,v=b}finally{try{!y&&w.return&&w.return()}finally{if(g)throw v}}return m},e.default=h,t.exports=e.default})(Rv,Rv.exports);var pV=Rv.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},r=Xj,i=u(r),s=nV,o=u(s),a=pV,l=u(a);function u(d){return d&&d.__esModule?d:{default:d}}var c=void 0;e.default=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=(0,i.default)();if(c||(c=(0,o.default)(f)),h.events)throw new Error("Event handlers cannot be overwritten.");if(typeof d=="string"&&!document.getElementById(d))throw new Error('Element "'+d+'" does not exist.');h.events=l.default.proxyEvents(f);var m=new Promise(function(y){if((typeof d>"u"?"undefined":n(d))==="object"&&d.playVideo instanceof Function){var g=d;y(g)}else c.then(function(v){var w=new v.Player(d,h);return f.on("ready",function(){y(w)}),null})}),E=l.default.promisifyPlayer(m,p);return E.on=f.on,E.off=f.off,E},t.exports=e.default})(Cv,Cv.exports);var mV=Cv.exports;const gV=Cc(mV);var yV=Object.defineProperty,vV=Object.defineProperties,wV=Object.getOwnPropertyDescriptors,_I=Object.getOwnPropertySymbols,EV=Object.prototype.hasOwnProperty,_V=Object.prototype.propertyIsEnumerable,SI=(t,e,n)=>e in t?yV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lv=(t,e)=>{for(var n in e||(e={}))EV.call(e,n)&&SI(t,n,e[n]);if(_I)for(var n of _I(e))_V.call(e,n)&&SI(t,n,e[n]);return t},Fv=(t,e)=>vV(t,wV(e)),SV=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(u){i(u)}},o=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});function IV(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const i=((n=t.opts)==null?void 0:n.playerVars)||{},s=((r=e.opts)==null?void 0:r.playerVars)||{};return i.start!==s.start||i.end!==s.end}function II(t={}){return Fv(Lv({},t),{height:0,width:0,playerVars:Fv(Lv({},t.playerVars),{autoplay:0,start:0,end:0})})}function bV(t,e){return t.videoId!==e.videoId||!Jj(II(t.opts),II(e.opts))}function TV(t,e){var n,r,i,s;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((i=t.opts)==null?void 0:i.height)!==((s=e.opts)==null?void 0:s.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var xV={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},kV={videoId:bt.string,id:bt.string,className:bt.string,iframeClassName:bt.string,style:bt.object,title:bt.string,loading:bt.oneOf(["lazy","eager"]),opts:bt.objectOf(bt.any),onReady:bt.func,onError:bt.func,onPlay:bt.func,onPause:bt.func,onEnd:bt.func,onStateChange:bt.func,onPlaybackRateChange:bt.func,onPlaybackQualityChange:bt.func},gh=class extends Ht.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,i,s,o,a,l,u;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case gh.PlayerState.ENDED:(s=(i=this.props).onEnd)==null||s.call(i,e);break;case gh.PlayerState.PLAYING:(a=(o=this.props).onPlay)==null||a.call(o,e);break;case gh.PlayerState.PAUSED:(u=(l=this.props).onPause)==null||u.call(l,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=Fv(Lv({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=gV(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let s=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),s){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(i=this.internalPlayer)==null||i.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return SV(this,null,function*(){TV(t,this.props)&&this.updatePlayer(),bV(t,this.props)&&(yield this.resetPlayer()),IV(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Ht.createElement("div",{className:this.props.className,style:this.props.style},Ht.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},jp=gh;jp.propTypes=kV;jp.defaultProps=xV;jp.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Uv=jp;function CV(){const[t,e]=_.useState([]),n={position:"absolute",top:"34%",left:"50%",transform:"translate(-50%, -50%)",width:{zero:"100%",xs:"100%",sm:"100%",md:"100%",lg:"80%"},border:"none",bgcolor:"#000000"},r={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{zero:"100%",xs:"100%",sm:"100%",md:"100%",lg:"41.6%"},border:"none",height:"400px",borderRadius:"10px"},i={height:"390",width:"90%",playerVars:{autoplay:1}},s={height:"250",width:"100%",playerVars:{autoplay:1}};_.useEffect(()=>{async function S(){const I=await la.get(Nr.fetchNetflixOriginals);return e(I.data.results[Math.floor(Math.random()*I.data.results.length-1)]),I}S()},[]),console.log(t);function o(S,I){return(S==null?void 0:S.length)>I?S.substr(0,I-1)+"...":S}const[a,l]=_.useState(!1),u=()=>l(!0),c=()=>l(!1),[d,h]=_.useState(!1),p=()=>h(!0),f=()=>h(!1),[m,E]=_.useState(""),y=S=>{if(console.log(S),m)E("");else{const I={method:"GET",url:`https://api.themoviedb.org/3/tv/${S.id}/videos`,params:{language:"en-US"},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0OTI0OWM2NzY3NjUwMzY4OGU5MTI1ODZjMzUyMGNhZiIsInN1YiI6IjY0NGJkOGY4NTk2YTkxMDU0ZDU3ZTRjMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.If7kAJOxLvVQ40B6iyWPYw4dB5cVPNFKwbQZxLHoi9s"}};la.request(I).then(function(b){var P;E((P=b.data.results[0])==null?void 0:P.key)}).catch(function(b){console.error(b)})}u()},[g,v]=_.useState(!1),w=S=>{if(v(!g),g)v("");else{const I={method:"GET",url:`https://api.themoviedb.org/3/tv/${S.id}/videos`,params:{language:"en-US"},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0OTI0OWM2NzY3NjUwMzY4OGU5MTI1ODZjMzUyMGNhZiIsInN1YiI6IjY0NGJkOGY4NTk2YTkxMDU0ZDU3ZTRjMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.If7kAJOxLvVQ40B6iyWPYw4dB5cVPNFKwbQZxLHoi9s"}};la.request(I).then(function(b){var P;v((P=b.data.results[0])==null?void 0:P.key)}).catch(function(b){console.error(b)})}return g?p():c(),g};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:" relative h-[370px] text-white object-contain  ",style:{backgroundImage:`url("https://image.tmdb.org/t/p/original/${(t==null?void 0:t.backdrop_path)||(t==null?void 0:t.poster_path)}")`,backgroundPosition:"center center",backgroundSize:"cover"},children:[x.jsxs("div",{className:"ml-[30px] py-[140px] h-[300px]",children:[x.jsx("h1",{className:"text-[2.5rem] font-extrabold pb-[0.3rem]",children:(t==null?void 0:t.title)||(t==null?void 0:t.name)||(t==null?void 0:t.original_name)}),x.jsxs("div",{children:[x.jsx("button",{onClick:()=>y(t),className:`px-[1.7rem] mr-[1rem] rounded-[0.2vw] font-bold  border-n\r
             text-[#fff] py-[0.4rem] bg-ts-1 hover:bg-[#e6e6e6] hover:text-black transition-all duration-[0.2s]  `,children:"Play"}),x.jsx(kv,{open:a,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:x.jsx(Iv,{sx:n,children:x.jsx(Uv,{videoId:m,opts:i,className:""})})}),x.jsx("button",{onClick:p,className:`px-[1.7rem] mr-[1rem] rounded-[0.2vw] font-bold  border-n\r
             text-[#fff] bg-ts-1 py-[0.4rem] hover:bg-[#e6e6e6] hover:text-black transition-all duration-[0.2s] `,children:"Info"}),x.jsx(kv,{open:d,onClose:f,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:x.jsxs(Iv,{sx:r,className:"overflow-scroll scrollbar-none",children:[g?x.jsx(Uv,{videoId:g,opts:s,className:""}):x.jsx("img",{className:"h-[300px] zero:h-[221px]  object-center w-[100%]  object-contain",src:`https://image.tmdb.org/t/p/original/${(t==null?void 0:t.backdrop_path)||(t==null?void 0:t.poster_path)}`,alt:(t==null?void 0:t.title)||(t==null?void 0:t.name)||(t==null?void 0:t.original_name)}),x.jsxs("div",{className:"p-[20px] bg-[#161a1e] text-white",children:[x.jsxs("div",{className:" flex items-center justify-between ",children:[x.jsx("h1",{className:"font-bold text-[1.6rem] w-[70%] ",children:(t==null?void 0:t.title)||(t==null?void 0:t.name)||(t==null?void 0:t.original_name)}),x.jsx("button",{onClick:()=>w(t),className:` mx-4  ${g?"hidden":"  hover:scale-105 hover:ease-out hover:text-[1rem]  transition-all duration-300"}  `,children:x.jsx(dP,{sx:{fontSize:"2rem"}})})]}),x.jsxs("div",{className:"flex items-center my-4    justify-between",children:[x.jsx("p",{className:"text-[1.2rem] zero:text-xs font-bold bg-[#2d353d] rounded-lg px-2 ",children:t==null?void 0:t.vote_average}),x.jsx("p",{className:"text-[1.2rem]  zero:text-xsfont-bold bg-[#2d353d] rounded-lg px-2",children:t==null?void 0:t.vote_count}),x.jsx("p",{className:"text-[1.2rem] zero:text-xs font-bold bg-[#2d353d] rounded-lg px-2",children:t==null?void 0:t.original_language}),x.jsx("p",{className:"text-[1.2rem] zero:text-xs font-bold bg-[#2d353d] rounded-lg px-2",children:t==null?void 0:t.popularity}),x.jsx("p",{className:"text-[1.2rem] zero:text-xs font-bold bg-[#2d353d] rounded-lg px-2",children:t!=null&&t.adult?"18+":"13+"}),x.jsx("p",{className:"bg-[#2d353d] rounded-lg px-2 font-bold ",children:(t==null?void 0:t.first_air_date)||(t==null?void 0:t.release_date)||(t==null?void 0:t.original_name)})]}),x.jsx("p",{className:"text-[1.2rem] font-bold",children:t==null?void 0:t.original_title}),x.jsx("p",{children:t==null?void 0:t.overview})]})]})})]}),x.jsx("div",{className:"w-[45rem] leading-[1.3] pt-[1rem] text-[0.8rem] max-w-[360px] h-[50px]",children:o(t==null?void 0:t.overview,150)})]}),x.jsx("div",{className:"Fa--fade"})]})})}function hi({title:t,FetchURL:e,isLargeRow:n=!1}){const[r,i]=_.useState([]),s="https://image.tmdb.org/t/p/original/";_.useEffect(()=>{async function g(){const v=await la.get(e);return i(v.data.results),v}g()},[e]);const o={height:"390",width:"100%",playerVars:{autoplay:1}},[a,l]=_.useState(!1),u=()=>l(!0),c=()=>l(!1)&&clearUrl(),d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{zero:"100%",xs:"100%",sm:"100%",md:"100%",lg:900},border:"none",bgcolor:"#000000"},[h,p]=_.useState(""),[f,m]=_.useState(""),E=async g=>{if(console.log(g),h)p("");else{const v={method:"GET",url:`https://api.themoviedb.org/3/movie/${g.id}/videos`,params:{language:"en-US"},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0OTI0OWM2NzY3NjUwMzY4OGU5MTI1ODZjMzUyMGNhZiIsInN1YiI6IjY0NGJkOGY4NTk2YTkxMDU0ZDU3ZTRjMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.If7kAJOxLvVQ40B6iyWPYw4dB5cVPNFKwbQZxLHoi9s"}};la.request(v).then(function(w){var S;p((S=w.data.results[0])==null?void 0:S.key)}).catch(function(w){console.error(w)})}u()},y=async g=>{if(console.log(g),f)m("");else{const v={method:"GET",url:`https://api.themoviedb.org/3/tv/${g.id}/videos`,params:{language:"en-US"},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0OTI0OWM2NzY3NjUwMzY4OGU5MTI1ODZjMzUyMGNhZiIsInN1YiI6IjY0NGJkOGY4NTk2YTkxMDU0ZDU3ZTRjMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.If7kAJOxLvVQ40B6iyWPYw4dB5cVPNFKwbQZxLHoi9s"}};la.request(v).then(function(w){var S;m((S=w.data.results[0])==null?void 0:S.key)}).catch(function(w){console.error(w)})}u()};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"text-white ml-[20px] ",children:[x.jsx("h1",{children:t}),x.jsx("div",{className:"flex overflow-y-hidden overflow-x-scroll scrollbar-none scroll-smooth p-[20px]",children:r.map(g=>(n&&g.poster_path||!n&&g.backdrop_path)&&x.jsx("img",{onClick:()=>n?y(g):E(g),className:`max-h-[100px] object-contain mr-[10px] hover:scale-[1.08] hover:opacity-[1] transition-transform duration-[450ms]  ${n&&"max-h-[250px] hover:scale-[1.09] hover:opacity-[1]"}`,src:`${s}${n?g.poster_path:g.backdrop_path}`,alt:g.name},g.id))}),x.jsx(kv,{open:a,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:x.jsx(Iv,{sx:d,children:x.jsx(Uv,{videoId:h||f,opts:o,className:""})})})]})})}function PV(){return x.jsxs("div",{className:"HomeScreen",children:[x.jsx(cC,{}),x.jsx(CV,{}),x.jsx(hi,{title:"NETFLIX ORIGINALS",FetchURL:Nr.fetchNetflixOriginals,isLargeRow:!0}),x.jsx(hi,{title:"Trending Now",FetchURL:Nr.fetchTrending}),x.jsx(hi,{title:"Top Rated",FetchURL:Nr.fetchTopRated}),x.jsx(hi,{title:"Action Movies",FetchURL:Nr.fetchActionMovies}),x.jsx(hi,{title:"Comedy Movies",FetchURL:Nr.fetchComedyMovies}),x.jsx(hi,{title:"Horror Movies",FetchURL:Nr.fetchHorroMovies}),x.jsx(hi,{title:"Romance Movies",FetchURL:Nr.fetchRomanceMovies}),x.jsx(hi,{title:"Documantaries",FetchURL:Nr.fetchDocumantaries})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new AV;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const f=u<<6&192|d;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NV=function(t){const e=pP(t);return mP.encodeByteArray(e,!0)},af=function(t){return NV(t).replace(/\./g,"")},gP=function(t){try{return mP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!OV(n)||(t[n]=lf(t[n],e[n]));return t}function OV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=()=>DV().__FIREBASE_DEFAULTS__,MV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gP(t[1]);return e&&JSON.parse(e)},d1=()=>{try{return $V()||MV()||LV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yP=()=>{var t;return(t=d1())===null||t===void 0?void 0:t.config},FV=t=>{var e;return(e=d1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[af(JSON.stringify(n)),af(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function h1(){var t;const e=(t=d1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BV(){return typeof self=="object"&&self.self===self}function vP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function f1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wP(){const t=Le();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zV(){return!h1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ec(){try{return typeof indexedDB=="object"}catch{return!1}}function qV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="FirebaseError";class Jt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WV,Object.setPrototypeOf(this,Jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vo.prototype.create)}}class vo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?GV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Jt(i,a,r)}}function GV(t,e){return t.replace(KV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function HV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(TI(s)&&TI(o)){if(!jv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ea(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function EP(t,e){const n=new QV(t,e);return n.subscribe.bind(n)}class QV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$g),i.error===void 0&&(i.error=$g),i.complete===void 0&&(i.complete=$g);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t){return t&&t._delegate?t._delegate:t}class br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZV(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function XV(t){return t===_s?void 0:t}function ZV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=[];var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const _P={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},tB=oe.INFO,nB={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},rB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=tB,this._logHandler=rB,this._userLogHandler=null,p1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}function iB(t){p1.forEach(e=>{e.setLogLevel(t)})}function sB(t,e){for(const n of p1){let r=null;e&&e.level&&(r=_P[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:oe[s].toLowerCase(),message:a,args:o,type:i.name})}}}const oB=(t,e)=>e.some(n=>t instanceof n);let xI,kI;function aB(){return xI||(xI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lB(){return kI||(kI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SP=new WeakMap,Vv=new WeakMap,IP=new WeakMap,Mg=new WeakMap,m1=new WeakMap;function uB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Li(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SP.set(n,t)}).catch(()=>{}),m1.set(e,t),e}function cB(t){if(Vv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vv.set(t,e)}let Bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dB(t){Bv=t(Bv)}function hB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lg(this),e,...n);return IP.set(r,e.sort?e.sort():[e]),Li(r)}:lB().includes(t)?function(...e){return t.apply(Lg(this),e),Li(SP.get(this))}:function(...e){return Li(t.apply(Lg(this),e))}}function fB(t){return typeof t=="function"?hB(t):(t instanceof IDBTransaction&&cB(t),oB(t,aB())?new Proxy(t,Bv):t)}function Li(t){if(t instanceof IDBRequest)return uB(t);if(Mg.has(t))return Mg.get(t);const e=fB(t);return e!==t&&(Mg.set(t,e),m1.set(e,t)),e}const Lg=t=>m1.get(t);function pB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Li(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Li(o.result),l.oldVersion,l.newVersion,Li(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const mB=["get","getKey","getAll","getAllKeys","count"],gB=["put","add","delete","clear"],Fg=new Map;function CI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mB.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fg.set(e,s),s}dB(t=>({...t,get:(e,n,r)=>CI(e,n)||t.get(e,n,r),has:(e,n)=>!!CI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zv="@firebase/app",PI="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Vp("@firebase/app"),wB="@firebase/app-compat",EB="@firebase/analytics-compat",_B="@firebase/analytics",SB="@firebase/app-check-compat",IB="@firebase/app-check",bB="@firebase/auth",TB="@firebase/auth-compat",xB="@firebase/database",kB="@firebase/database-compat",CB="@firebase/functions",PB="@firebase/functions-compat",RB="@firebase/installations",AB="@firebase/installations-compat",NB="@firebase/messaging",OB="@firebase/messaging-compat",DB="@firebase/performance",$B="@firebase/performance-compat",MB="@firebase/remote-config",LB="@firebase/remote-config-compat",FB="@firebase/storage",UB="@firebase/storage-compat",jB="@firebase/firestore",VB="@firebase/firestore-compat",BB="firebase",zB="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]",qB={[zv]:"fire-core",[wB]:"fire-core-compat",[_B]:"fire-analytics",[EB]:"fire-analytics-compat",[IB]:"fire-app-check",[SB]:"fire-app-check-compat",[bB]:"fire-auth",[TB]:"fire-auth-compat",[xB]:"fire-rtdb",[kB]:"fire-rtdb-compat",[CB]:"fire-fn",[PB]:"fire-fn-compat",[RB]:"fire-iid",[AB]:"fire-iid-compat",[NB]:"fire-fcm",[OB]:"fire-fcm-compat",[DB]:"fire-perf",[$B]:"fire-perf-compat",[MB]:"fire-rc",[LB]:"fire-rc-compat",[FB]:"fire-gcs",[UB]:"fire-gcs-compat",[jB]:"fire-fst",[VB]:"fire-fst-compat","fire-js":"fire-js",[BB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Map,tc=new Map;function uf(t,e){try{t.container.addComponent(e)}catch(n){to.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bP(t,e){t.container.addOrOverwriteComponent(e)}function Wi(t){const e=t.name;if(tc.has(e))return to.debug(`There were multiple attempts to register component ${e}.`),!1;tc.set(e,t);for(const n of qi.values())uf(n,t);return!0}function TP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function WB(t,e,n=zi){TP(t,e).clearInstance(n)}function GB(){tc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gr=new vo("app","Firebase",KB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HB=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=zB;function g1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zi,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=yP()),!n)throw Gr.create("no-options");const s=qi.get(i);if(s){if(jv(n,s.options)&&jv(r,s.config))return s;throw Gr.create("duplicate-app",{appName:i})}const o=new eB(i);for(const l of tc.values())o.addComponent(l);const a=new HB(n,r,o);return qi.set(i,a),a}function QB(t=zi){const e=qi.get(t);if(!e&&t===zi&&yP())return g1();if(!e)throw Gr.create("no-app",{appName:t});return e}function YB(){return Array.from(qi.values())}async function xP(t){const e=t.name;qi.has(e)&&(qi.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Er(t,e,n){var r;let i=(r=qB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),to.warn(a.join(" "));return}Wi(new br(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function kP(t,e){if(t!==null&&typeof t!="function")throw Gr.create("invalid-log-argument");sB(t,e)}function CP(t){iB(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB="firebase-heartbeat-database",XB=1,nc="firebase-heartbeat-store";let Ug=null;function PP(){return Ug||(Ug=pB(JB,XB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(nc)}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),Ug}async function ZB(t){try{return await(await PP()).transaction(nc).objectStore(nc).get(RP(t))}catch(e){if(e instanceof Jt)to.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});to.warn(n.message)}}}async function RI(t,e){try{const r=(await PP()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,RP(t)),await r.done}catch(n){if(n instanceof Jt)to.warn(n.message);else{const r=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});to.warn(r.message)}}}function RP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=1024,t3=30*24*60*60*1e3;class n3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=AI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=t3}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=AI(),{heartbeatsToSend:n,unsentEntries:r}=r3(this._heartbeatsCache.heartbeats),i=af(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function AI(){return new Date().toISOString().substring(0,10)}function r3(t,e=e3){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ec()?qV().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ZB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NI(t){return af(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){Wi(new br("platform-logger",e=>new yB(e),"PRIVATE")),Wi(new br("heartbeat",e=>new n3(e),"PRIVATE")),Er(zv,PI,t),Er(zv,PI,"esm2017"),Er("fire-js","")}s3("");const o3=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Jt,SDK_VERSION:as,_DEFAULT_ENTRY_NAME:zi,_addComponent:uf,_addOrOverwriteComponent:bP,_apps:qi,_clearComponents:GB,_components:tc,_getProvider:TP,_registerComponent:Wi,_removeServiceInstance:WB,deleteApp:xP,getApp:QB,getApps:YB,initializeApp:g1,onLog:kP,registerVersion:Er,setLogLevel:CP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n){this._delegate=e,this.firebase=n,uf(e,new br("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),xP(this._delegate)))}_getService(e,n=zi){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=zi){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){uf(this._delegate,e)}_addOrOverwriteComponent(e){bP(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},OI=new vo("app-compat","Firebase",l3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Er,setLogLevel:CP,onLog:kP,apps:null,SDK_VERSION:as,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:o3}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||zi,!bI(e,u))throw OI.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=g1(u,c);if(bI(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(Wi(u)&&u.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[d]!="function")throw OI.create("invalid-app-argument",{appName:c});return p[d]()};u.serviceProps!==void 0&&lf(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...p){return this._getService.bind(this,c).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(){const t=u3(a3);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:AP,extendNamespace:e,createSubscribe:EP,ErrorFactory:vo,deepExtend:lf});function e(n){lf(t,n)}return t}const c3=AP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Vp("@firebase/app-compat"),d3="@firebase/app-compat",h3="0.2.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){Er(d3,h3,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(BV()&&self.firebase!==void 0){DI.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&DI.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const ls=c3;f3();var p3="firebase",m3="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls.registerVersion(p3,m3,"app-compat");function y1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Dl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Do={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-password"]:"A non-empty password must be provided",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",["missing-recaptcha-token"]:"The reCAPTCHA token is missing when sending request to the backend.",["invalid-recaptcha-token"]:"The reCAPTCHA token is invalid when sending request to the backend.",["invalid-recaptcha-action"]:"The reCAPTCHA action is invalid when sending request to the backend.",["recaptcha-not-enabled"]:"reCAPTCHA Enterprise integration is not enabled for this project.",["missing-client-type"]:"The reCAPTCHA client type is missing when sending request to the backend.",["missing-recaptcha-version"]:"The reCAPTCHA version is missing when sending request to the backend.",["invalid-req-type"]:"Invalid request parameters.",["invalid-recaptcha-version"]:"The reCAPTCHA version is invalid when sending request to the backend."}}function NP(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y3=g3,v3=NP,OP=new vo("auth","Firebase",NP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Vp("@firebase/auth");function w3(t,...e){cf.logLevel<=oe.WARN&&cf.warn(`Auth (${as}): ${t}`,...e)}function yh(t,...e){cf.logLevel<=oe.ERROR&&cf.error(`Auth (${as}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t,...e){throw v1(t,...e)}function Rt(t,...e){return v1(t,...e)}function DP(t,e,n){const r=Object.assign(Object.assign({},v3()),{[e]:n});return new vo("auth","Firebase",r).create(e,{appName:t.name})}function sl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ot(t,"argument-error"),DP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OP.create(t,...e)}function D(t,e,...n){if(!t)throw v1(e,...n)}function fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yh(e),new Error(e)}function Xn(t,e){t||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function w1(){return $I()==="http:"||$I()==="https:"}function $I(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w1()||vP()||"connection"in navigator)?navigator.onLine:!0}function _3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=VV()||f1()}get(){return E3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t,e){Xn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new jc(3e4,6e4);function tt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ct(t,e,n,r,i={}){return MP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=il(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),$P.fetch()(LP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function MP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},S3),e);try{const i=new b3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw DP(t,c,u);Ot(t,c)}}catch(i){if(i instanceof Jt)throw i;Ot(t,"network-request-failed",{message:String(i)})}}async function si(t,e,n,r,i={}){const s=await ct(t,e,n,r,i);return"mfaPendingCredential"in s&&Ot(t,"multi-factor-auth-required",{_serverResponse:s}),s}function LP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?E1(t.config,i):`${t.config.apiScheme}://${i}`}class b3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rt(this.auth,"network-request-failed")),I3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(t,e){return ct(t,"POST","/v1/accounts:delete",e)}async function x3(t,e){return ct(t,"POST","/v1/accounts:update",e)}async function k3(t,e){return ct(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C3(t,e=!1){const n=K(t),r=await n.getIdToken(e),i=Bp(r);D(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:mu(jg(i.auth_time)),issuedAtTime:mu(jg(i.iat)),expirationTime:mu(jg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jg(t){return Number(t)*1e3}function Bp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const i=gP(n);return i?JSON.parse(i):(yh("Failed to decode base64 JWT payload"),null)}catch(i){return yh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function P3(t){const e=Bp(t);return D(e,"internal-error"),D(typeof e.exp<"u","internal-error"),D(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zr(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jt&&R3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Zr(t,k3(n,{idToken:r}));D(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?D3(s.providerUserInfo):[],a=O3(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new FP(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function N3(t){const e=K(t);await ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function D3(t){return t.map(e=>{var{providerId:n}=e,r=y1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e){const n=await MP(t,{},async()=>{const r=il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=LP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$P.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(typeof e.idToken<"u","internal-error"),D(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return D(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await $3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new sc;return r&&(D(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(D(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(D(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sc,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){D(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=y1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new FP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Zr(this,this.stsTokenManager.getToken(this.auth,e));return D(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C3(this,e)}reload(){return N3(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Zr(this,T3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,f=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:w,isAnonymous:S,providerData:I,stsTokenManager:b}=n;D(v&&b,e,"internal-error");const P=sc.fromJSON(this.name,b);D(typeof v=="string",e,"internal-error"),fi(d,e.name),fi(h,e.name),D(typeof w=="boolean",e,"internal-error"),D(typeof S=="boolean",e,"internal-error"),fi(p,e.name),fi(f,e.name),fi(m,e.name),fi(E,e.name),fi(y,e.name),fi(g,e.name);const V=new qs({uid:v,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:S,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:P,createdAt:y,lastLoginAt:g});return I&&Array.isArray(I)&&(V.providerData=I.map(A=>Object.assign({},A))),E&&(V._redirectEventId=E),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new sc;i.updateFromServerResponse(n);const s=new qs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ic(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Map;function En(t){Xn(t instanceof Function,"Expected a class definition");let e=MI.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UP.type="NONE";const Aa=UP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e,n){return`firebase:${t}:${e}:${n}`}class da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ws(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ws("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new da(En(Aa),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||En(Aa);const o=Ws(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=qs._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new da(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new da(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zP(e))return"Blackberry";if(qP(e))return"Webos";if(_1(e))return"Safari";if((e.includes("chrome/")||VP(e))&&!e.includes("edge/"))return"Chrome";if(Vc(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jP(t=Le()){return/firefox\//i.test(t)}function _1(t=Le()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VP(t=Le()){return/crios\//i.test(t)}function BP(t=Le()){return/iemobile/i.test(t)}function Vc(t=Le()){return/android/i.test(t)}function zP(t=Le()){return/blackberry/i.test(t)}function qP(t=Le()){return/webos/i.test(t)}function ol(t=Le()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M3(t=Le()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function L3(t=Le()){var e;return ol(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function F3(){return wP()&&document.documentMode===10}function WP(t=Le()){return ol(t)||Vc(t)||qP(t)||zP(t)||/windows phone/i.test(t)||BP(t)}function U3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e=[]){let n;switch(t){case"Browser":n=LI(Le());break;case"Worker":n=`${LI(Le())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${as}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t){return(await ct(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function KP(t,e){return ct(t,"GET","/v2/recaptchaConfig",tt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){return t!==void 0&&t.getResponse!==void 0}function UI(t){return t!==void 0&&t.enterprise!==void 0}class HP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function S1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Rt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",V3().appendChild(r)})}function QP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const B3="https://www.google.com/recaptcha/enterprise.js?render=",z3="recaptcha-enterprise",q3="NO_RECAPTCHA";class YP{constructor(e){this.type=z3,this.auth=He(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{KP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new HP(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;UI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(q3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&UI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}S1(B3+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Gi(t,e,n,r=!1){const i=new YP(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jI(this),this.idTokenSubscription=new jI(this),this.beforeStateQueue=new W3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=En(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await da.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return D(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ic(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?K(e):null;return n&&D(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&D(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(En(e))})}async initializeRecaptchaConfig(){const e=await KP(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new HP(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new YP(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&En(e)||this._popupRedirectResolver;D(n,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[En(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return D(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&w3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function He(t){return K(t)}class jI{constructor(e){this.auth=e,this.observer=null,this.addObserver=EP(n=>this.observer=n)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function K3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(En);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H3(t,e,n){const r=He(t);D(r._canInitEmulator,r,"emulator-config-failed"),D(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=JP(e),{host:o,port:a}=Q3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Y3()}function JP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Q3(t){const e=JP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:VI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:VI(o)}}}function VI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e){return ct(t,"POST","/v1/accounts:resetPassword",tt(t,e))}async function ZP(t,e){return ct(t,"POST","/v1/accounts:update",e)}async function J3(t,e){return ct(t,"POST","/v1/accounts:update",tt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vg(t,e){return si(t,"POST","/v1/accounts:signInWithPassword",tt(t,e))}async function zp(t,e){return ct(t,"POST","/v1/accounts:sendOobCode",tt(t,e))}async function X3(t,e){return zp(t,e)}async function Bg(t,e){return zp(t,e)}async function zg(t,e){return zp(t,e)}async function Z3(t,e){return zp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(t,e){return si(t,"POST","/v1/accounts:signInWithEmailLink",tt(t,e))}async function tz(t,e){return si(t,"POST","/v1/accounts:signInWithEmailLink",tt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends al{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new oc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new oc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Gi(e,r,"signInWithPassword");return Vg(e,i)}else return Vg(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Gi(e,r,"signInWithPassword");return Vg(e,s)}else return Promise.reject(i)});case"emailLink":return ez(e,{email:this._email,oobCode:this._password});default:Ot(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return ZP(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return tz(e,{idToken:n,email:this._email,oobCode:this._password});default:Ot(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kr(t,e){return si(t,"POST","/v1/accounts:signInWithIdp",tt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz="http://localhost";class Tr extends al{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Tr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ot("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=y1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Tr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Kr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kr(e,n)}buildRequest(){const e={requestUri:nz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(t,e){return ct(t,"POST","/v1/accounts:sendVerificationCode",tt(t,e))}async function iz(t,e){return si(t,"POST","/v1/accounts:signInWithPhoneNumber",tt(t,e))}async function sz(t,e){const n=await si(t,"POST","/v1/accounts:signInWithPhoneNumber",tt(t,e));if(n.temporaryProof)throw Jl(t,"account-exists-with-different-credential",n);return n}const oz={USER_NOT_FOUND:"user-not-found"};async function az(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return si(t,"POST","/v1/accounts:signInWithPhoneNumber",tt(t,n),oz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends al{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Gs({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Gs({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return iz(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return sz(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return az(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Gs({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uz(t){const e=ea(Yl(t)).link,n=e?ea(Yl(e)).deep_link_id:null,r=ea(Yl(t)).deep_link_id;return(r?ea(Yl(r)).link:null)||r||n||e||t}class qp{constructor(e){var n,r,i,s,o,a;const l=ea(Yl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=lz((i=l.mode)!==null&&i!==void 0?i:null);D(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=uz(e);try{return new qp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.providerId=us.PROVIDER_ID}static credential(e,n){return oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qp.parseLink(n);return D(r,"argument-error"),oc._fromEmailAndCode(e,r.code,r.tenantId)}}us.PROVIDER_ID="password";us.EMAIL_PASSWORD_SIGN_IN_METHOD="password";us.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends oi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ha extends ll{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return D("providerId"in n&&"signInMethod"in n,"argument-error"),Tr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return D(e.idToken||e.accessToken,"argument-error"),Tr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ha.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ha.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new ha(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends ll{constructor(){super("facebook.com")}static credential(e){return Tr._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Tr._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends ll{constructor(){super("github.com")}static credential(e){return Tr._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz="http://localhost";class Na extends al{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Kr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Na(r,s)}static _create(e,n){return new Na(e,n)}buildRequest(){return{requestUri:cz,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz="saml.";class df extends oi{constructor(e){D(e.startsWith(dz),"argument-error"),super(e)}static credentialFromResult(e){return df.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return df.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Na.fromJSON(e);return D(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Na._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends ll{constructor(){super("twitter.com")}static credential(e,n){return Tr._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t,e){return si(t,"POST","/v1/accounts:signUp",tt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await qs._fromIdTokenResponse(e,r,i),o=BI(r);return new jn({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=BI(r);return new jn({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function BI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t){var e;const n=He(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new jn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await vh(n,{returnSecureToken:!0}),i=await jn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Jt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hf(e,n,r,i)}}function eR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e){const n=K(t);await Wp(!0,n,e);const{providerUserInfo:r}=await x3(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=tR(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function I1(t,e,n=!1){const r=await Zr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jn._forOperation(t,"link",r)}async function Wp(t,e,n){await ic(e);const r=tR(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";D(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Zr(t,eR(r,i,e,t),n);D(s.idToken,r,"internal-error");const o=Bp(s.idToken);D(o,r,"internal-error");const{sub:a}=o;return D(t.uid===a,r,"user-mismatch"),jn._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ot(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t,e,n=!1){const r="signIn",i=await eR(t,r,e),s=await jn._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Gp(t,e){return rR(He(t),e)}async function iR(t,e){const n=K(t);return await Wp(!1,n,e.providerId),I1(n,e)}async function sR(t,e){return nR(K(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e){return si(t,"POST","/v1/accounts:signInWithCustomToken",tt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mz(t,e){const n=He(t),r=await pz(n,{token:e,returnSecureToken:!0}),i=await jn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?b1._fromServerResponse(e,n):"totpInfo"in n?T1._fromServerResponse(e,n):Ot(e,"internal-error")}}class b1 extends Bc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new b1(n)}}class T1 extends Bc{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new T1(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t,e,n){var r;D(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),D(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(D(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(D(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(t,e,n){var r;const i=He(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Gi(i,s,"getOobCode",!0);n&&fa(i,o,n),await Bg(i,o)}else n&&fa(i,s,n),await Bg(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Gi(i,s,"getOobCode",!0);n&&fa(i,a,n),await Bg(i,a)}else return Promise.reject(o)})}async function yz(t,e,n){await XP(K(t),{oobCode:e,newPassword:n})}async function vz(t,e){await J3(K(t),{oobCode:e})}async function oR(t,e){const n=K(t),r=await XP(n,{oobCode:e}),i=r.requestType;switch(D(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":D(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":D(r.mfaInfo,n,"internal-error");default:D(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Bc._fromServerResponse(He(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function wz(t,e){const{data:n}=await oR(K(t),e);return n.email}async function Ez(t,e,n){var r;const i=He(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Gi(i,s,"signUpPassword");o=vh(i,u)}else o=vh(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Gi(i,s,"signUpPassword");return vh(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await jn._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function _z(t,e,n){return Gp(K(t),us.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz(t,e,n){var r;const i=He(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){D(l.handleCodeInApp,i,"argument-error"),l&&fa(i,a,l)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await Gi(i,s,"getOobCode",!0);o(a,n),await zg(i,a)}else o(s,n),await zg(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await Gi(i,s,"getOobCode",!0);o(l,n),await zg(i,l)}else return Promise.reject(a)})}function Iz(t,e){const n=qp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function bz(t,e,n){const r=K(t),i=us.credentialWithLink(e,n||rc());return D(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Gp(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e){return ct(t,"POST","/v1/accounts:createAuthUri",tt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,e){const n=w1()?rc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Tz(K(t),r);return i||[]}async function kz(t,e){const n=K(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&fa(n.auth,i,e);const{email:s}=await X3(n.auth,i);s!==t.email&&await t.reload()}async function Cz(t,e,n){const r=K(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&fa(r.auth,s,n);const{email:o}=await Z3(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(t,e){return ct(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=K(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Zr(r,Pz(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Az(t,e){return aR(K(t),e,null)}function Nz(t,e){return aR(K(t),null,e)}async function aR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Zr(t,ZP(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=Bp(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new pa(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new Dz(s,i);case"github.com":return new $z(s,i);case"google.com":return new Mz(s,i);case"twitter.com":return new Lz(s,i,t.screenName||null);case"custom":case"anonymous":return new pa(s,null);default:return new pa(s,r,i)}}class pa{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class lR extends pa{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Dz extends pa{constructor(e,n){super(e,"facebook.com",n)}}class $z extends lR{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Mz extends pa{constructor(e,n){super(e,"google.com",n)}}class Lz extends lR{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Fz(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Oz(n)}class Ms{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new Ms("enroll",e,n)}static _fromMfaPendingCredential(e){return new Ms("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Ms._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ms._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=He(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Bc._fromServerResponse(r,a));D(i.mfaPendingCredential,r,"internal-error");const o=Ms._fromMfaPendingCredential(i.mfaPendingCredential);return new x1(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await jn._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return D(n.user,r,"internal-error"),jn._forOperation(n.user,n.operationType,u);default:Ot(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Uz(t,e){var n;const r=K(t),i=e;return D(e.customData.operationType,r,"argument-error"),D((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),x1._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e){return ct(t,"POST","/v2/accounts/mfaEnrollment:start",tt(t,e))}function Vz(t,e){return ct(t,"POST","/v2/accounts/mfaEnrollment:finalize",tt(t,e))}function Bz(t,e){return ct(t,"POST","/v2/accounts/mfaEnrollment:withdraw",tt(t,e))}class k1{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Bc._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new k1(e)}async getSession(){return Ms._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Zr(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Zr(this.user,Bz(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const qg=new WeakMap;function zz(t){const e=K(t);return qg.has(e)||qg.set(e,k1._fromUser(e)),qg.get(e)}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(){const t=Le();return _1(t)||ol(t)}const Wz=1e3,Gz=10;class cR extends uR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qz()&&U3(),this.fallbackToPolling=WP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);F3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Gz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Wz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cR.type="LOCAL";const C1=cR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR extends uR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dR.type="SESSION";const no=dR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Kz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=zc("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(){return window}function Qz(t){Je().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return typeof Je().WorkerGlobalScope<"u"&&typeof Je().importScripts=="function"}async function Yz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Xz(){return P1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firebaseLocalStorageDb",Zz=1,pf="firebaseLocalStorage",fR="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hp(t,e){return t.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function e6(){const t=indexedDB.deleteDatabase(hR);return new qc(t).toPromise()}function qv(){const t=indexedDB.open(hR,Zz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pf,{keyPath:fR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pf)?e(r):(r.close(),await e6(),e(await qv()))})})}async function zI(t,e,n){const r=Hp(t,!0).put({[fR]:e,value:n});return new qc(r).toPromise()}async function t6(t,e){const n=Hp(t,!1).get(e),r=await new qc(n).toPromise();return r===void 0?null:r.value}function qI(t,e){const n=Hp(t,!0).delete(e);return new qc(n).toPromise()}const n6=800,r6=3;class pR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kp._getInstance(Xz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Yz(),!this.activeServiceWorker)return;this.sender=new Hz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qv();return await zI(e,ff,"1"),await qI(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hp(i,!1).getAll();return new qc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pR.type="LOCAL";const ac=pR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t,e){return ct(t,"POST","/v2/accounts/mfaSignIn:start",tt(t,e))}function s6(t,e){return ct(t,"POST","/v2/accounts/mfaSignIn:finalize",tt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=500,a6=6e4,Md=1e12;class l6{constructor(e){this.auth=e,this.counter=Md,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new u6(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Md;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Md;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Md;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class u6{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;D(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=c6(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},a6)},o6))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function c6(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=QP("rcb"),d6=new jc(3e4,6e4),h6="https://www.google.com/recaptcha/api.js?";class f6{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Je().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return D(p6(n),e,"argument-error"),this.shouldResolveImmediately(n)&&FI(Je().grecaptcha)?Promise.resolve(Je().grecaptcha):new Promise((r,i)=>{const s=Je().setTimeout(()=>{i(Rt(e,"network-request-failed"))},d6.get());Je()[Wg]=()=>{Je().clearTimeout(s),delete Je()[Wg];const a=Je().grecaptcha;if(!a||!FI(a)){i(Rt(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${h6}?${il({onload:Wg,render:"explicit",hl:n})}`;S1(o).catch(()=>{clearTimeout(s),i(Rt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Je().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function p6(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class m6{async load(e){return new l6(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="recaptcha",g6={theme:"light",type:"image"};let y6=class{constructor(e,n=Object.assign({},g6),r){this.parameters=n,this.type=mR,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=He(r),this.isInvisible=this.parameters.size==="invisible",D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;D(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new m6:new f6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){D(!this.parameters.sitekey,this.auth,"argument-error"),D(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Je()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){D(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){D(w1()&&!P1(),this.auth,"internal-error"),await v6(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await j3(this.auth);D(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return D(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function v6(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Gs._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function w6(t,e,n){const r=He(t),i=await Qp(r,e,K(n));return new R1(i,s=>Gp(r,s))}async function E6(t,e,n){const r=K(t);await Wp(!1,r,"phone");const i=await Qp(r.auth,e,K(n));return new R1(i,s=>iR(r,s))}async function _6(t,e,n){const r=K(t),i=await Qp(r.auth,e,K(n));return new R1(i,s=>sR(r,s))}async function Qp(t,e,n){var r;const i=await n.verify();try{D(typeof i=="string",t,"argument-error"),D(n.type===mR,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return D(o.type==="enroll",t,"internal-error"),(await jz(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{D(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return D(a,t,"missing-multi-factor-info"),(await i6(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await rz(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function S6(t,e){await I1(K(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ro=class wh{constructor(e){this.providerId=wh.PROVIDER_ID,this.auth=He(e)}verifyPhoneNumber(e,n){return Qp(this.auth,e,K(n))}static credential(e,n){return Gs._fromVerification(e,n)}static credentialFromResult(e){const n=e;return wh.credentialFromTaggedObject(n)}static credentialFromError(e){return wh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Gs._fromTokenResponse(n,r):null}};ro.PROVIDER_ID="phone";ro.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t,e){return e?En(e):(D(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends al{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I6(t){return rR(t.auth,new A1(t),t.bypassAuthState)}function b6(t){const{auth:e,user:n}=t;return D(n,e,"internal-error"),nR(n,new A1(t),t.bypassAuthState)}async function T6(t){const{auth:e,user:n}=t;return D(n,e,"internal-error"),I1(n,new A1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I6;case"linkViaPopup":case"linkViaRedirect":return T6;case"reauthViaPopup":case"reauthViaRedirect":return b6;default:Ot(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new jc(2e3,1e4);async function k6(t,e,n){const r=He(t);sl(t,e,oi);const i=wo(r,n);return new Lr(r,"signInViaPopup",e,i).executeNotNull()}async function C6(t,e,n){const r=K(t);sl(r.auth,e,oi);const i=wo(r.auth,n);return new Lr(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function P6(t,e,n){const r=K(t);sl(r.auth,e,oi);const i=wo(r.auth,n);return new Lr(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Lr extends gR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Lr.currentPopupAction&&Lr.currentPopupAction.cancel(),Lr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return D(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=zc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x6.get())};e()}}Lr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="pendingRedirect",gu=new Map;class A6 extends gR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gu.get(this.auth._key());if(!e){try{const r=await N6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gu.set(this.auth._key(),e)}return this.bypassAuthState||gu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N6(t,e){const n=vR(e),r=yR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function N1(t,e){return yR(t)._set(vR(e),"true")}function O6(){gu.clear()}function O1(t,e){gu.set(t._key(),e)}function yR(t){return En(t._redirectPersistence)}function vR(t){return Ws(R6,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t,e,n){return $6(t,e,n)}async function $6(t,e,n){const r=He(t);sl(t,e,oi),await r._initializationPromise;const i=wo(r,n);return await N1(i,r),i._openRedirect(r,e,"signInViaRedirect")}function M6(t,e,n){return L6(t,e,n)}async function L6(t,e,n){const r=K(t);sl(r.auth,e,oi),await r.auth._initializationPromise;const i=wo(r.auth,n);await N1(i,r.auth);const s=await wR(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function F6(t,e,n){return U6(t,e,n)}async function U6(t,e,n){const r=K(t);sl(r.auth,e,oi),await r.auth._initializationPromise;const i=wo(r.auth,n);await Wp(!1,r,e.providerId),await N1(i,r.auth);const s=await wR(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function j6(t,e){return await He(t)._initializationPromise,Yp(t,e,!1)}async function Yp(t,e,n=!1){const r=He(t),i=wo(r,e),o=await new A6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function wR(t){const e=zc(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=10*60*1e3;class ER{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_R(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V6&&this.cachedEventUids.clear(),this.cachedEventUids.has(WI(e))}saveEventToCache(e){this.cachedEventUids.add(WI(e)),this.lastProcessedEventTime=Date.now()}}function WI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _R({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function B6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _R(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(t,e={}){return ct(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q6=/^https?/;async function W6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SR(t);for(const n of e)try{if(G6(n))return}catch{}Ot(t,"unauthorized-domain")}function G6(t){const e=rc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!q6.test(n))return!1;if(z6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new jc(3e4,6e4);function GI(){const t=Je().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H6(t){return new Promise((e,n)=>{var r,i,s;function o(){GI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GI(),n(Rt(t,"network-request-failed"))},timeout:K6.get()})}if(!((i=(r=Je().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Je().gapi)===null||s===void 0)&&s.load)o();else{const a=QP("iframefcb");return Je()[a]=()=>{gapi.load?o():n(Rt(t,"network-request-failed"))},S1(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function Q6(t){return Eh=Eh||H6(t),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=new jc(5e3,15e3),J6="__/auth/iframe",X6="emulator/auth/iframe",Z6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t9(t){const e=t.config;D(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E1(e,X6):`https://${t.config.authDomain}/${J6}`,r={apiKey:e.apiKey,appName:t.name,v:as},i=e9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${il(r).slice(1)}`}async function n9(t){const e=await Q6(t),n=Je().gapi;return D(n,t,"internal-error"),e.open({where:document.body,url:t9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Rt(t,"network-request-failed"),a=Je().setTimeout(()=>{s(o)},Y6.get());function l(){Je().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i9=500,s9=600,o9="_blank",a9="http://localhost";class KI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l9(t,e,n,r=i9,i=s9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},r9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Le().toLowerCase();n&&(a=VP(u)?o9:n),jP(u)&&(e=e||a9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,f])=>`${h}${p}=${f},`,"");if(L3(u)&&a!=="_self")return u9(e||"",a),new KI(null);const d=window.open(e||"",a,c);D(d,t,"popup-blocked");try{d.focus()}catch{}return new KI(d)}function u9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="__/auth/handler",d9="emulator/auth/handler",h9=encodeURIComponent("fac");async function Wv(t,e,n,r,i,s){D(t.config.authDomain,t,"auth-domain-config-required"),D(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:as,eventId:i};if(e instanceof oi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",HV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof ll){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${h9}=${encodeURIComponent(l)}`:"";return`${f9(t)}?${il(a).slice(1)}${u}`}function f9({config:t}){return t.emulator?E1(t,d9):`https://${t.authDomain}/${c9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="webStorageSupport";class p9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=no,this._completeRedirectFn=Yp,this._overrideRedirectResult=O1}async _openPopup(e,n,r,i){var s;Xn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Wv(e,n,r,rc(),i);return l9(e,o,zc())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Wv(e,n,r,rc(),i);return Qz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await n9(e),r=new ER(e);return n.register("authEvent",i=>(D(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gg,{type:Gg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Gg];o!==void 0&&n(!!o),Ot(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WP()||_1()||ol()}}const m9=p9;class g9{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return fr("unexpected MultiFactorSessionType")}}}class D1 extends g9{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new D1(e)}_finalizeEnroll(e,n,r){return Vz(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return s6(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class IR{constructor(){}static assertion(e){return D1._fromCredential(e)}}IR.FACTOR_ID="phone";var HI="@firebase/auth",QI="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function w9(t){Wi(new br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;D(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GP(t)},u=new G3(r,i,s,l);return K3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wi(new br("auth-internal",e=>{const n=He(e.getProvider("auth").getImmediate());return(r=>new y9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(HI,QI,v9(t)),Er(HI,QI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=5*60;FV("authIdTokenMaxAge");w9("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=2e3;async function S9(t,e,n){var r;const{BuildInfo:i}=io();Xn(e.sessionId,"AuthEvent did not contain a session ID");const s=await k9(e.sessionId),o={};return ol()?o.ibi=i.packageName:Vc()?o.apn=i.packageName:Ot(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Wv(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function I9(t){const{BuildInfo:e}=io(),n={};ol()?n.iosBundleId=e.packageName:Vc()?n.androidPackageName=e.packageName:Ot(t,"operation-not-supported-in-this-environment"),await SR(t,n)}function b9(t){const{cordova:e}=io();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,M3()?"_blank":"_system","location=yes"),n(i)})})}async function T9(t,e,n){const{cordova:r}=io();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Rt(t,"redirect-cancelled-by-user"))},_9))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Vc()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function x9(t){var e,n,r,i,s,o,a,l,u,c;const d=io();D(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),D(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),D(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function k9(t){const e=C9(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function C9(t){if(Xn(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=20;class R9 extends ER{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function A9(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:D9(),postBody:null,tenantId:t.tenantId,error:Rt(t,"no-auth-event")}}function N9(t,e){return Gv()._set(Kv(t),e)}async function YI(t){const e=await Gv()._get(Kv(t));return e&&await Gv()._remove(Kv(t)),e}function O9(t,e){var n,r;const i=M9(e);if(i.includes("/__/auth/callback")){const s=_h(i),o=s.firebaseError?$9(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Rt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function D9(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<P9;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Gv(){return En(C1)}function Kv(t){return Ws("authEvent",t.config.apiKey,t.name)}function $9(t){try{return JSON.parse(t)}catch{return null}}function M9(t){const e=_h(t),n=e.link?decodeURIComponent(e.link):void 0,r=_h(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return _h(i).link||i||r||n||t}function _h(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ea(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=500;class F9{constructor(){this._redirectPersistence=no,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Yp,this._overrideRedirectResult=O1}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new R9(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ot(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){x9(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),O6(),await this._originValidation(e);const o=A9(e,r,i);await N9(e,o);const a=await S9(e,o,n),l=await b9(a);return T9(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I9(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=io(),o=setTimeout(async()=>{await YI(e),n.onEvent(JI())},L9),a=async c=>{clearTimeout(o);const d=await YI(e);let h=null;d&&(c!=null&&c.url)&&(h=O9(d,c.url)),n.onEvent(h||JI())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;io().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const U9=F9;function JI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t,e){He(t)._logFramework(e)}var V9="@firebase/auth-compat",B9="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=1e3;function yu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function q9(){return yu()==="http:"||yu()==="https:"}function bR(t=Le()){return!!((yu()==="file:"||yu()==="ionic:"||yu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function W9(){return f1()||h1()}function G9(){return wP()&&(document==null?void 0:document.documentMode)===11}function K9(t=Le()){return/Edge\/\d+/.test(t)}function H9(t=Le()){return G9()||K9(t)}function TR(){try{const t=self.localStorage,e=zc();if(t)return t.setItem(e,"1"),t.removeItem(e),H9()?ec():!0}catch{return $1()&&ec()}return!1}function $1(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kg(){return(q9()||vP()||bR())&&!W9()&&TR()&&!$1()}function xR(){return bR()&&typeof document<"u"}async function Q9(){return xR()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},z9);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Y9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn={LOCAL:"local",NONE:"none",SESSION:"session"},$l=D,kR="persistence";function J9(t,e){if($l(Object.values(yn).includes(e),t,"invalid-persistence-type"),f1()){$l(e!==yn.SESSION,t,"unsupported-persistence-type");return}if(h1()){$l(e===yn.NONE,t,"unsupported-persistence-type");return}if($1()){$l(e===yn.NONE||e===yn.LOCAL&&ec(),t,"unsupported-persistence-type");return}$l(e===yn.NONE||TR(),t,"unsupported-persistence-type")}async function Hv(t){await t._initializationPromise;const e=CR(),n=Ws(kR,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function X9(t,e){const n=CR();if(!n)return[];const r=Ws(kR,t,e);switch(n.getItem(r)){case yn.NONE:return[Aa];case yn.LOCAL:return[ac,no];case yn.SESSION:return[no];default:return[]}}function CR(){var t;try{return((t=Y9())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=D;class ki{constructor(){this.browserResolver=En(m9),this.cordovaResolver=En(U9),this.underlyingResolver=null,this._redirectPersistence=no,this._completeRedirectFn=Yp,this._overrideRedirectResult=O1}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xR()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Z9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Q9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){return t.unwrap()}function eq(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t){return RR(t)}function nq(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new rq(t,Uz(t,e))}else if(r){const i=RR(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function RR(t){const{_tokenResponse:e}=t instanceof Jt?t.customData:t;if(!e)return null;if(!(t instanceof Jt)&&"temporaryProof"in e&&"phoneNumber"in e)return ro.credentialFromResult(t);const n=e.providerId;if(!n||n===Dl.PASSWORD)return null;let r;switch(n){case Dl.GOOGLE:r=lr;break;case Dl.FACEBOOK:r=ar;break;case Dl.GITHUB:r=ur;break;case Dl.TWITTER:r=cr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Na._create(n,a):Tr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new ha(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof Jt?r.credentialFromError(t):r.credentialFromResult(t)}function tn(t,e){return e.catch(n=>{throw n instanceof Jt&&nq(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:tq(n),additionalUserInfo:Fz(n),user:Fr.getOrCreate(i)}})}async function Qv(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>tn(t,n.confirm(r))}}class rq{constructor(e,n){this.resolver=n,this.auth=eq(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return tn(PR(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this._delegate=e,this.multiFactor=zz(e)}static getOrCreate(e){return Fr.USER_MAP.has(e)||Fr.USER_MAP.set(e,new Fr(e)),Fr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return tn(this.auth,iR(this._delegate,e))}async linkWithPhoneNumber(e,n){return Qv(this.auth,E6(this._delegate,e,n))}async linkWithPopup(e){return tn(this.auth,P6(this._delegate,e,ki))}async linkWithRedirect(e){return await Hv(He(this.auth)),F6(this._delegate,e,ki)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return tn(this.auth,sR(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Qv(this.auth,_6(this._delegate,e,n))}reauthenticateWithPopup(e){return tn(this.auth,C6(this._delegate,e,ki))}async reauthenticateWithRedirect(e){return await Hv(He(this.auth)),M6(this._delegate,e,ki)}sendEmailVerification(e){return kz(this._delegate,e)}async unlink(e){return await fz(this._delegate,e),this}updateEmail(e){return Az(this._delegate,e)}updatePassword(e){return Nz(this._delegate,e)}updatePhoneNumber(e){return S6(this._delegate,e)}updateProfile(e){return Rz(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Cz(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=D;class Yv{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Ml(r,"invalid-api-key",{appName:e.name}),Ml(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ki:void 0;this._delegate=n.initialize({options:{persistence:iq(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(y3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){H3(this._delegate,e,n)}applyActionCode(e){return vz(this._delegate,e)}checkActionCode(e){return oR(this._delegate,e)}confirmPasswordReset(e,n){return yz(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return tn(this._delegate,Ez(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return xz(this._delegate,e)}isSignInWithEmailLink(e){return Iz(this._delegate,e)}async getRedirectResult(){Ml(Kg(),this._delegate,"operation-not-supported-in-this-environment");const e=await j6(this._delegate,ki);return e?tn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){j9(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=XI(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=XI(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return Sz(this._delegate,e,n)}sendPasswordResetEmail(e,n){return gz(this._delegate,e,n||void 0)}async setPersistence(e){J9(this._delegate,e);let n;switch(e){case yn.SESSION:n=no;break;case yn.LOCAL:n=await En(ac)._isAvailable()?ac:C1;break;case yn.NONE:n=Aa;break;default:return Ot("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return tn(this._delegate,hz(this._delegate))}signInWithCredential(e){return tn(this._delegate,Gp(this._delegate,e))}signInWithCustomToken(e){return tn(this._delegate,mz(this._delegate,e))}signInWithEmailAndPassword(e,n){return tn(this._delegate,_z(this._delegate,e,n))}signInWithEmailLink(e,n){return tn(this._delegate,bz(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Qv(this._delegate,w6(this._delegate,e,n))}async signInWithPopup(e){return Ml(Kg(),this._delegate,"operation-not-supported-in-this-environment"),tn(this._delegate,k6(this._delegate,e,ki))}async signInWithRedirect(e){return Ml(Kg(),this._delegate,"operation-not-supported-in-this-environment"),await Hv(this._delegate),D6(this._delegate,e,ki)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return wz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Yv.Persistence=yn;function XI(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Fr.getOrCreate(o)),error:e,complete:n}}function iq(t,e){const n=X9(t,e);if(typeof self<"u"&&!n.includes(ac)&&n.push(ac),typeof window<"u")for(const r of[C1,no])n.includes(r)||n.push(r);return n.includes(Aa)||n.push(Aa),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.providerId="phone",this._delegate=new ro(PR(ls.auth()))}static credential(e,n){return ro.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}M1.PHONE_SIGN_IN_METHOD=ro.PHONE_SIGN_IN_METHOD;M1.PROVIDER_ID=ro.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=D;class oq{constructor(e,n,r=ls.app()){var i;sq((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new y6(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq="auth-compat";function lq(t){t.INTERNAL.registerComponent(new br(aq,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Yv(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Do.EMAIL_SIGNIN,PASSWORD_RESET:Do.PASSWORD_RESET,RECOVER_EMAIL:Do.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Do.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Do.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Do.VERIFY_EMAIL}},EmailAuthProvider:us,FacebookAuthProvider:ar,GithubAuthProvider:ur,GoogleAuthProvider:lr,OAuthProvider:ha,SAMLAuthProvider:df,PhoneAuthProvider:M1,PhoneMultiFactorGenerator:IR,RecaptchaVerifier:oq,TwitterAuthProvider:cr,Auth:Yv,AuthCredential:al,Error:Jt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(V9,B9)}lq(ls);var uq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U,L1=L1||{},Q=uq||self;function mf(){}function Jp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Wc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cq(t){return Object.prototype.hasOwnProperty.call(t,Hg)&&t[Hg]||(t[Hg]=++dq)}var Hg="closure_uid_"+(1e9*Math.random()>>>0),dq=0;function hq(t,e,n){return t.call.apply(t.bind,arguments)}function fq(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Bt=hq:Bt=fq,Bt.apply(null,arguments)}function Ld(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function cs(){this.s=this.s,this.o=this.o}var pq=0;cs.prototype.s=!1;cs.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),pq!=0)&&cq(this)};cs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function F1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ZI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Jp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var mq=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",mf,e),Q.removeEventListener("test",mf,e)}catch{}return t}();function gf(t){return/^[\s\xa0]*$/.test(t)}var eb=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Qg(t,e){return t<e?-1:t>e?1:0}function Xp(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return Xp().indexOf(t)!=-1}function U1(t){return U1[" "](t),t}U1[" "]=mf;function NR(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var gq=dr("Opera"),Oa=dr("Trident")||dr("MSIE"),OR=dr("Edge"),Jv=OR||Oa,DR=dr("Gecko")&&!(Xp().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),yq=Xp().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge");function $R(){var t=Q.document;return t?t.documentMode:void 0}var yf;e:{var Yg="",Jg=function(){var t=Xp();if(DR)return/rv:([^\);]+)(\)|;)/.exec(t);if(OR)return/Edge\/([\d\.]+)/.exec(t);if(Oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(yq)return/WebKit\/(\S+)/.exec(t);if(gq)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jg&&(Yg=Jg?Jg[1]:""),Oa){var Xg=$R();if(Xg!=null&&Xg>parseFloat(Yg)){yf=String(Xg);break e}}yf=Yg}var vq={};function wq(){return NR(vq,9,function(){let t=0;const e=eb(String(yf)).split("."),n=eb("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Qg(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Qg(i[2].length==0,s[2].length==0)||Qg(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Xv;if(Q.document&&Oa){var tb=$R();Xv=tb||parseInt(yf,10)||void 0}else Xv=void 0;var Eq=Xv;function lc(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DR){e:{try{U1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:_q[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&lc.$.h.call(this)}}_t(lc,zt);var _q={2:"touch",3:"pen",4:"mouse"};lc.prototype.h=function(){lc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gc="closure_listenable_"+(1e6*Math.random()|0),Sq=0;function Iq(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Sq,this.fa=this.ia=!1}function Zp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function j1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function MR(t){const e={};for(const n in t)e[n]=t[n];return e}const nb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<nb.length;s++)n=nb[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function em(t){this.src=t,this.g={},this.h=0}em.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=e0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Iq(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Zv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=AR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Zp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function e0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var V1="closure_lm_"+(1e6*Math.random()|0),Zg={};function FR(t,e,n,r,i){if(r&&r.once)return jR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)FR(t,e[s],n,r,i);return null}return n=q1(n),t&&t[Gc]?t.O(e,n,Wc(r)?!!r.capture:!!r,i):UR(t,e,n,!1,r,i)}function UR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Wc(i)?!!i.capture:!!i,a=z1(t);if(a||(t[V1]=a=new em(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=bq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mq||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(BR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function bq(){function t(n){return e.call(t.src,t.listener,n)}const e=Tq;return t}function jR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)jR(t,e[s],n,r,i);return null}return n=q1(n),t&&t[Gc]?t.P(e,n,Wc(r)?!!r.capture:!!r,i):UR(t,e,n,!0,r,i)}function VR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)VR(t,e[s],n,r,i);else r=Wc(r)?!!r.capture:!!r,n=q1(n),t&&t[Gc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=e0(s,n,r,i),-1<n&&(Zp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=z1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=e0(e,n,r,i)),(n=-1<t?e[t]:null)&&B1(n))}function B1(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Gc])Zv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=z1(e))?(Zv(n,t),n.h==0&&(n.src=null,e[V1]=null)):Zp(t)}}}function BR(t){return t in Zg?Zg[t]:Zg[t]="on"+t}function Tq(t,e){if(t.fa)t=!0;else{e=new lc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&B1(t),t=n.call(r,e)}return t}function z1(t){return t=t[V1],t instanceof em?t:null}var ey="__closure_events_fn_"+(1e9*Math.random()>>>0);function q1(t){return typeof t=="function"?t:(t[ey]||(t[ey]=function(e){return t.handleEvent(e)}),t[ey])}function wt(){cs.call(this),this.i=new em(this),this.S=this,this.J=null}_t(wt,cs);wt.prototype[Gc]=!0;wt.prototype.removeEventListener=function(t,e,n,r){VR(this,t,e,n,r)};function At(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;e=new zt(r,t),LR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Fd(o,r,!0,e)&&i}if(o=e.g=t,i=Fd(o,r,!0,e)&&i,i=Fd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Fd(o,r,!1,e)&&i}wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zp(n[r]);delete t.g[e],t.h--}}this.J=null};wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Fd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Zv(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var W1=Q.JSON.stringify;function xq(){var t=WR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class kq{constructor(){this.h=this.g=null}add(e,n){const r=zR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Cq,t=>t.reset());class Cq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Pq(t){Q.setTimeout(()=>{throw t},0)}function qR(t,e){t0||Rq(),n0||(t0(),n0=!0),WR.add(t,e)}var t0;function Rq(){var t=Q.Promise.resolve(void 0);t0=function(){t.then(Aq)}}var n0=!1,WR=new kq;function Aq(){for(var t;t=xq();){try{t.h.call(t.g)}catch(n){Pq(n)}var e=zR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}n0=!1}function tm(t,e){wt.call(this),this.h=t||1,this.g=e||Q,this.j=Bt(this.qb,this),this.l=Date.now()}_t(tm,wt);U=tm.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),At(this,"tick"),this.ga&&(G1(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function G1(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){tm.$.N.call(this),G1(this),delete this.g};function K1(t,e,n){if(typeof t=="function")n&&(t=Bt(t,n));else if(t&&typeof t.handleEvent=="function")t=Bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function GR(t){t.g=K1(()=>{t.g=null,t.i&&(t.i=!1,GR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Nq extends cs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:GR(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uc(t){cs.call(this),this.h=t,this.g={}}_t(uc,cs);var rb=[];function KR(t,e,n,r){Array.isArray(n)||(n&&(rb[0]=n.toString()),n=rb);for(var i=0;i<n.length;i++){var s=FR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function HR(t){j1(t.g,function(e,n){this.g.hasOwnProperty(n)&&B1(e)},t),t.g={}}uc.prototype.N=function(){uc.$.N.call(this),HR(this)};uc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nm(){this.g=!0}nm.prototype.Ea=function(){this.g=!1};function Oq(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Dq(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ta(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Mq(t,n)+(r?" "+r:"")})}function $q(t,e){t.info(function(){return"TIMEOUT: "+e})}nm.prototype.info=function(){};function Mq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return W1(n)}catch{return e}}var Eo={},ib=null;function rm(){return ib=ib||new wt}Eo.Ta="serverreachability";function QR(t){zt.call(this,Eo.Ta,t)}_t(QR,zt);function cc(t){const e=rm();At(e,new QR(e))}Eo.STAT_EVENT="statevent";function YR(t,e){zt.call(this,Eo.STAT_EVENT,t),this.stat=e}_t(YR,zt);function Qt(t){const e=rm();At(e,new YR(e,t))}Eo.Ua="timingevent";function JR(t,e){zt.call(this,Eo.Ua,t),this.size=e}_t(JR,zt);function Kc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}var im={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},XR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function H1(){}H1.prototype.h=null;function sb(t){return t.h||(t.h=t.i())}function ZR(){}var Hc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Q1(){zt.call(this,"d")}_t(Q1,zt);function Y1(){zt.call(this,"c")}_t(Y1,zt);var r0;function sm(){}_t(sm,H1);sm.prototype.g=function(){return new XMLHttpRequest};sm.prototype.i=function(){return{}};r0=new sm;function Qc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new uc(this),this.P=Lq,t=Jv?125:void 0,this.V=new tm(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new eA}function eA(){this.i=null,this.g="",this.h=!1}var Lq=45e3,i0={},vf={};U=Qc.prototype;U.setTimeout=function(t){this.P=t};function s0(t,e,n){t.L=1,t.v=am(ei(e)),t.s=n,t.S=!0,tA(t,null)}function tA(t,e){t.G=Date.now(),Yc(t),t.A=ei(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),uA(n.i,"t",r),t.C=0,n=t.l.I,t.h=new eA,t.g=RA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Nq(Bt(t.Pa,t,t.g),t.O)),KR(t.U,t.g,"readystatechange",t.nb),e=t.I?MR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),cc(),Oq(t.j,t.u,t.A,t.m,t.W,t.s)}U.nb=function(t){t=t.target;const e=this.M;e&&Ur(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{const c=Ur(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Jv||this.g&&(this.h.h||this.g.ja()||ub(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?cc(3):cc(2)),om(this);var n=this.g.da();this.aa=n;t:if(nA(this)){var r=ub(this.g);t="";var i=r.length,s=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ls(this),vu(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Dq(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gf(a)){var u=a;break t}}u=null}if(n=u)ta(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,o0(this,n);else{this.i=!1,this.o=3,Qt(12),Ls(this),vu(this);break e}}this.S?(rA(this,c,o),Jv&&this.i&&c==3&&(KR(this.U,this.V,"tick",this.mb),this.V.start())):(ta(this.j,this.m,o,null),o0(this,o)),c==4&&Ls(this),this.i&&!this.J&&(c==4?xA(this.l,this):(this.i=!1,Yc(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Qt(12)):(this.o=0,Qt(13)),Ls(this),vu(this)}}}catch{}finally{}};function nA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function rA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Fq(t,n),i==vf){e==4&&(t.o=4,Qt(14),r=!1),ta(t.j,t.m,null,"[Incomplete Response]");break}else if(i==i0){t.o=4,Qt(15),ta(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ta(t.j,t.m,i,null),o0(t,i);nA(t)&&i!=vf&&i!=i0&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),rE(e),e.L=!0,Qt(11))):(ta(t.j,t.m,n,"[Invalid Chunked Response]"),Ls(t),vu(t))}U.mb=function(){if(this.g){var t=Ur(this.g),e=this.g.ja();this.C<e.length&&(om(this),rA(this,t,e),this.i&&t!=4&&Yc(this))}};function Fq(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?vf:(n=Number(e.substring(n,r)),isNaN(n)?i0:(r+=1,r+n>e.length?vf:(e=e.substr(r,n),t.C=r+n,e)))}U.cancel=function(){this.J=!0,Ls(this)};function Yc(t){t.Y=Date.now()+t.P,iA(t,t.P)}function iA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Kc(Bt(t.lb,t),e)}function om(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}U.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?($q(this.j,this.A),this.L!=2&&(cc(),Qt(17)),Ls(this),this.o=2,vu(this)):iA(this,this.Y-t)};function vu(t){t.l.H==0||t.J||xA(t.l,t)}function Ls(t){om(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,G1(t.V),HR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function o0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||a0(n.h,t))){if(!t.K&&a0(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)_f(n),cm(n);else break e;nE(n),Qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=Kc(Bt(n.ib,n),6e3));if(1>=hA(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Fs(n,11)}else if((t.K||n.g==t)&&_f(n),!gf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.J=u[1],n.oa=u[2];const c=u[3];c!=null&&(n.qa=c,n.j.info("VER="+n.qa));const d=u[4];d!=null&&(n.Ga=d,n.j.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const f=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var s=r.h;s.g||f.indexOf("spdy")==-1&&f.indexOf("quic")==-1&&f.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(J1(s,s.h),s.h=null))}if(r.F){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Ae(r.G,r.F,m))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=PA(r,r.I?r.oa:null,r.Y),o.K){fA(r.h,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(om(a),Yc(a)),r.g=o}else bA(r);0<n.i.length&&dm(n)}else u[0]!="stop"&&u[0]!="close"||Fs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Fs(n,7):tE(n):u[0]!="noop"&&n.l&&n.l.Aa(u),n.A=0)}}cc(4)}catch{}}function Uq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Jp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function jq(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Jp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function sA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Jp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=jq(t),r=Uq(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var oA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ks(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ks){this.h=e!==void 0?e:t.h,wf(this,t.j),this.s=t.s,this.g=t.g,Ef(this,t.m),this.l=t.l,e=t.i;var n=new dc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ob(this,n),this.o=t.o}else t&&(n=String(t).match(oA))?(this.h=!!e,wf(this,n[1]||"",!0),this.s=Xl(n[2]||""),this.g=Xl(n[3]||"",!0),Ef(this,n[4]),this.l=Xl(n[5]||"",!0),ob(this,n[6]||"",!0),this.o=Xl(n[7]||"")):(this.h=!!e,this.i=new dc(null,this.h))}Ks.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Zl(e,ab,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Zl(e,ab,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Zl(n,n.charAt(0)=="/"?qq:zq,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Zl(n,Gq)),t.join("")};function ei(t){return new Ks(t)}function wf(t,e,n){t.j=n?Xl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ef(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ob(t,e,n){e instanceof dc?(t.i=e,Kq(t.i,t.h)):(n||(e=Zl(e,Wq)),t.i=new dc(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function am(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Bq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ab=/[#\/\?@]/g,zq=/[#\?:]/g,qq=/[#\?]/g,Wq=/[#\?@]/g,Gq=/#/g;function dc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ds(t){t.g||(t.g=new Map,t.h=0,t.i&&Vq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=dc.prototype;U.add=function(t,e){ds(this),this.i=null,t=ul(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function aA(t,e){ds(t),e=ul(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lA(t,e){return ds(t),e=ul(t,e),t.g.has(e)}U.forEach=function(t,e){ds(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.sa=function(){ds(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};U.Z=function(t){ds(this);let e=[];if(typeof t=="string")lA(this,t)&&(e=e.concat(this.g.get(ul(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return ds(this),this.i=null,t=ul(this,t),lA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uA(t,e,n){aA(t,e),0<n.length&&(t.i=null,t.g.set(ul(t,e),F1(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ul(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Kq(t,e){e&&!t.j&&(ds(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aA(this,r),uA(this,i,n))},t)),t.j=e}var Hq=class{constructor(t,e){this.h=t,this.g=e}};function cA(t){this.l=t||Qq,Q.PerformanceNavigationTiming?(t=Q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qq=10;function dA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hA(t){return t.h?1:t.g?t.g.size:0}function a0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function J1(t,e){t.g?t.g.add(e):t.h=e}function fA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cA.prototype.cancel=function(){if(this.i=pA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function pA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return F1(t.i)}function X1(){}X1.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)};X1.prototype.parse=function(t){return Q.JSON.parse(t,void 0)};function Yq(){this.g=new X1}function Jq(t,e,n){const r=n||"";try{sA(t,function(i,s){let o=i;Wc(i)&&(o=W1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xq(t,e){const n=new nm;if(Q.Image){const r=new Image;r.onload=Ld(Ud,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ld(Ud,n,r,"TestLoadImage: error",!1,e),r.onabort=Ld(Ud,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ld(Ud,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ud(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Jc(t){this.l=t.fc||null,this.j=t.ob||!1}_t(Jc,H1);Jc.prototype.g=function(){return new lm(this.l,this.j)};Jc.prototype.i=function(t){return function(){return t}}({});function lm(t,e){wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Z1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t(lm,wt);var Z1=0;U=lm.prototype;U.open=function(t,e){if(this.readyState!=Z1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,hc(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xc(this)),this.readyState=Z1};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,hc(this)),this.g&&(this.readyState=3,hc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function mA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Xc(this):hc(this),this.readyState==3&&mA(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,Xc(this))};U.Ya=function(t){this.g&&(this.response=t,Xc(this))};U.ka=function(){this.g&&Xc(this)};function Xc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,hc(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function hc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(lm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Zq=Q.JSON.parse;function Be(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gA,this.L=this.M=!1}_t(Be,wt);var gA="",e8=/^https?$/i,t8=["POST","PUT"];U=Be.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():r0.g(),this.C=this.u?sb(this.u):sb(r0),this.g.onreadystatechange=Bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){lb(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Q.FormData&&t instanceof Q.FormData,!(0<=AR(t8,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wA(this),0<this.B&&((this.L=n8(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.ua,this)):this.A=K1(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){lb(this,s)}};function n8(t){return Oa&&wq()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof L1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))};function lb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yA(t),um(t)}function yA(t){t.F||(t.F=!0,At(t,"complete"),At(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),um(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),um(this,!0)),Be.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?vA(this):this.kb())};U.kb=function(){vA(this)};function vA(t){if(t.h&&typeof L1<"u"&&(!t.C[1]||Ur(t)!=4||t.da()!=2)){if(t.v&&Ur(t)==4)K1(t.La,0,t);else if(At(t,"readystatechange"),Ur(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(oA)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!e8.test(i?i.toLowerCase():"")}n=r}if(n)At(t,"complete"),At(t,"success");else{t.m=6;try{var o=2<Ur(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",yA(t)}}finally{um(t)}}}}function um(t,e){if(t.g){wA(t);const n=t.g,r=t.C[0]?mf:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=r}catch{}}}function wA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function Ur(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Zq(e)}};function ub(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case gA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function EA(t){let e="";return j1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function eE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=EA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ae(t,e,n))}function Ll(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _A(t){this.Ga=0,this.i=[],this.j=new nm,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ll("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ll("baseRetryDelayMs",5e3,t),this.hb=Ll("retryDelaySeedMs",1e4,t),this.eb=Ll("forwardChannelMaxRetries",2,t),this.xa=Ll("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new cA(t&&t.concurrentRequestLimit),this.Ja=new Yq,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}U=_A.prototype;U.qa=8;U.H=1;function tE(t){if(SA(t),t.H==3){var e=t.W++,n=ei(t.G);Ae(n,"SID",t.J),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),Zc(t,n),e=new Qc(t,t.j,e,void 0),e.L=2,e.v=am(ei(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&(new Image().src=e.v,n=!0),n||(e.g=RA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Yc(e)}CA(t)}function cm(t){t.g&&(rE(t),t.g.cancel(),t.g=null)}function SA(t){cm(t),t.u&&(Q.clearTimeout(t.u),t.u=null),_f(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Q.clearTimeout(t.m),t.m=null)}function dm(t){dA(t.h)||t.m||(t.m=!0,qR(t.Na,t),t.C=0)}function r8(t,e){return hA(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Kc(Bt(t.Na,t,e),kA(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Qc(this,this.j,t,void 0);let s=this.s;if(this.U&&(s?(s=MR(s),LR(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=IA(this,i,e),n=ei(this.G),Ae(n,"RID",t),Ae(n,"CVER",22),this.F&&Ae(n,"X-HTTP-Session-Id",this.F),Zc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(EA(s)))+"&"+e:this.o&&eE(n,this.o,s)),J1(this.h,i),this.bb&&Ae(n,"TYPE","init"),this.P?(Ae(n,"$req",e),Ae(n,"SID","null"),i.ba=!0,s0(i,n,null)):s0(i,n,e),this.H=2}}else this.H==3&&(t?cb(this,t):this.i.length==0||dA(this.h)||cb(this))};function cb(t,e){var n;e?n=e.m:n=t.W++;const r=ei(t.G);Ae(r,"SID",t.J),Ae(r,"RID",n),Ae(r,"AID",t.V),Zc(t,r),t.o&&t.s&&eE(r,t.o,t.s),n=new Qc(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=IA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),J1(t.h,n),s0(n,r,e)}function Zc(t,e){t.ma&&j1(t.ma,function(n,r){Ae(e,r,n)}),t.l&&sA({},function(n,r){Ae(e,r,n)})}function IA(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Bt(t.l.Va,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{Jq(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function bA(t){t.g||t.u||(t.ba=1,qR(t.Ma,t),t.A=0)}function nE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Kc(Bt(t.Ma,t),kA(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,TA(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=Kc(Bt(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Qt(10),cm(this),TA(this))};function rE(t){t.B!=null&&(Q.clearTimeout(t.B),t.B=null)}function TA(t){t.g=new Qc(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ei(t.wa);Ae(e,"RID","rpc"),Ae(e,"SID",t.J),Ae(e,"CI",t.M?"0":"1"),Ae(e,"AID",t.V),Ae(e,"TYPE","xmlhttp"),Zc(t,e),t.o&&t.s&&eE(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=am(ei(e)),n.s=null,n.S=!0,tA(n,t)}U.ib=function(){this.v!=null&&(this.v=null,cm(this),nE(this),Qt(19))};function _f(t){t.v!=null&&(Q.clearTimeout(t.v),t.v=null)}function xA(t,e){var n=null;if(t.g==e){_f(t),rE(t),t.g=null;var r=2}else if(a0(t.h,e))n=e.F,fA(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=rm(),At(r,new JR(r,n)),dm(t)}else bA(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&r8(t,e)||r==2&&nE(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Fs(t,5);break;case 4:Fs(t,10);break;case 3:Fs(t,6);break;default:Fs(t,2)}}}function kA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Fs(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Bt(t.pb,t);n||(n=new Ks("//www.google.com/images/cleardot.gif"),Q.location&&Q.location.protocol=="http"||wf(n,"https"),am(n)),Xq(n.toString(),r)}else Qt(2);t.H=0,t.l&&t.l.za(e),CA(t),SA(t)}U.pb=function(t){t?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function CA(t){if(t.H=0,t.pa=[],t.l){const e=pA(t.h);(e.length!=0||t.i.length!=0)&&(ZI(t.pa,e),ZI(t.pa,t.i),t.h.i.length=0,F1(t.i),t.i.length=0),t.l.ya()}}function PA(t,e,n){var r=n instanceof Ks?ei(n):new Ks(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Ef(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ks(null,void 0);r&&wf(s,r),e&&(s.g=e),i&&Ef(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ae(r,n,e),Ae(r,"VER",t.qa),Zc(t,r),r}function RA(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Be(new Jc({ob:!0})):new Be(t.va),e.Oa(t.I),e}function AA(){}U=AA.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.Va=function(){};function Sf(){if(Oa&&!(10<=Number(Eq)))throw Error("Environmental error: no available transport.")}Sf.prototype.g=function(t,e){return new bn(t,e)};function bn(t,e){wt.call(this),this.g=new _A(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!gf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new cl(this)}_t(bn,wt);bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;Qt(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=PA(t,null,t.Y),dm(t)};bn.prototype.close=function(){tE(this.g)};bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=W1(t),t=n);e.i.push(new Hq(e.fb++,t)),e.H==3&&dm(e)};bn.prototype.N=function(){this.g.l=null,delete this.j,tE(this.g),delete this.g,bn.$.N.call(this)};function NA(t){Q1.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_t(NA,Q1);function OA(){Y1.call(this),this.status=1}_t(OA,Y1);function cl(t){this.g=t}_t(cl,AA);cl.prototype.Ba=function(){At(this.g,"a")};cl.prototype.Aa=function(t){At(this.g,new NA(t))};cl.prototype.za=function(t){At(this.g,new OA)};cl.prototype.ya=function(){At(this.g,"b")};function i8(){this.blockSize=-1}function Zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_t(Zn,i8);Zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ty(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Zn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)ty(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){ty(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){ty(this,r),i=0;break}}this.h=i,this.i+=e};Zn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var s8={};function iE(t){return-128<=t&&128>t?NR(s8,t,function(e){return new ve([e|0],0>e?-1:0)}):new ve([t|0],0>t?-1:0)}function pr(t){if(isNaN(t)||!isFinite(t))return ma;if(0>t)return Ct(pr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=l0;return new ve(e,0)}function DA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ct(DA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pr(Math.pow(e,8)),r=ma,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=pr(Math.pow(e,s)),r=r.R(s).add(pr(o))):(r=r.R(n),r=r.add(pr(o)))}return r}var l0=4294967296,ma=iE(0),u0=iE(1),db=iE(16777216);U=ve.prototype;U.ea=function(){if(On(this))return-Ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:l0+r)*e,e*=l0}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(jr(this))return"0";if(On(this))return"-"+Ct(this).toString(t);for(var e=pr(Math.pow(t,6)),n=this,r="";;){var i=bf(n,e).g;n=If(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,jr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function jr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function On(t){return t.h==-1}U.X=function(t){return t=If(this,t),On(t)?-1:jr(t)?0:1};function Ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ve(n,~t.h).add(u0)}U.abs=function(){return On(this)?Ct(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ve(n,n[n.length-1]&-2147483648?-1:0)};function If(t,e){return t.add(Ct(e))}U.R=function(t){if(jr(this)||jr(t))return ma;if(On(this))return On(t)?Ct(this).R(Ct(t)):Ct(Ct(this).R(t));if(On(t))return Ct(this.R(Ct(t)));if(0>this.X(db)&&0>t.X(db))return pr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,jd(n,2*r+2*i),n[2*r+2*i+1]+=s*l,jd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,jd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,jd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ve(n,0)};function jd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fl(t,e){this.g=t,this.h=e}function bf(t,e){if(jr(e))throw Error("division by zero");if(jr(t))return new Fl(ma,ma);if(On(t))return e=bf(Ct(t),e),new Fl(Ct(e.g),Ct(e.h));if(On(e))return e=bf(t,Ct(e)),new Fl(Ct(e.g),e.h);if(30<t.g.length){if(On(t)||On(e))throw Error("slowDivide_ only works with positive integers.");for(var n=u0,r=e;0>=r.X(t);)n=hb(n),r=hb(r);var i=$o(n,1),s=$o(r,1);for(r=$o(r,2),n=$o(n,2);!jr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=$o(r,1),n=$o(n,1)}return e=If(t,i.R(e)),new Fl(i,e)}for(i=ma;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=pr(n),o=s.R(e);On(o)||0<o.X(t);)n-=r,s=pr(n),o=s.R(e);jr(s)&&(s=u0),i=i.add(s),t=If(t,o)}return new Fl(i,t)}U.gb=function(t){return bf(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ve(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ve(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ve(n,this.h^t.h)};function hb(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ve(n,t.h)}function $o(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ve(i,t.h)}Sf.prototype.createWebChannel=Sf.prototype.g;bn.prototype.send=bn.prototype.u;bn.prototype.open=bn.prototype.m;bn.prototype.close=bn.prototype.close;im.NO_ERROR=0;im.TIMEOUT=8;im.HTTP_ERROR=6;XR.COMPLETE="complete";ZR.EventType=Hc;Hc.OPEN="a";Hc.CLOSE="b";Hc.ERROR="c";Hc.MESSAGE="d";wt.prototype.listen=wt.prototype.O;Be.prototype.listenOnce=Be.prototype.P;Be.prototype.getLastError=Be.prototype.Sa;Be.prototype.getLastErrorCode=Be.prototype.Ia;Be.prototype.getStatus=Be.prototype.da;Be.prototype.getResponseJson=Be.prototype.Wa;Be.prototype.getResponseText=Be.prototype.ja;Be.prototype.send=Be.prototype.ha;Be.prototype.setWithCredentials=Be.prototype.Oa;Zn.prototype.digest=Zn.prototype.l;Zn.prototype.reset=Zn.prototype.reset;Zn.prototype.update=Zn.prototype.j;ve.prototype.add=ve.prototype.add;ve.prototype.multiply=ve.prototype.R;ve.prototype.modulo=ve.prototype.gb;ve.prototype.compare=ve.prototype.X;ve.prototype.toNumber=ve.prototype.ea;ve.prototype.toString=ve.prototype.toString;ve.prototype.getBits=ve.prototype.D;ve.fromNumber=pr;ve.fromString=DA;var o8=function(){return new Sf},a8=function(){return rm()},ny=im,l8=XR,u8=Eo,fb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},c8=Jc,Vd=ZR,d8=Be,h8=Zn,ga=ve;const pb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Vp("@firebase/firestore");function c0(){return Ki.logLevel}function f8(t){Ki.setLogLevel(t)}function N(t,...e){if(Ki.logLevel<=oe.DEBUG){const n=e.map(sE);Ki.debug(`Firestore (${dl}): ${t}`,...n)}}function We(t,...e){if(Ki.logLevel<=oe.ERROR){const n=e.map(sE);Ki.error(`Firestore (${dl}): ${t}`,...n)}}function er(t,...e){if(Ki.logLevel<=oe.WARN){const n=e.map(sE);Ki.warn(`Firestore (${dl}): ${t}`,...n)}}function sE(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t="Unexpected state"){const e=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: `+t;throw We(e),new Error(e)}function W(t,e){t||j()}function p8(t,e){t||j()}function F(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let R=class extends Jt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $A=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},m8=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}},g8=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},y8=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new yt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(W(typeof r.accessToken=="string"),new $A(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return W(e===null||typeof e=="string"),new mt(e)}},v8=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},w8=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new v8(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class E8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _8{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(W(typeof n.token=="string"),this.T=n.token,new E8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=S8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function Da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function LA(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new R(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new R(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new R(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new R(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Oe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Oe(0,0))}static max(){return new q(new Oe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r){n===void 0?n=0:n>e.length&&j(),r===void 0?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ae extends fc{construct(e,n,r){return new ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new R(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const I8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends fc{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return I8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ge(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new R(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new R(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new R(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new R(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.path=e}static fromPath(e){return new M(ae.fromString(e))}static fromName(e){return new M(ae.fromString(e).popFirst(5))}static empty(){return new M(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ae(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function d0(t){return t.fields.find(e=>e.kind===2)}function Ss(t){return t.fields.filter(e=>e.kind!==2)}FA.UNKNOWN_ID=-1;let b8=class{constructor(e,n){this.fieldPath=e,this.kind=n}};class Tf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Tf(0,Tn.min())}}function UA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new Tn(i,M.empty(),e)}function jA(t){return new Tn(t.readTime,t.key,-1)}class Tn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Tn(q.min(),M.empty(),-1)}static max(){return new Tn(q.max(),M.empty(),-1)}}function oE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:Y(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==VA)throw t;N("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(i=>i?T.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new T((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new T((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new yt,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new wu(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=aE(r.target.error);this.v.reject(new wu(e,i))}}static open(e,n,r,i){try{return new hm(n,e.transaction(i,r))}catch(s){throw new wu(n,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(N("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new x8(n)}}class Hn{constructor(e,n,r){this.name=e,this.version=n,this.V=r,Hn.S(Le())===12.2&&We("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return N("SimpleDb","Removing database:",e),xs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ec())return!1;if(Hn.C())return!0;const e=Le(),n=Hn.S(e),r=0<n&&n<10,i=Hn.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(N("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new wu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new R(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new R(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new wu(e,o))},i.onupgradeneeded=s=>{N("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.O(o,i.transaction,s.oldVersion,this.version).next(()=>{N("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(e);const a=hm.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.P(),u)).catch(u=>(a.abort(u),T.reject(u))).toPromise();return l.catch(()=>{}),await a.R,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(N("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class T8{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return xs(this.L.delete())}}class wu extends R{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function fs(t){return t.name==="IndexedDbTransactionError"}class x8{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(N("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(N("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xs(r)}add(e){return N("SimpleDb","ADD",this.store.name,e,e),xs(this.store.add(e))}get(e){return xs(this.store.get(e)).next(n=>(n===void 0&&(n=null),N("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return N("SimpleDb","DELETE",this.store.name,e),xs(this.store.delete(e))}count(){return N("SimpleDb","COUNT",this.store.name),xs(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new T((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new T((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){N("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new T((r,i)=>{n.onerror=s=>{const o=aE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new T((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new T8(a),u=n(a.primaryKey,a.value,l);if(u instanceof T){const c=u.catch(d=>(l.done(),T.reject(d)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>T.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function xs(t){return new T((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=aE(r.target.error);n(i)}})}let mb=!1;function aE(t){const e=Hn.S(Le());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new R("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mb||(mb=!0,setTimeout(()=>{throw r},0)),r}}return t}class k8{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){N("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{N("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){fs(n)?N("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await hs(n)}await this.et(6e4)})}}class C8{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,s=!0;return T.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return N("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(i,s)).next(a=>(N("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=jA(s);oE(o,r)>0&&(r=o)}),new Tn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}an.ct=-1;function ed(t){return t==null}function pc(t){return t===0&&1/t==-1/0}function zA(t){return typeof t=="number"&&Number.isInteger(t)&&!pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gb(e)),e=P8(t.get(n),e);return gb(e)}function P8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function gb(t){return t+""}function mr(t){const e=t.length;if(W(e>=2),e===2)return W(t.charAt(0)===""&&t.charAt(1)===""),ae.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&j(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:j()}s=o+2}return new ae(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t,e){return[t,Xt(e)]}function qA(t,e,n){return[t,Xt(e),n]}const R8={},A8=["prefixPath","collectionGroup","readTime","documentId"],N8=["prefixPath","collectionGroup","documentId"],O8=["collectionGroup","readTime","prefixPath","documentId"],D8=["canonicalId","targetId"],$8=["targetId","path"],M8=["path","targetId"],L8=["collectionId","parent"],F8=["indexId","uid"],U8=["uid","sequenceNumber"],j8=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],V8=["indexId","uid","orderedDocumentKey"],B8=["userId","collectionPath","documentId"],z8=["userId","collectionPath","largestBatchId"],q8=["userId","collectionGroup","largestBatchId"],WA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],W8=[...WA,"documentOverlays"],GA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KA=GA,G8=[...KA,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends BA{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function St(t,e){const n=F(t);return Hn.M(n.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new Ie(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new Ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xt.RED,this.left=i??xt.EMPTY,this.right=s??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(t,e,n,r,i){return this}insert(t,e,n){return new xt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new Ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wb(this.data.getIterator())}getIteratorFrom(e){return new wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new ln([])}unionWith(e){let n=new xe(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new QA("Invalid base64 string: "+i):i}}(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const H8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(t){if(W(!!t),typeof t=="string"){let e=0;const n=H8.exec(t);if(W(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qi(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lE(t){const e=t.mapValue.fields.__previous_value__;return fm(e)?lE(e):e}function mc(t){const e=Hi(t.mapValue.fields.__local_write_time__.timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Yi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ih={nullValue:"NULL_VALUE"};function so(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fm(t)?4:YA(t)?9007199254740991:10:j()}function xr(t,e){if(t===e)return!0;const n=so(t);if(n!==so(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Hi(r.timestampValue),o=Hi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Qi(r.bytesValue).isEqual(Qi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ve(r.geoPointValue.latitude)===Ve(i.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ve(r.integerValue)===Ve(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ve(r.doubleValue),o=Ve(i.doubleValue);return s===o?pc(s)===pc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Da(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(vb(s)!==vb(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!xr(s[a],o[a])))return!1;return!0}(t,e);default:return j()}}function gc(t,e){return(t.values||[]).find(n=>xr(n,e))!==void 0}function Ji(t,e){if(t===e)return 0;const n=so(t),r=so(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ve(i.integerValue||i.doubleValue),a=Ve(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Eb(t.timestampValue,e.timestampValue);case 4:return Eb(mc(t),mc(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Qi(i),a=Qi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Y(o[l],a[l]);if(u!==0)return u}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(Ve(i.latitude),Ve(s.latitude));return o!==0?o:Y(Ve(i.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Ji(o[l],a[l]);if(u)return u}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Ci.mapValue&&s===Ci.mapValue)return 0;if(i===Ci.mapValue)return 1;if(s===Ci.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Y(a[c],u[c]);if(d!==0)return d;const h=Ji(o[a[c]],l[u[c]]);if(h!==0)return h}return Y(a.length,u.length)}(t.mapValue,e.mapValue);default:throw j()}}function Eb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Y(t,e);const n=Hi(t),r=Hi(e),i=Y(n.seconds,r.seconds);return i!==0?i:Y(n.nanos,r.nanos)}function $a(t){return f0(t)}function f0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Hi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Qi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,M.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=f0(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${f0(r.fields[a])}`;return s+"}"}(t.mapValue):j();var e,n}function oo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function p0(t){return!!t&&"integerValue"in t}function yc(t){return!!t&&"arrayValue"in t}function _b(t){return!!t&&"nullValue"in t}function Sb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bh(t){return!!t&&"mapValue"in t}function Eu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Eu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Y8(t){return"nullValue"in t?Ih:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?oo(Yi.empty(),M.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:j()}function J8(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?oo(Yi.empty(),M.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ci:j()}function Ib(t,e){const n=Ji(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function bb(t,e){const n=Ji(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sn=class m0{constructor(e){this.value=e}static empty(){return new m0({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=Ge.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Eu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new m0(Eu(this.value))}};function JA(t){const e=[];return _o(t.fields,(n,r)=>{const i=new Ge([n]);if(bh(r)){const s=JA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vt=class Is{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Is(e,0,q.min(),q.min(),q.min(),sn.empty(),0)}static newFoundDocument(e,n,r,i){return new Is(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new Is(e,2,n,q.min(),q.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Is(e,3,n,q.min(),q.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.position=e,this.inclusive=n}}function Tb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=Ji(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n="asc"){this.field=e,this.dir=n}}function X8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{}class re extends XA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z8(e,n,r):n==="array-contains"?new nW(e,r):n==="in"?new iN(e,r):n==="not-in"?new rW(e,r):n==="array-contains-any"?new iW(e,r):new re(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eW(e,r):new tW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ji(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison(Ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ge extends XA{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ge(e,n)}matches(e){return Ma(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ma(t){return t.op==="and"}function g0(t){return t.op==="or"}function uE(t){return ZA(t)&&Ma(t)}function ZA(t){for(const e of t.filters)if(e instanceof ge)return!1;return!0}function y0(t){if(t instanceof re)return t.field.canonicalString()+t.op.toString()+$a(t.value);if(uE(t))return t.filters.map(e=>y0(e)).join(",");{const e=t.filters.map(n=>y0(n)).join(",");return`${t.op}(${e})`}}function eN(t,e){return t instanceof re?function(n,r){return r instanceof re&&n.op===r.op&&n.field.isEqual(r.field)&&xr(n.value,r.value)}(t,e):t instanceof ge?function(n,r){return r instanceof ge&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&eN(s,r.filters[o]),!0):!1}(t,e):void j()}function tN(t,e){const n=t.filters.concat(e);return ge.create(n,t.op)}function nN(t){return t instanceof re?function(e){return`${e.field.canonicalString()} ${e.op} ${$a(e.value)}`}(t):t instanceof ge?function(e){return e.op.toString()+" {"+e.getFilters().map(nN).join(" ,")+"}"}(t):"Filter"}class Z8 extends re{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class eW extends re{constructor(e,n){super(e,"in",n),this.keys=rN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tW extends re{constructor(e,n){super(e,"not-in",n),this.keys=rN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class nW extends re{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yc(n)&&gc(n.arrayValue,this.value)}}class iN extends re{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gc(this.value.arrayValue,n)}}class rW extends re{constructor(e,n){super(e,"not-in",n)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gc(this.value.arrayValue,n)}}class iW extends re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function v0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sW(t,e,n,r,i,s,o)}function ao(t){const e=F(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>y0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$a(r)).join(",")),e.dt=n}return e.dt}function td(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xb(t.startAt,e.startAt)&&xb(t.endAt,e.endAt)}function xf(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function kf(t,e){return t.filters.filter(n=>n instanceof re&&n.field.isEqual(e))}function kb(t,e,n){let r=Ih,i=!0;for(const s of kf(t,e)){let o=Ih,a=!0;switch(s.op){case"<":case"<=":o=Y8(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Ih}Ib({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Ib({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function Cb(t,e,n){let r=Ci,i=!0;for(const s of kf(t,e)){let o=Ci,a=!0;switch(s.op){case">=":case">":o=J8(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ci}bb({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];bb({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function sN(t,e,n,r,i,s,o,a){return new ai(t,e,n,r,i,s,o,a)}function hl(t){return new ai(t)}function Pb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function pm(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function dE(t){return t.collectionGroup!==null}function Hs(t){const e=F(t);if(e.wt===null){e.wt=[];const n=pm(e),r=cE(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new ya(n)),e.wt.push(new ya(Ge.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ya(Ge.keyField(),s))}}}return e.wt}function pn(t){const e=F(t);if(!e._t)if(e.limitType==="F")e._t=v0(e.path,e.collectionGroup,Hs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Hs(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ya(s.field,o))}const r=e.endAt?new Xi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xi(e.startAt.position,e.startAt.inclusive):null;e._t=v0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function w0(t,e){e.getFirstInequalityField(),pm(t);const n=t.filters.concat([e]);return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cf(t,e,n){return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nd(t,e){return td(pn(t),pn(e))&&t.limitType===e.limitType}function oN(t){return`${ao(pn(t))}|lt:${t.limitType}`}function E0(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>nN(r)).join(", ")}]`),ed(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$a(r)).join(",")),`Target(${n})`}(pn(t))}; limitType=${t.limitType})`}function rd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Hs(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Tb(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Hs(n),r)||n.endAt&&!function(i,s,o){const a=Tb(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Hs(n),r))}(t,e)}function aN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lN(t){return(e,n)=>{let r=!1;for(const i of Hs(t)){const s=oW(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oW(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Ji(a,l):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=new Ie(M.comparator);function un(){return aW}const uN=new Ie(M.comparator);function eu(...t){let e=uN;for(const n of t)e=e.insert(n.key,n);return e}function cN(t){let e=uN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gr(){return _u()}function dN(){return _u()}function _u(){return new ps(t=>t.toString(),(t,e)=>t.isEqual(e))}const lW=new Ie(M.comparator),uW=new xe(M.comparator);function X(...t){let e=uW;for(const n of t)e=e.add(n);return e}const cW=new xe(Y);function hE(){return cW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function fN(t){return{integerValue:""+t}}function pN(t,e){return zA(e)?fN(e):hN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this._=void 0}}function dW(t,e,n){return t instanceof La?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&fm(i)&&(i=lE(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof lo?gN(t,e):t instanceof uo?yN(t,e):function(r,i){const s=mN(r,i),o=Rb(s)+Rb(r.gt);return p0(s)&&p0(r.gt)?fN(o):hN(r.serializer,o)}(t,e)}function hW(t,e,n){return t instanceof lo?gN(t,e):t instanceof uo?yN(t,e):n}function mN(t,e){return t instanceof Fa?p0(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class La extends mm{}class lo extends mm{constructor(e){super(),this.elements=e}}function gN(t,e){const n=vN(e);for(const r of t.elements)n.some(i=>xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class uo extends mm{constructor(e){super(),this.elements=e}}function yN(t,e){let n=vN(e);for(const r of t.elements)n=n.filter(i=>!xr(i,r));return{arrayValue:{values:n}}}class Fa extends mm{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Rb(t){return Ve(t.integerValue||t.doubleValue)}function vN(t){return yc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.field=e,this.transform=n}}function fW(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof lo&&r instanceof lo||n instanceof uo&&r instanceof uo?Da(n.elements,r.elements,xr):n instanceof Fa&&r instanceof Fa?xr(n.gt,r.gt):n instanceof La&&r instanceof La}(t.transform,e.transform)}class pW{constructor(e,n){this.version=e,this.transformResults=n}}class Ne{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ne}static exists(e){return new Ne(void 0,e)}static updateTime(e){return new Ne(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gm{}function wN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pl(t.key,Ne.none()):new fl(t.key,t.data,Ne.none());{const n=t.data,r=sn.empty();let i=new xe(Ge.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new li(t.key,r,new ln(i.toArray()),Ne.none())}}function mW(t,e,n){t instanceof fl?function(r,i,s){const o=r.value.clone(),a=Nb(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof li?function(r,i,s){if(!Th(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Nb(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(EN(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Su(t,e,n,r){return t instanceof fl?function(i,s,o,a){if(!Th(i.precondition,s))return o;const l=i.value.clone(),u=Ob(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof li?function(i,s,o,a){if(!Th(i.precondition,s))return o;const l=Ob(i.fieldTransforms,a,s),u=s.data;return u.setAll(EN(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Th(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function gW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mN(r.transform,i||null);s!=null&&(n===null&&(n=sn.empty()),n.set(r.field,s))}return n||null}function Ab(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Da(n,r,(i,s)=>fW(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fl extends gm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class li extends gm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function EN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Nb(t,e,n){const r=new Map;W(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hW(o,a,n[i]))}return r}function Ob(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dW(s,o,e))}return r}class pl extends gm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fE extends gm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mW(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=wN(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(n,r)=>Ab(n,r))&&Da(this.baseMutations,e.baseMutations,(n,r)=>Ab(n,r))}}class mE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){W(e.mutations.length===r.length);let i=lW;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new mE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,se;function _N(t){switch(t){default:return j();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function SN(t){if(t===void 0)return We("GRPC error has no .code"),k.UNKNOWN;switch(t){case Ye.OK:return k.OK;case Ye.CANCELLED:return k.CANCELLED;case Ye.UNKNOWN:return k.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return k.INTERNAL;case Ye.UNAVAILABLE:return k.UNAVAILABLE;case Ye.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ye.NOT_FOUND:return k.NOT_FOUND;case Ye.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ye.ABORTED:return k.ABORTED;case Ye.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ye.DATA_LOSS:return k.DATA_LOSS;default:return j()}}(se=Ye||(Ye={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zd}static getOrCreateInstance(){return zd===null&&(zd=new yE),zd}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let zd=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=new ga([4294967295,4294967295],0);function Db(t){const e=IN().encode(t),n=new h8;return n.update(e),new Uint8Array(n.digest())}function $b(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ga([n,r],0),new ga([i,s],0)]}class vE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(r<0)throw new tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ga.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ga.fromNumber(r)));return i.compare(vW)===1&&(i=new ga([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Db(e),[r,i]=$b(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new vE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Db(e),[r,i]=$b(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,od.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sd(q.min(),i,new Ie(Y),un(),X())}}class od{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new od(r,n,X(),X(),X())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class bN{constructor(e,n){this.targetId=e,this.Vt=n}}class TN{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Mb{constructor(){this.St=0,this.Dt=Fb(),this.Ct=ut.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=X(),n=X(),r=X();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new od(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Fb()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class wW{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=un(),this.zt=Lb(),this.Wt=new Ie(Y)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(xf(o))if(i===0){const a=new M(o.path);this.Yt(r,a,vt.newNoDocument(a,q.min()))}else W(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=yE.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,p,f,m,E,y;const g={localCacheCount:c,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(g.bloomFilter={applied:u===0,hashCount:(h=v==null?void 0:v.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(m=(f=(p=v==null?void 0:v.bits)===null||p===void 0?void 0:p.bitmap)===null||f===void 0?void 0:f.length)!==null&&m!==void 0?m:0,padding:(y=(E=v==null?void 0:v.bits)===null||E===void 0?void 0:E.padding)!==null&&y!==void 0?y:0}),g}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Qi(s).toUint8Array()}catch(c){if(c instanceof QA)return er("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new vE(l,o,a)}catch(c){return er(c instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&xf(a.target)){const l=new M(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,vt.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=X();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new sd(e,n,this.Wt,this.jt,r);return this.jt=un(),this.zt=Lb(),this.Wt=new Ie(Y),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Mb,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new xe(Y),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||N("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Mb),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Lb(){return new Ie(M.comparator)}function Fb(){return new Ie(M.comparator)}const EW=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_W=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),SW=(()=>({and:"AND",or:"OR"}))();class IW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _0(t,e){return t.useProto3Json||ed(e)?e:{value:e}}function Ua(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bW(t,e){return Ua(t,e.toTimestamp())}function Ke(t){return W(!!t),q.fromTimestamp(function(e){const n=Hi(e);return new Oe(n.seconds,n.nanos)}(t))}function wE(t,e){return function(n){return new ae(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function kN(t){const e=ae.fromString(t);return W(MN(e)),e}function vc(t,e){return wE(t.databaseId,e.path)}function _r(t,e){const n=kN(e);if(n.get(1)!==t.databaseId.projectId)throw new R(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new R(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(PN(n))}function S0(t,e){return wE(t.databaseId,e)}function CN(t){const e=kN(t);return e.length===4?ae.emptyPath():PN(e)}function wc(t){return new ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PN(t){return W(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ub(t,e,n){return{name:vc(t,e),fields:n.value.mapValue.fields}}function RN(t,e,n){const r=_r(t,e.name),i=Ke(e.updateTime),s=e.createTime?Ke(e.createTime):q.min(),o=new sn({mapValue:{fields:e.fields}}),a=vt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function TW(t,e){return"found"in e?function(n,r){W(!!r.found),r.found.name,r.found.updateTime;const i=_r(n,r.found.name),s=Ke(r.found.updateTime),o=r.found.createTime?Ke(r.found.createTime):q.min(),a=new sn({mapValue:{fields:r.found.fields}});return vt.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){W(!!r.missing),W(!!r.readTime);const i=_r(n,r.missing),s=Ke(r.readTime);return vt.newNoDocument(i,s)}(t,e):j()}function xW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:j()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(W(u===void 0||typeof u=="string"),ut.fromBase64String(u||"")):(W(u===void 0||u instanceof Uint8Array),ut.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?k.UNKNOWN:SN(l.code);return new R(u,l.message||"")}(o);n=new TN(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_r(t,r.document.name),s=Ke(r.document.updateTime),o=r.document.createTime?Ke(r.document.createTime):q.min(),a=new sn({mapValue:{fields:r.document.fields}}),l=vt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new xh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_r(t,r.document),s=r.readTime?Ke(r.readTime):q.min(),o=vt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_r(t,r.document),s=r.removedTargetIds||[];n=new xh([],s,i,null)}else{if(!("filter"in e))return j();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new yW(i,s),a=r.targetId;n=new bN(a,o)}}return n}function Ec(t,e){let n;if(e instanceof fl)n={update:Ub(t,e.key,e.value)};else if(e instanceof pl)n={delete:vc(t,e.key)};else if(e instanceof li)n={update:Ub(t,e.key,e.data),updateMask:NW(e.fieldMask)};else{if(!(e instanceof fE))return j();n={verify:vc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof La)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof lo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof uo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Fa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw j()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:bW(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:j()}(t,e.precondition)),n}function I0(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Ne.updateTime(Ke(i.updateTime)):i.exists!==void 0?Ne.exists(i.exists):Ne.none()}(e.currentDocument):Ne.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)W(o.setToServerValue==="REQUEST_TIME"),a=new La;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new lo(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new uo(u)}else"increment"in o?a=new Fa(s,o.increment):j();const l=Ge.fromServerFormat(o.fieldPath);return new id(l,a)}(t,i)):[];if(e.update){e.update.name;const i=_r(t,e.update.name),s=new sn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new ln(l.map(u=>Ge.fromServerFormat(u)))}(e.updateMask);return new li(i,s,o,n,r)}return new fl(i,s,n,r)}if(e.delete){const i=_r(t,e.delete);return new pl(i,n)}if(e.verify){const i=_r(t,e.verify);return new fE(i,n)}return j()}function kW(t,e){return t&&t.length>0?(W(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ke(r.updateTime):Ke(i);return s.isEqual(q.min())&&(s=Ke(i)),new pW(s,r.transformResults||[])}(n,e))):[]}function AN(t,e){return{documents:[S0(t,e.path)]}}function NN(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=S0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=S0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return $N(ge.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Uo(c.field),direction:PW(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=_0(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function ON(t){let e=CN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){W(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=DN(c);return d instanceof ge&&uE(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new ya(jo(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,ed(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new Xi(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new Xi(h,d)}(n.endAt)),sN(e,i,o,s,a,"F",l,u)}function CW(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DN(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=jo(e.unaryFilter.field);return re.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=jo(e.unaryFilter.field);return re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jo(e.unaryFilter.field);return re.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=jo(e.unaryFilter.field);return re.create(s,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(t):t.fieldFilter!==void 0?function(e){return re.create(jo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ge.create(e.compositeFilter.filters.map(n=>DN(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return j()}}(e.compositeFilter.op))}(t):j()}function PW(t){return EW[t]}function RW(t){return _W[t]}function AW(t){return SW[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function jo(t){return Ge.fromServerFormat(t.fieldPath)}function $N(t){return t instanceof re?function(e){if(e.op==="=="){if(Sb(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NAN"}};if(_b(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Sb(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NAN"}};if(_b(e.value))return{unaryFilter:{field:Uo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(e.field),op:RW(e.op),value:e.value}}}(t):t instanceof ge?function(e){const n=e.getFilters().map(r=>$N(r));return n.length===1?n[0]:{compositeFilter:{op:AW(e.op),filters:n}}}(t):j()}function NW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,s=q.min(),o=q.min(),a=ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.fe=e}}function OW(t,e){let n;if(e.document)n=RN(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=M.fromSegments(e.noDocument.path),i=ho(e.noDocument.readTime);n=vt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return j();{const r=M.fromSegments(e.unknownDocument.path),i=ho(e.unknownDocument.version);n=vt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Oe(r[0],r[1]);return q.fromTimestamp(i)}(e.readTime)),n}function jb(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Pf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:vc(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Ua(i,s.version.toTimestamp()),createTime:Ua(i,s.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:co(e.version)};else{if(!e.isUnknownDocument())return j();r.unknownDocument={path:n.path.toArray(),version:co(e.version)}}return r}function Pf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function co(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ho(t){const e=new Oe(t.seconds,t.nanoseconds);return q.fromTimestamp(e)}function ks(t,e){const n=(e.baseMutations||[]).map(s=>I0(t.fe,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>I0(t.fe,s)),i=Oe.fromMillis(e.localWriteTimeMs);return new pE(e.batchId,i,n,r)}function nu(t){const e=ho(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ho(t.lastLimboFreeSnapshotVersion):q.min();let r;var i;return t.query.documents!==void 0?(W((i=t.query).documents.length===1),r=pn(hl(CN(i.documents[0])))):r=function(s){return pn(ON(s))}(t.query),new Vr(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ut.fromBase64String(t.resumeToken))}function FN(t,e){const n=co(e.snapshotVersion),r=co(e.lastLimboFreeSnapshotVersion);let i;i=xf(e.target)?AN(t.fe,e.target):NN(t.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ao(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function EE(t){const e=ON({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cf(e,e.limit,"L"):e}function ry(t,e){return new gE(e.largestBatchId,I0(t.fe,e.overlayMutation))}function Vb(t,e){const n=e.path.lastSegment();return[t,Xt(e.path.popLast()),n]}function Bb(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:co(r.readTime),documentKey:Xt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{getBundleMetadata(e,n){return zb(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ho(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return zb(e).put({bundleId:(r=n).id,createTime:co(Ke(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return qb(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:EE(i.bundledQuery),readTime:ho(i.readTime)};var i})}saveNamedQuery(e,n){return qb(e).put(function(r){return{name:r.name,readTime:co(Ke(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function zb(t){return St(t,"bundles")}function qb(t){return St(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){const r=n.uid||"";return new ym(e,r)}getOverlay(e,n){return Ul(e).get(Vb(this.userId,n)).next(r=>r?ry(this.serializer,r):null)}getOverlays(e,n){const r=gr();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new gE(n,o);i.push(this.we(e,a))}),T.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Xt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Ul(e).J("collectionPathOverlayIndex",a))}),T.waitFor(s)}getOverlaysForCollection(e,n,r){const i=gr(),s=Xt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ul(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=ry(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=gr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ul(e).X({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=ry(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}we(e,n){return Ul(e).put(function(r,i,s){const[o,a,l]=Vb(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ec(r.fe,s.mutation)}}(this.serializer,this.userId,n))}}function Ul(t){return St(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Ve(e.integerValue));else if("doubleValue"in e){const r=Ve(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),pc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),typeof r=="string"?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Qi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?YA(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):j()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Cs.Ve=new Cs;function $W(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Wb(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=$W(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class MW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=n.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=n.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const n=this.Fe(e),r=Wb(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Le(e){const n=this.Fe(e),r=Wb(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}De(e){const n=255&e;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class LW{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class FW{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class jl{constructor(){this.je=new MW,this.ze=new LW(this.je),this.We=new FW(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ps(this.indexId,this.documentKey,this.arrayValue,r)}}function pi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=Gb(t.arrayValue,e.arrayValue),n!==0?n:(n=Gb(t.directionalValue,e.directionalValue),n!==0?n:M.comparator(t.documentKey,e.documentKey)))}function Gb(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){W(e.collectionGroup===this.collectionId);const n=d0(e);if(n!==void 0&&!this.en(n))return!1;const r=Ss(e);let i=0,s=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(this.Ze!==void 0){const o=r[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ye.length||!this.sn(this.Ye[s++],o))return!1}return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){var e,n;if(W(t instanceof re||t instanceof ge),t instanceof re){if(t instanceof iN){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>re.create(t.field,"==",s)))||[];return ge.create(i,"or")}return t}const r=t.filters.map(i=>UN(i));return ge.create(r,t.op)}function jW(t){if(t.getFilters().length===0)return[];const e=x0(UN(t));return W(jN(e)),b0(e)||T0(e)?[e]:e.getFilters()}function b0(t){return t instanceof re}function T0(t){return t instanceof ge&&uE(t)}function jN(t){return b0(t)||T0(t)||function(e){if(e instanceof ge&&g0(e)){for(const n of e.getFilters())if(!b0(n)&&!T0(n))return!1;return!0}return!1}(t)}function x0(t){if(W(t instanceof re||t instanceof ge),t instanceof re)return t;if(t.filters.length===1)return x0(t.filters[0]);const e=t.filters.map(r=>x0(r));let n=ge.create(e,t.op);return n=Rf(n),jN(n)?n:(W(n instanceof ge),W(Ma(n)),W(n.filters.length>1),n.filters.reduce((r,i)=>_E(r,i)))}function _E(t,e){let n;return W(t instanceof re||t instanceof ge),W(e instanceof re||e instanceof ge),n=t instanceof re?e instanceof re?function(r,i){return ge.create([r,i],"and")}(t,e):Kb(t,e):e instanceof re?Kb(e,t):function(r,i){if(W(r.filters.length>0&&i.filters.length>0),Ma(r)&&Ma(i))return tN(r,i.getFilters());const s=g0(r)?r:i,o=g0(r)?i:r,a=s.filters.map(l=>_E(l,o));return ge.create(a,"or")}(t,e),Rf(n)}function Kb(t,e){if(Ma(e))return tN(e,t.getFilters());{const n=e.filters.map(r=>_E(t,r));return ge.create(n,"or")}}function Rf(t){if(W(t instanceof re||t instanceof ge),t instanceof re)return t;const e=t.getFilters();if(e.length===1)return Rf(e[0]);if(ZA(t))return t;const n=e.map(i=>Rf(i)),r=[];return n.forEach(i=>{i instanceof re?r.push(i):i instanceof ge&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ge.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(){this.rn=new SE}addToCollectionParentIndex(e,n){return this.rn.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(Tn.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(Tn.min())}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class SE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Uint8Array(0);class BW{constructor(e,n){this.user=e,this.databaseId=n,this.on=new SE,this.un=new ps(r=>ao(r),(r,i)=>td(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const s={collectionId:r,parent:Xt(i)};return Hb(e).put(s)}return T.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[LA(n),""],!1,!0);return Hb(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(mr(o.parent))}return r})}addFieldIndex(e,n){const r=Wd(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Bl(e);return s.next(a=>{o.put(Bb(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Wd(e),i=Bl(e),s=Vl(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Vl(e);let i=!0;const s=new Map;return T.forEach(this.cn(n),o=>this.an(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=X();const a=[];return T.forEach(s,(l,u)=>{var c;N("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(v=>`${v.fieldPath}:${v.kind}`).join(",")}`} to execute ${ao(n)}`);const d=function(v,w){const S=d0(w);if(S===void 0)return null;for(const I of kf(v,S.fieldPath))switch(I.op){case"array-contains-any":return I.value.arrayValue.values||[];case"array-contains":return[I.value]}return null}(u,l),h=function(v,w){const S=new Map;for(const I of Ss(w))for(const b of kf(v,I.fieldPath))switch(b.op){case"==":case"in":S.set(I.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return S.set(I.fieldPath.canonicalString(),b.value),Array.from(S.values())}return null}(u,l),p=function(v,w){const S=[];let I=!0;for(const b of Ss(w)){const P=b.kind===0?kb(v,b.fieldPath,v.startAt):Cb(v,b.fieldPath,v.startAt);S.push(P.value),I&&(I=P.inclusive)}return new Xi(S,I)}(u,l),f=function(v,w){const S=[];let I=!0;for(const b of Ss(w)){const P=b.kind===0?Cb(v,b.fieldPath,v.endAt):kb(v,b.fieldPath,v.endAt);S.push(P.value),I&&(I=P.inclusive)}return new Xi(S,I)}(u,l),m=this.hn(l,u,p),E=this.hn(l,u,f),y=this.ln(l,u,h),g=this.fn(l.indexId,d,m,p.inclusive,E,f.inclusive,y);return T.forEach(g,v=>r.H(v,n.limit).next(w=>{w.forEach(S=>{const I=M.fromSegments(S.documentKey);o.has(I)||(o=o.add(I),a.push(I))})}))}).next(()=>a)}return T.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=jW(ge.create(e.filters,"and")).map(r=>v0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.dn(n[d/u]):qd,p=this.wn(e,h,r[d%u],i),f=this._n(e,h,s[d%u],o),m=a.map(E=>this.wn(e,h,E,!0));c.push(...this.createRange(p,f,m))}return c}wn(e,n,r,i){const s=new Ps(e,M.empty(),n,r);return i?s:s.Je()}_n(e,n,r,i){const s=new Ps(e,M.empty(),n,r);return i?s.Je():s}an(e,n){const r=new UW(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return T.forEach(i,s=>this.an(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new xe(Ge.comparator),u=!1;for(const c of a.filters)for(const d of c.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}mn(e,n){const r=new jl;for(const i of Ss(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.He(i.kind);Cs.Ve._e(s,o)}return r.Qe()}dn(e){const n=new jl;return Cs.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new jl;return Cs.Ve._e(oo(this.databaseId,n),r.He(function(i){const s=Ss(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(r===null)return[];let i=[];i.push(new jl);let s=0;for(const o of Ss(e)){const a=r[s++];for(const l of i)if(this.yn(n,o.fieldPath)&&yc(a))i=this.pn(i,o,a);else{const u=l.He(o.kind);Cs.Ve._e(a,u)}}return this.In(i)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new jl;l.seed(a.Qe()),Cs.Ve._e(o,l.He(n.kind)),s.push(l)}return s}yn(e,n){return!!e.filters.find(r=>r instanceof re&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Wd(e),i=Bl(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return T.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const d=c?new Tf(c.sequenceNumber,new Tn(ho(c.readTime),new M(mr(c.documentKey)),c.largestBatchId)):Tf.empty(),h=u.fields.map(([p,f])=>new b8(Ge.fromServerFormat(p),f));return new FA(u.indexId,u.collectionGroup,h,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Y(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Wd(e),s=Bl(e);return this.Tn(e).next(o=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>T.forEach(a,l=>s.put(Bb(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return T.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?T.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),T.forEach(a,l=>this.En(e,i,l).next(u=>{const c=this.An(s,l);return u.isEqual(c)?T.resolve():this.vn(e,s,l,u,c)}))))})}Rn(e,n,r,i){return Vl(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,i){return Vl(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const i=Vl(e);let s=new xe(pi);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(o,a)=>{s=s.add(new Ps(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}An(e,n){let r=new xe(pi);const i=this.mn(n,e);if(i==null)return r;const s=d0(n);if(s!=null){const o=e.data.field(s.fieldPath);if(yc(o))for(const a of o.arrayValue.values||[])r=r.add(new Ps(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Ps(n.indexId,e.key,qd,i));return r}vn(e,n,r,i,s){N("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,d){const h=a.getIterator(),p=l.getIterator();let f=Mo(h),m=Mo(p);for(;f||m;){let E=!1,y=!1;if(f&&m){const g=u(f,m);g<0?y=!0:g>0&&(E=!0)}else f!=null?y=!0:E=!0;E?(c(m),m=Mo(p)):y?(d(f),f=Mo(h)):(f=Mo(h),m=Mo(p))}}(i,s,pi,a=>{o.push(this.Rn(e,n,r,a))},a=>{o.push(this.Pn(e,n,r,a))}),T.waitFor(o)}Tn(e){let n=1;return Bl(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>pi(o,a)).filter((o,a,l)=>!a||pi(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=pi(o,e),l=pi(o,n);if(a===0)i[0]=e.Je();else if(a>0&&l<0)i.push(o),i.push(o.Je());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,qd,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,qd,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return pi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Qb)}getMinOffset(e,n){return T.mapArray(this.cn(n),r=>this.an(e,r).next(i=>i||j())).next(Qb)}}function Hb(t){return St(t,"collectionParents")}function Vl(t){return St(t,"indexEntries")}function Wd(t){return St(t,"indexConfiguration")}function Bl(t){return St(t,"indexState")}function Qb(t){W(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;oE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Tn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{W(a===1)}));const u=[];for(const c of n.mutations){const d=qA(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return T.waitFor(s).next(()=>u)}function Af(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw j();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(41943040,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);class vm{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,n,r,i){W(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new vm(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mi(e).X({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Vo(e),o=mi(e);return o.add({}).next(a=>{W(typeof a=="number");const l=new pE(a,n,r,i),u=function(h,p,f){const m=f.baseMutations.map(y=>Ec(h.fe,y)),E=f.mutations.map(y=>Ec(h.fe,y));return{userId:p,batchId:f.batchId,localWriteTimeMs:f.localWriteTime.toMillis(),baseMutations:m,mutations:E}}(this.serializer,this.userId,l),c=[];let d=new xe((h,p)=>Y(h.canonicalString(),p.canonicalString()));for(const h of i){const p=qA(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(p,R8))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=l.keys()}),T.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return mi(e).get(n).next(r=>r?(W(r.userId===this.userId),ks(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?T.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return mi(e).X({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(W(a.batchId>=r),s=ks(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return mi(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mi(e).j("userMutationsIndex",n).next(r=>r.map(i=>ks(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Sh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Vo(e).X({range:i},(o,a,l)=>{const[u,c,d]=o,h=mr(c);if(u===this.userId&&n.path.isEqual(h))return mi(e).get(d).next(p=>{if(!p)throw j();W(p.userId===this.userId),s.push(ks(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(Y);const i=[];return n.forEach(s=>{const o=Sh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Vo(e).X({range:a},(u,c,d)=>{const[h,p,f]=u,m=mr(p);h===this.userId&&s.path.isEqual(m)?r=r.add(f):d.done()});i.push(l)}),T.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Sh(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new xe(Y);return Vo(e).X({range:o},(l,u,c)=>{const[d,h,p]=l,f=mr(h);d===this.userId&&r.isPrefixOf(f)?f.length===i&&(a=a.add(p)):c.done()}).next(()=>this.Dn(e,a))}Dn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(mi(e).get(s).next(o=>{if(o===null)throw j();W(o.userId===this.userId),r.push(ks(this.serializer,o))}))}),T.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return VN(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),T.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return T.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Vo(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=mr(s[1]);i.push(l)}else a.done()}).next(()=>{W(i.length===0)})})}containsKey(e,n){return BN(e,this.userId,n)}xn(e){return zN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function BN(t,e,n){const r=Sh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vo(t).X({range:s,Y:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function mi(t){return St(t,"mutations")}function Vo(t){return St(t,"documentMutations")}function zN(t){return St(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fo(0)}static Mn(){return new fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new fo(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>q.fromTimestamp(new Oe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Lo(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(W(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Lo(e).X((o,a)=>{const l=nu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>T.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Lo(e).X((r,i)=>{const s=nu(i);n(s)})}$n(e){return Jb(e).get("targetGlobalKey").next(n=>(W(n!==null),n))}On(e,n){return Jb(e).put("targetGlobalKey",n)}Fn(e,n){return Lo(e).put(FN(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ao(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Lo(e).X({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=nu(a);td(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=_i(e);return n.forEach(o=>{const a=Xt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),T.waitFor(i)}removeMatchingKeys(e,n,r){const i=_i(e);return T.forEach(n,s=>{const o=Xt(s.path);return T.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=_i(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=_i(e);let s=X();return i.X({range:r,Y:!0},(o,a,l)=>{const u=mr(o[1]),c=new M(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Xt(n.path),i=IDBKeyRange.bound([r],[LA(r)],!1,!0);let s=0;return _i(e).X({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}le(e,n){return Lo(e).get(n).next(r=>r?nu(r):null)}}function Lo(t){return St(t,"targets")}function Jb(t){return St(t,"targetGlobal")}function _i(t){return St(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb([t,e],[n,r]){const i=Y(t,n);return i===0?Y(e,r):i}class qW{constructor(e){this.Ln=e,this.buffer=new xe(Xb),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Xb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){N("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fs(n)?N("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await hs(n)}await this.Qn(3e5)})}}class GW{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return T.resolve(an.ct);const r=new qW(n);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(N("LruGarbageCollector","Garbage collection skipped; disabled"),T.resolve(Yb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(N("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yb):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(N("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),c0()<=oe.DEBUG&&N("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),T.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function KW(t,e){return new GW(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n){this.db=e,this.garbageCollector=KW(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return Gd(e,r)}removeReference(e,n,r){return Gd(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Gd(e,n)}Xn(e,n){return function(r,i){let s=!1;return zN(r).Z(o=>BN(r,o,i).next(a=>(a&&(s=!0),T.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,q.min()),_i(e).delete([0,Xt(o.path)])))});i.push(l)}}).next(()=>T.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Gd(e,n)}Yn(e,n){const r=_i(e);let i,s=an.ct;return r.X({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==an.ct&&n(new M(mr(i)),s),s=u,i=l):s=an.ct}).next(()=>{s!==an.ct&&n(new M(mr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gd(t,e){return _i(t).put(function(n,r){return{targetId:0,path:Xt(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.changes=new ps(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return gs(e).put(r)}removeEntry(e,n,r){return gs(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Pf(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=vt.newInvalidDocument(n);return gs(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zl(n))},(i,s)=>{r=this.ts(n,s)}).next(()=>r)}es(e,n){let r={size:0,document:vt.newInvalidDocument(n)};return gs(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zl(n))},(i,s)=>{r={document:this.ts(n,s),size:Af(s)}}).next(()=>r)}getEntries(e,n){let r=un();return this.ns(e,n,(i,s)=>{const o=this.ts(i,s);r=r.insert(i,o)}).next(()=>r)}ss(e,n){let r=un(),i=new Ie(M.comparator);return this.ns(e,n,(s,o)=>{const a=this.ts(s,o);r=r.insert(s,a),i=i.insert(s,Af(o))}).next(()=>({documents:r,rs:i}))}ns(e,n,r){if(n.isEmpty())return T.resolve();let i=new xe(tT);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(zl(i.first()),zl(i.last())),o=i.getIterator();let a=o.getNext();return gs(e).X({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=M.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&tT(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.G(zl(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Pf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gs(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=un();for(const c of l){const d=this.ts(M.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);d.isFoundDocument()&&(rd(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=un();const o=eT(n,r),a=eT(n,Tn.max());return gs(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.ts(M.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new YW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Zb(e).get("remoteDocumentGlobalKey").next(n=>(W(!!n),n))}Zn(e,n){return Zb(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=OW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(q.min())))return r}return vt.newInvalidDocument(e)}}function WN(t){return new QW(t)}class YW extends qN{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new ps(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new xe((s,o)=>Y(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.us.get(s);if(n.push(this.os.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=jb(this.os.serializer,o);i=i.add(s.path.popLast());const u=Af(l);r+=u-a.size,n.push(this.os.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=jb(this.os.serializer,o.convertToNoDocument(q.min()));n.push(this.os.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.os.updateMetadata(e,r)),T.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:i})=>(i.forEach((s,o)=>{this.us.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function Zb(t){return St(t,"remoteDocumentGlobal")}function gs(t){return St(t,"remoteDocumentsV14")}function zl(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eT(t,e){const n=e.documentKey.path.toArray();return[t,Pf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tT(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Y(n[s],r[s]),i)return i;return i=Y(n.length,r.length),i||(i=Y(n[n.length-2],r[r.length-2]),i||Y(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Su(r.mutation,i,ln.empty(),Oe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,X()).next(()=>r))}getLocalViewOfDocuments(e,n,r=X()){const i=gr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=eu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,X()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=un();const o=_u(),a=_u();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof li)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Su(c.mutation,u,c.mutation.getFieldMask(),Oe.now())):o.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new JW(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_u();let i=new Ie((o,a)=>o-a),s=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ln.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||X()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=dN();c.forEach(h=>{if(!s.has(h)){const p=wN(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return T.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return M.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):T.resolve(gr());let a=-1,l=s;return o.next(u=>T.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?T.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,X())).next(c=>({batchId:a,changes:cN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=eu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=eu();return this.indexManager.getCollectionParents(e,i).next(o=>T.forEach(o,a=>{const l=function(u,c){return new ai(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,vt.newInvalidDocument(u)))});let o=eu();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Su(u.mutation,l,ln.empty(),Oe.now()),rd(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return T.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ke(r.createTime)}),T.resolve()}getNamedQuery(e,n){return T.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:EE(r.bundledQuery),readTime:Ke(r.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(){this.overlays=new Ie(M.comparator),this.ls=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gr();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const i=gr(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return T.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ie((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=gr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=gr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return T.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gE(n,r));let s=this.ls.get(n);s===void 0&&(s=X(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.fs=new xe(ft.ds),this.ws=new xe(ft._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ft(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ft(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new ae([])),r=new ft(n,e),i=new ft(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new ae([])),r=new ft(n,e),i=new ft(n,e+1);let s=X();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ft(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||Y(e.As,n.As)}static _s(e,n){return Y(e.As,n.As)||M.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new xe(ft.ds)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new ft(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,n){return T.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return T.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),i=new ft(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(Y);return n.forEach(i=>{const s=new ft(i,0),o=new ft(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),T.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new ft(new M(s),0);let a=new xe(Y);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),T.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){W(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return T.forEach(n.mutations,i=>{const s=new ft(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ft(n,0),i=this.Rs.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.Ds=e,this.docs=new Ie(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=un();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vt.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=un();const o=n.path,a=new M(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||oE(jA(c),r)<=0||(i.has(c.key)||rd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return T.resolve(s)}getAllFromCollectionGroup(e,n,r,i){j()}Cs(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nG(this)}getSize(e){return T.resolve(this.size)}}class nG extends qN{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e){this.persistence=e,this.xs=new ps(n=>ao(n),td),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Ns=0,this.ks=new IE,this.targetCount=0,this.Ms=fo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),T.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.Fn(n),T.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.$s={},this.overlays={},this.Os=new an(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new rG(this),this.indexManager=new VW,this.remoteDocumentCache=function(r){return new tG(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new LN(n),this.qs=new XW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new eG(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){N("MemoryPersistence","Starting transaction:",e);const i=new iG(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return T.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class iG extends BA{constructor(e){super(),this.currentSequenceNumber=e}}class wm{constructor(e){this.persistence=e,this.Qs=new IE,this.js=null}static zs(e){return new wm(e)}get Ws(){if(this.js)return this.js;throw j()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),T.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return T.or([()=>T.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e){this.serializer=e}O(e,n,r,i){const s=new hm("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yb,{unique:!0}),a.createObjectStore("documentMutations")}(e),nT(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=T.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),nT(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:q.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yb,{unique:!0});const c=l.store("mutations"),d=u.map(h=>c.put(h));return T.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Ys(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(o=o.next(()=>this.Zs(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ei(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:B8});l.createIndex("collectionPathOverlayIndex",z8,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",q8,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:A8});l.createIndex("documentKeyIndex",N8),l.createIndex("collectionGroupIndex",O8)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:F8}).createIndex("sequenceNumberIndex",U8,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:j8}).createIndex("documentKeyIndex",V8,{unique:!1})}(e))),o}Xs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=Af(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>T.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>T.forEach(a,l=>{W(l.userId===s.userId);const u=ks(this.serializer,l);return VN(e,s.userId,u).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((o,a)=>{const l=new ae(o),u=function(c){return[0,Xt(c)]}(l);s.push(n.get(u).next(c=>c?T.resolve():(d=>n.put({targetId:0,path:Xt(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>T.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:L8});const r=n.store("collectionParents"),i=new SE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Xt(l)})}};return n.store("remoteDocuments").X({Y:!0},(o,a)=>{const l=new ae(o);return s(l.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([o,a,l],u)=>{const c=mr(a);return s(c.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,i)=>{const s=nu(i),o=FN(this.serializer,s);return n.put(o)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new M(ae.fromString(u.document.name).popFirst(5)):u.noDocument?M.fromSegments(u.noDocument.path):u.unknownDocument?M.fromSegments(u.unknownDocument.path):j()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>T.waitFor(i))}si(e,n){const r=n.store("mutations"),i=WN(this.serializer),s=new KN(wm.zs,this.serializer.fe);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:X();ks(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),T.forEach(a,(l,u)=>{const c=new mt(u),d=ym.de(this.serializer,c),h=s.getIndexManager(c),p=vm.de(c,this.serializer,h,s.referenceDelegate);return new GN(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new h0(n,an.ct),l).next()})})}}function nT(t){t.createObjectStore("targetDocuments",{keyPath:$8}).createIndex("documentTargetsIndex",M8,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",D8,{unique:!0}),t.createObjectStore("targetGlobal")}const iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bE{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=s,this.window=o,this.document=a,this.ri=u,this.oi=c,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!bE.D())throw new R(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HW(this,i),this.di=n+"main",this.serializer=new LN(l),this.wi=new Hn(this.di,this.ui,new sG(this.serializer)),this.Bs=new zW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=WN(this.serializer),this.qs=new DW,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,c===!1&&We("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new R(k.FAILED_PRECONDITION,iy);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new an(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Kd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(fs(e))return N("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return N("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ql(e).get("owner").next(n=>T.resolve(this.Ri(n)))}Pi(e){return Kd(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=St(n,"clientMetadata");return r.j().next(i=>{const s=this.Si(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return T.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?T.resolve(!0):ql(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new R(k.FAILED_PRECONDITION,iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kd(e).j().next(r=>this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&N("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new h0(e,an.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Kd(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return vm.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new BW(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ym.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){N("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.ui)===15?G8:o===14?KA:o===13?GA:o===12?W8:o===11?WA:void j();var o;let a;return this.wi.runTransaction(e,i,s,l=>(a=new h0(l,this.Os?this.Os.next():an.ct),n==="readwrite-primary"?this.Ti(a).next(u=>!!u||this.Ei(a)).next(u=>{if(!u)throw We(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new R(k.FAILED_PRECONDITION,VA);return r(a)}).next(u=>this.vi(a).next(()=>u)):this.Oi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return ql(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new R(k.FAILED_PRECONDITION,iy)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ql(e).put("owner",n)}static D(){return Hn.D()}Ai(e){const n=ql(e);return n.get("owner").next(r=>this.Ri(r)?(N("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):T.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(We(`Detected an update time that is in the future: ${e} > ${r}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;zV()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(e)))!==null;return N("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return We("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){We("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ql(t){return St(t,"owner")}function Kd(t){return St(t,"clientMetadata")}function TE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=X(),i=X();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Pb(n))return T.resolve(null);let r=pn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cf(n,null,"F"),r=pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=X(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Cf(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return Pb(n)||i.isEqual(q.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(c0()<=oe.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),E0(n)),this.Wi(e,o,n,UA(i,-1)))})}ji(e,n){let r=new xe(lN(e));return n.forEach((i,s)=>{rd(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return c0()<=oe.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",E0(n)),this.Ui.getDocumentsMatchingQuery(e,n,Tn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ie(Y),this.Yi=new ps(s=>ao(s),td),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GN(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function QN(t,e,n,r){return new oG(t,e,n,r)}async function YN(t,e){const n=F(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=X();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function aG(t,e){const n=F(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=T.resolve();return d.forEach(p=>{h=h.next(()=>u.getEntry(a,p)).next(f=>{const m=l.docVersions.get(p);W(m!==null),f.version.compareTo(m)<0&&(c.applyToRemoteDocument(f,l),f.isValidDocument()&&(f.setReadTime(l.commitVersion),u.addEntry(f)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=X();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JN(t){const e=F(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function lG(t,e){const n=F(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(ut.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(f,m,E){return f.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,p,c)&&a.push(n.Bs.updateTargetData(s,p))});let l=un(),u=X();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(XN(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(q.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function XN(t,e,n){let r=X(),i=X();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=un();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function uG(t,e){const n=F(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ja(t,e){const n=F(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Va(t,e,n){const r=F(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!fs(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Nf(t,e,n){const r=F(t);let i=q.min(),s=X();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=F(a),d=c.Yi.get(u);return d!==void 0?T.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,pn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:X())).next(a=>(tO(r,aN(e),a),{documents:a,ir:s})))}function ZN(t,e){const n=F(t),r=F(n.Bs),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(o=>o?o.target:null))}function eO(t,e){const n=F(t),r=n.Xi.get(e)||q.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Zi.getAllFromCollectionGroup(i,e,UA(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(tO(n,e,i),i))}function tO(t,e,n){let r=t.Xi.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}async function cG(t,e,n,r){const i=F(t);let s=X(),o=un();for(const u of n){const c=e.rr(u.metadata.name);u.document&&(s=s.add(c));const d=e.ur(u);d.setReadTime(e.cr(u.metadata.readTime)),o=o.insert(c,d)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await ja(i,function(u){return pn(hl(ae.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>XN(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Bs.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Bs.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.nr,c.sr)).next(()=>c.nr)))}async function dG(t,e,n=X()){const r=await ja(t,pn(EE(e.bundledQuery))),i=F(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Ke(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(s,e);const a=r.withResumeToken(ut.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(s,a).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,n,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}function rT(t,e){return`firestore_clients_${t}_${e}`}function iT(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function sy(t,e){return`firestore_targets_${t}_${e}`}class Of{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static ar(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new R(i.error.code,i.error.message))),o?new Of(e,n,i.state,s):(We("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Iu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new R(r.error.code,r.error.message))),s?new Iu(e,r.state,i):(We("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Df{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=hE();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=zA(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Df(e,s):(We("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class kE{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new kE(n.clientId,n.onlineState):(We("SharedClientState",`Failed to parse online state: ${e}`),null)}}class k0{constructor(){this.activeTargetIds=hE()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oy{constructor(e,n,r,i,s){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ie(Y),this.started=!1,this.yr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=rT(this.persistenceKey,this.wr),this.Ir=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new k0),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.wr)continue;const i=this.getItem(rT(this.persistenceKey,r));if(i){const s=Df.ar(r,i);s&&(this.gr=this.gr.insert(s.clientId,s))}}this.Pr();const n=this.storage.getItem(this.vr);if(n){const r=this.br(n);r&&this.Vr(r)}for(const r of this.yr)this.mr(r);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(sy(this.persistenceKey,e));if(r){const i=Iu.ar(e,r);i&&(n=i.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sy(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return N("SharedClientState","READ",e,n),n}setItem(e,n){N("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){N("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const n=e;if(n.storageArea===this.storage){if(N("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void We("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Tr.test(n.key)){if(n.newValue==null){const r=this.Or(n.key);return this.Fr(r,null)}{const r=this.Br(n.key,n.newValue);if(r)return this.Fr(r.clientId,r)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const r=this.Lr(n.key,n.newValue);if(r)return this.qr(r)}}else if(this.Ar.test(n.key)){if(n.newValue!==null){const r=this.Ur(n.key,n.newValue);if(r)return this.Kr(r)}}else if(n.key===this.vr){if(n.newValue!==null){const r=this.br(n.newValue);if(r)return this.Vr(r)}}else if(n.key===this.Ir){const r=function(i){let s=an.ct;if(i!=null)try{const o=JSON.parse(i);W(typeof o=="number"),s=o}catch(o){We("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==an.ct&&this.sequenceNumberHandler(r)}else if(n.key===this.Rr){const r=this.Gr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Qr(i)))}}}else this.yr.push(n)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const i=new Of(this.currentUser,e,n,r),s=iT(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const n=iT(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){const n={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(n))}kr(e,n,r){const i=sy(this.persistenceKey,e),s=new Iu(e,n,r);this.setItem(i,s.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return Df.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Of.ar(new mt(s),i,n)}Ur(e,n){const r=this.Ar.exec(e),i=Number(r[1]);return Iu.ar(i,n)}br(e){return kE.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);N("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Wr(o,a).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=hE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class nO{constructor(){this.Hr=new k0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new k0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd=null;function ay(){return Hd===null?Hd=268435456+Math.round(2147483648*Math.random()):Hd++,"0x"+Hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class mG extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=ay(),a=this.To(e,n);N("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(N("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw er("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+dl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=fG[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=ay();return new Promise((o,a)=>{const l=new d8;l.setWithCredentials(!0),l.listenOnce(l8.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ny.NO_ERROR:const c=l.getResponseJson();N(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case ny.TIMEOUT:N(Ft,`RPC '${e}' ${s} timed out`),a(new R(k.DEADLINE_EXCEEDED,"Request time out"));break;case ny.HTTP_ERROR:const d=l.getStatus();if(N(Ft,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const f=function(m){const E=m.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(E)>=0?E:k.UNKNOWN}(p.status);a(new R(f,p.message))}else a(new R(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new R(k.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{N(Ft,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);N(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=ay(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=o8(),a=a8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new c8({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");N(Ft,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,p=!1;const f=new pG({ro:E=>{p?N(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(N(Ft,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),N(Ft,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},oo:()=>d.close()}),m=(E,y,g)=>{E.listen(y,v=>{try{g(v)}catch(w){setTimeout(()=>{throw w},0)}})};return m(d,Vd.EventType.OPEN,()=>{p||N(Ft,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Vd.EventType.CLOSE,()=>{p||(p=!0,N(Ft,`RPC '${e}' stream ${i} transport closed`),f.wo())}),m(d,Vd.EventType.ERROR,E=>{p||(p=!0,er(Ft,`RPC '${e}' stream ${i} transport errored:`,E),f.wo(new R(k.UNAVAILABLE,"The operation could not be completed")))}),m(d,Vd.EventType.MESSAGE,E=>{var y;if(!p){const g=E.data[0];W(!!g);const v=g,w=v.error||((y=v[0])===null||y===void 0?void 0:y.error);if(w){N(Ft,`RPC '${e}' stream ${i} received error:`,w);const S=w.status;let I=function(P){const V=Ye[P];if(V!==void 0)return SN(V)}(S),b=w.message;I===void 0&&(I=k.INTERNAL,b="Unknown error status: "+S+" with message "+w.message),p=!0,f.wo(new R(I,b)),d.close()}else N(Ft,`RPC '${e}' stream ${i} received:`,g),f._o(g)}}),m(a,u8.STAT_EVENT,E=>{E.stat===fb.PROXY?N(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===fb.NOPROXY&&N(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.fo()},0),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){return typeof window<"u"?window:null}function kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){return new IW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new CE(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(We(n.toString()),We("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new R(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gG extends iO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=xW(this.serializer,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?Ke(s.readTime):q.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=wc(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=xf(a)?{documents:AN(i,a)}:{query:NN(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=xN(i,s.resumeToken);const l=_0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(q.min())>0){o.readTime=Ua(i,s.snapshotVersion.toTimestamp());const l=_0(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=CW(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=wc(this.serializer),n.removeTarget=e,this.Wo(n)}}class yG extends iO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(W(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=kW(e.writeResults,e.commitTime),r=Ke(e.commitTime);return this.listener.cu(r,n)}return W(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=wc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ec(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new R(k.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new R(k.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new R(k.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class wG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(We(n),this.mu=!1):N("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{ms(this)&&(N("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=F(a);l.vu.add(4),await ml(l),l.bu.set("Unknown"),l.vu.delete(4),await ld(l)}(this))})}),this.bu=new wG(r,i)}}async function ld(t){if(ms(t))for(const e of t.Ru)await e(!0)}async function ml(t){for(const e of t.Ru)await e(!1)}function Em(t,e){const n=F(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),AE(n)?RE(n):yl(n).Ko()&&PE(n,e))}function _c(t,e){const n=F(t),r=yl(n);n.Au.delete(e),r.Ko()&&sO(n,e),n.Au.size===0&&(r.Ko()?r.jo():ms(n)&&n.bu.set("Unknown"))}function PE(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).su(e)}function sO(t,e){t.Vu.qt(e),yl(t).iu(e)}function RE(t){t.Vu=new wW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.bu.gu()}function AE(t){return ms(t)&&!yl(t).Uo()&&t.Au.size>0}function ms(t){return F(t).vu.size===0}function oO(t){t.Vu=void 0}async function _G(t){t.Au.forEach((e,n)=>{PE(t,e)})}async function SG(t,e){oO(t),AE(t)?(t.bu.Iu(e),RE(t)):t.bu.set("Unknown")}async function IG(t,e,n){if(t.bu.set("Online"),e instanceof TN&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $f(t,r)}else if(e instanceof xh?t.Vu.Ht(e):e instanceof bN?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(q.min()))try{const r=await JN(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(ut.EMPTY_BYTE_STRING,u.snapshotVersion)),sO(i,a);const c=new Vr(u.target,a,l,u.sequenceNumber);PE(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){N("RemoteStore","Failed to raise snapshot:",r),await $f(t,r)}}async function $f(t,e,n){if(!fs(e))throw e;t.vu.add(1),await ml(t),t.bu.set("Offline"),n||(n=()=>JN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{N("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await ld(t)})}function aO(t,e){return e().catch(n=>$f(t,n,e))}async function gl(t){const e=F(t),n=Zi(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;bG(e);)try{const i=await uG(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,TG(e,i)}catch(i){await $f(e,i)}lO(e)&&uO(e)}function bG(t){return ms(t)&&t.Eu.length<10}function TG(t,e){t.Eu.push(e);const n=Zi(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function lO(t){return ms(t)&&!Zi(t).Uo()&&t.Eu.length>0}function uO(t){Zi(t).start()}async function xG(t){Zi(t).hu()}async function kG(t){const e=Zi(t);for(const n of t.Eu)e.uu(n.mutations)}async function CG(t,e,n){const r=t.Eu.shift(),i=mE.from(r,e,n);await aO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gl(t)}async function PG(t,e){e&&Zi(t).ou&&await async function(n,r){if(i=r.code,_N(i)&&i!==k.ABORTED){const s=n.Eu.shift();Zi(n).Qo(),await aO(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await gl(n)}var i}(t,e),lO(t)&&uO(t)}async function oT(t,e){const n=F(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=ms(n);n.vu.add(3),await ml(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await ld(n)}async function C0(t,e){const n=F(t);e?(n.vu.delete(2),await ld(n)):e||(n.vu.add(2),await ml(n),n.bu.set("Unknown"))}function yl(t){return t.Su||(t.Su=function(e,n,r){const i=F(e);return i.fu(),new gG(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:_G.bind(null,t),ao:SG.bind(null,t),nu:IG.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),AE(t)?RE(t):t.bu.set("Unknown")):(await t.Su.stop(),oO(t))})),t.Su}function Zi(t){return t.Du||(t.Du=function(e,n,r){const i=F(e);return i.fu(),new yG(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:xG.bind(null,t),ao:PG.bind(null,t),au:kG.bind(null,t),cu:CG.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await gl(t)):(await t.Du.stop(),t.Eu.length>0&&(N("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new NE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new R(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vl(t,e){if(We("AsyncQueue",`${e}: ${t}`),fs(t))return new R(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=eu(),this.sortedSet=new Ie(this.comparator)}static emptySet(e){return new va(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.Cu=new Ie(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):j():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ba{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ba(e,n,va.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(){this.Nu=void 0,this.listeners=[]}}class AG{constructor(){this.queries=new ps(e=>oN(e),nd),this.onlineState="Unknown",this.ku=new Set}}async function OE(t,e){const n=F(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new RG),i)try{s.Nu=await n.onListen(r)}catch(o){const a=vl(o,`Initialization of query '${E0(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&$E(n)}async function DE(t,e){const n=F(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function NG(t,e){const n=F(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&$E(n)}function OG(t,e,n){const r=F(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function $E(t){t.ku.forEach(e=>{e.next()})}class ME{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.serializer=e}rr(e){return _r(this.serializer,e)}ur(e){return e.metadata.exists?RN(this.serializer,e.document,!1):vt.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ke(e)}}class $G{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cO(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=ae.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new lT(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||X()).add(s);n.set(o,a)}}return n}async complete(){const e=await cG(this.localStore,new lT(this.serializer),this.documents,this.ju.id),n=this.Wu(this.documents);for(const r of this.queries)await dG(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function cO(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.key=e}}class hO{constructor(e){this.key=e}}class fO{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=X(),this.mutatedKeys=X(),this.tc=lN(e),this.ec=new va(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new aT,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=rd(this.query,d)?d:null,f=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;h&&p?h.data.isEqual(p.data)?f!==m&&(r.track({type:3,doc:p}),E=!0):this.rc(h,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.tc(p,l)>0||u&&this.tc(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),E=!0):h&&!p&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(p?(o=o.add(p),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,h){const p=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return p(d)-p(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Ba(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new aT,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=X(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new hO(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new dO(r))}),n}hc(e){this.Yu=e.ir,this.Zu=X();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ba.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class MG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LG{constructor(e){this.key=e,this.fc=!1}}class FG{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ps(a=>oN(a),nd),this._c=new Map,this.mc=new Set,this.gc=new Ie(M.comparator),this.yc=new Map,this.Ic=new IE,this.Tc={},this.Ec=new Map,this.Ac=fo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function UG(t,e){const n=VE(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await ja(n.localStore,pn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await LE(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Em(n.remoteStore,o)}return i}async function LE(t,e,n,r,i){t.Rc=(d,h,p)=>async function(f,m,E,y){let g=m.view.sc(E);g.zi&&(g=await Nf(f.localStore,m.query,!1).then(({documents:S})=>m.view.sc(S,g)));const v=y&&y.targetChanges.get(m.targetId),w=m.view.applyChanges(g,f.isPrimaryClient,v);return P0(f,m.targetId,w.cc),w.snapshot}(t,d,h,p);const s=await Nf(t.localStore,e,!0),o=new fO(e,s.ir),a=o.sc(s.documents),l=od.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);P0(t,n,u.cc);const c=new MG(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function jG(t,e){const n=F(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!nd(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Va(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_c(n.remoteStore,r.targetId),za(n,r.targetId)}).catch(hs)):(za(n,r.targetId),await Va(n.localStore,r.targetId,!0))}async function VG(t,e,n){const r=BE(t);try{const i=await function(s,o){const a=F(s),l=Oe.now(),u=o.reduce((h,p)=>h.add(p.key),X());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=un(),f=X();return a.Zi.getEntries(h,u).next(m=>{p=m,p.forEach((E,y)=>{y.isValidDocument()||(f=f.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(m=>{c=m;const E=[];for(const y of o){const g=gW(y,c.get(y.key).overlayedDocument);g!=null&&E.push(new li(y.key,g,JA(g.value.mapValue),Ne.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,E,o)}).next(m=>{d=m;const E=m.applyToLocalDocumentSet(c,f);return a.documentOverlayCache.saveOverlays(h,m.batchId,E)})}).then(()=>({batchId:d.batchId,changes:cN(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Ie(Y)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await ui(r,i.changes),await gl(r.remoteStore)}catch(i){const s=vl(i,"Failed to persist write");n.reject(s)}}async function pO(t,e){const n=F(t);try{const r=await lG(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(W(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?W(o.fc):i.removedDocuments.size>0&&(W(o.fc),o.fc=!1))}),await ui(n,r,e)}catch(r){await hs(r)}}function uT(t,e,n){const r=F(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=F(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&$E(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BG(t,e,n){const r=F(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ie(M.comparator);o=o.insert(s,vt.newNoDocument(s,q.min()));const a=X().add(s),l=new sd(q.min(),new Map,new Ie(Y),o,a);await pO(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),jE(r)}else await Va(r.localStore,e,!1).then(()=>za(r,e,n)).catch(hs)}async function zG(t,e){const n=F(t),r=e.batch.batchId;try{const i=await aG(n.localStore,e);UE(n,r,null),FE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ui(n,i)}catch(i){await hs(i)}}async function qG(t,e,n){const r=F(t);try{const i=await function(s,o){const a=F(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(W(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);UE(r,e,n),FE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ui(r,i)}catch(i){await hs(i)}}async function WG(t,e){const n=F(t);ms(n.remoteStore)||N("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=F(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ec.get(r)||[];i.push(e),n.Ec.set(r,i)}catch(r){const i=vl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function FE(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function UE(t,e,n){const r=F(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function za(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||mO(t,r)})}function mO(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(_c(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),jE(t))}function P0(t,e,n){for(const r of n)r instanceof dO?(t.Ic.addReference(r.key,e),GG(t,r)):r instanceof hO?(N("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||mO(t,r.key)):j()}function GG(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(N("SyncEngine","New document in limbo: "+n),t.mc.add(r),jE(t))}function jE(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(ae.fromString(e)),r=t.Ac.next();t.yc.set(r,new LG(n)),t.gc=t.gc.insert(n,r),Em(t.remoteStore,new Vr(pn(hl(n.path)),r,"TargetPurposeLimboResolution",an.ct))}}async function ui(t,e,n){const r=F(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=xE.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=F(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>T.forEach(l,d=>T.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>T.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!fs(c))throw c;N("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),p=h.snapshotVersion,f=h.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(d,f)}}}(r.localStore,s))}async function KG(t,e){const n=F(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=await YN(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new R(k.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ui(n,r.er)}}function HG(t,e){const n=F(t),r=n.yc.get(e);if(r&&r.fc)return X().add(r.key);{let i=X();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}async function QG(t,e){const n=F(t),r=await Nf(n.localStore,e.query,!0),i=e.view.hc(r);return n.isPrimaryClient&&P0(n,e.targetId,i.cc),i}async function YG(t,e){const n=F(t);return eO(n.localStore,e).then(r=>ui(n,r))}async function JG(t,e,n,r){const i=F(t),s=await function(o,a){const l=F(o),u=F(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.Sn(c,a).next(d=>d?l.localDocuments.getDocuments(c,d):T.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await gl(i.remoteStore):n==="acknowledged"||n==="rejected"?(UE(i,e,r||null),FE(i,e),function(o,a){F(F(o).mutationQueue).Cn(a)}(i.localStore,e)):j(),await ui(i,s)):N("SyncEngine","Cannot apply mutation batch with id: "+e)}async function XG(t,e){const n=F(t);if(VE(n),BE(n),e===!0&&n.vc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await cT(n,r.toArray());n.vc=!0,await C0(n.remoteStore,!0);for(const s of i)Em(n.remoteStore,s)}else if(e===!1&&n.vc!==!1){const r=[];let i=Promise.resolve();n._c.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(za(n,o),Va(n.localStore,o,!0))),_c(n.remoteStore,o)}),await i,await cT(n,r),function(s){const o=F(s);o.yc.forEach((a,l)=>{_c(o.remoteStore,l)}),o.Ic.Ts(),o.yc=new Map,o.gc=new Ie(M.comparator)}(n),n.vc=!1,await C0(n.remoteStore,!1)}}async function cT(t,e,n){const r=F(t),i=[],s=[];for(const o of e){let a;const l=r._c.get(o);if(l&&l.length!==0){a=await ja(r.localStore,pn(l[0]));for(const u of l){const c=r.wc.get(u),d=await QG(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await ZN(r.localStore,o);a=await ja(r.localStore,u),await LE(r,gO(u),o,!1,a.resumeToken)}i.push(a)}return r.dc.nu(s),i}function gO(t){return sN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ZG(t){const e=F(t);return F(F(e.localStore).persistence).$i()}async function eK(t,e,n,r){const i=F(t);if(i.vc)return void N("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await eO(i.localStore,aN(s[0])),a=sd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",ut.EMPTY_BYTE_STRING);await ui(i,o,a);break}case"rejected":await Va(i.localStore,e,!0),za(i,e,r);break;default:j()}}async function tK(t,e,n){const r=VE(t);if(r.vc){for(const i of e){if(r._c.has(i)){N("SyncEngine","Adding an already active target "+i);continue}const s=await ZN(r.localStore,i),o=await ja(r.localStore,s);await LE(r,gO(s),o.targetId,!1,o.resumeToken),Em(r.remoteStore,o)}for(const i of n)r._c.has(i)&&await Va(r.localStore,i,!1).then(()=>{_c(r.remoteStore,i),za(r,i)}).catch(hs)}}function VE(t){const e=F(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BG.bind(null,e),e.dc.nu=NG.bind(null,e.eventManager),e.dc.Pc=OG.bind(null,e.eventManager),e}function BE(t){const e=F(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qG.bind(null,e),e}function nK(t,e,n){const r=F(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,h){const p=F(d),f=Ke(h.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",m=>p.qs.getBundleMetadata(m,h.id)).then(m=>!!m&&m.createTime.compareTo(f)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(cO(a));const l=new $G(a,i.localStore,s.serializer);let u=await s.bc();for(;u;){const d=await l.zu(u);d&&o._updateProgress(d),u=await s.bc()}const c=await l.complete();return await ui(i,c.Ju,void 0),await function(d,h){const p=F(d);return p.persistence.runTransaction("Save bundle","readwrite",f=>p.qs.saveBundleMetadata(f,h))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Hu)}catch(a){return er("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class R0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ad(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return QN(this.persistence,new HN,e.initialUser,this.serializer)}createPersistence(e){return new KN(wm.zs,this.serializer)}createSharedClientState(e){return new nO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class yO extends R0{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await BE(this.Vc.syncEngine),await gl(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return QN(this.persistence,new HN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new WW(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new C8(n,this.persistence);return new k8(e.asyncQueue,r)}createPersistence(e){const n=TE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new bE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,rO(),kh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new nO}}class rK extends yO{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Vc.syncEngine;this.sharedClientState instanceof oy&&(this.sharedClientState.syncEngine={jr:JG.bind(null,n),zr:eK.bind(null,n),Wr:tK.bind(null,n),$i:ZG.bind(null,n),Qr:YG.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ii(async r=>{await XG(this.Vc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=rO();if(!oy.D(n))throw new R(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=TE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class zE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KG.bind(null,this.syncEngine),await C0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new AG}createDatastore(e){const n=ad(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new mG(i));var i;return function(s,o,a,l){return new vG(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>uT(this.syncEngine,a,0),o=sT.D()?new sT:new hG,new EG(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new FG(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=F(e);N("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ml(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):We("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new yt,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const n=this.xc.decode(e),r=Number(n);isNaN(r)&&this.Mc(`length string (${n}) is not valid number`);const i=await this.$c(r);return new DG(JSON.parse(i),e.length+r)}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const n=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new R(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=F(r),o=wc(s.serializer)+"/documents",a={documents:i.map(d=>vc(s.serializer,d))},l=await s.vo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(d=>{const h=TW(s.serializer,d);u.set(h.key.toString(),h)});const c=[];return i.forEach(d=>{const h=u.get(d.toString());W(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new pl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=M.fromPath(r);this.mutations.push(new fE(i,this.precondition(i)))}),await async function(n,r){const i=F(n),s=wc(i.serializer)+"/documents",o={writes:r.map(a=>Ec(i.serializer,a))};await i.Io("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw j();n=q.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new R(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(q.min())?Ne.exists(!1):Ne.updateTime(n):Ne.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(q.min()))throw new R(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ne.updateTime(n)}return Ne.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new CE(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new sK(this.datastore),n=this.qc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Uc(i)}))}).catch(r=>{this.Uc(r)})})}qc(e){try{const n=this.updateFunction(e);return!ed(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!_N(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=MA.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{N("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(N("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ch(t,e){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function A0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qE(t);N("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>oT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>oT(e.remoteStore,s)),t._onlineComponents=e}function vO(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){N("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ch(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!vO(n))throw n;er("Error using user provided cache. Falling back to memory cache: "+n),await Ch(t,new R0)}}else N("FirestoreClient","Using default OfflineComponentProvider"),await Ch(t,new R0);return t._offlineComponents}async function Sm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(N("FirestoreClient","Using user provided OnlineComponentProvider"),await A0(t,t._uninitializedComponentsProvider._online)):(N("FirestoreClient","Using default OnlineComponentProvider"),await A0(t,new zE))),t._onlineComponents}function wO(t){return qE(t).then(e=>e.persistence)}function WE(t){return qE(t).then(e=>e.localStore)}function EO(t){return Sm(t).then(e=>e.remoteStore)}function GE(t){return Sm(t).then(e=>e.syncEngine)}function lK(t){return Sm(t).then(e=>e.datastore)}async function qa(t){const e=await Sm(t),n=e.eventManager;return n.onListen=UG.bind(null,e.syncEngine),n.onUnlisten=jG.bind(null,e.syncEngine),n}function uK(t){return t.asyncQueue.enqueue(async()=>{const e=await wO(t),n=await EO(t);return e.setNetworkEnabled(!0),function(r){const i=F(r);return i.vu.delete(0),ld(i)}(n)})}function cK(t){return t.asyncQueue.enqueue(async()=>{const e=await wO(t),n=await EO(t);return e.setNetworkEnabled(!1),async function(r){const i=F(r);i.vu.add(0),await ml(i),i.bu.set("Offline")}(n)})}function dK(t,e){const n=new yt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=F(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new R(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=vl(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await WE(t),e,n)),n.promise}function _O(t,e,n={}){const r=new yt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new _m({next:d=>{s.enqueueAndForget(()=>DE(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new R(k.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new R(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new ME(hl(o.path),u,{includeMetadataChanges:!0,Ku:!0});return OE(i,c)}(await qa(t),t.asyncQueue,e,n,r)),r.promise}function hK(t,e){const n=new yt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await Nf(r,i,!0),a=new fO(i,o.ir),l=a.sc(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=vl(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await WE(t),e,n)),n.promise}function SO(t,e,n={}){const r=new yt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new _m({next:d=>{s.enqueueAndForget(()=>DE(i,c)),d.fromCache&&a.source==="server"?l.reject(new R(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new ME(o,u,{includeMetadataChanges:!0,Ku:!0});return OE(i,c)}(await qa(t),t.asyncQueue,e,n,r)),r.promise}function fK(t,e){const n=new _m(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){F(r).ku.add(i),i.next()}(await qa(t),n)),()=>{n.Dc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){F(r).ku.delete(i)}(await qa(t),n))}}function pK(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?IN().encode(s):s,function(l,u){return new iK(l,u)}(function(l,u){if(l instanceof Uint8Array)return dT(l,u);if(l instanceof ArrayBuffer)return dT(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,ad(e));t.asyncQueue.enqueueAndForget(async()=>{nK(await GE(t),i,r)})}function mK(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=F(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(await WE(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e,n){if(!n)throw new R(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bO(t,e,n,r){if(e===!0&&r===!0)throw new R(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fT(t){if(!M.isDocumentKey(t))throw new R(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pT(t){if(M.isDocumentKey(t))throw new R(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":j()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new R(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Im(t);throw new R(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function TO(t,e){if(e<=0)throw new R(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new R(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new R(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new R(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new R(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new R(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class ud{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new R(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new m8;switch(n.type){case"firstParty":return new w8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new R(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=hT.get(e);n&&(N("ComponentProvider","Removing Datastore"),hT.delete(e),n.terminate())}(this),Promise.resolve()}}function gK(t,e,n,r={}){var i;const s=(t=ce(t,ud))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&er("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=mt.MOCK_USER;else{o=jV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new R(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new mt(l)}t._authCredentials=new g8(new $A(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ke(this.firestore,e,this._key)}}class Dt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dt(this.firestore,e,this._query)}}class Sr extends Dt{constructor(e,n,r){super(e,n,hl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ke(this.firestore,null,new M(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function xO(t,e,...n){if(t=K(t),KE("collection","path",e),t instanceof ud){const r=ae.fromString(e,...n);return pT(r),new Sr(t,null,r)}{if(!(t instanceof ke||t instanceof Sr))throw new R(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ae.fromString(e,...n));return pT(r),new Sr(t.firestore,null,r)}}function yK(t,e){if(t=ce(t,ud),KE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new R(k.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Dt(t,null,function(n){return new ai(ae.emptyPath(),n)}(e))}function Mf(t,e,...n){if(t=K(t),arguments.length===1&&(e=MA.A()),KE("doc","path",e),t instanceof ud){const r=ae.fromString(e,...n);return fT(r),new ke(t,null,new M(r))}{if(!(t instanceof ke||t instanceof Sr))throw new R(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ae.fromString(e,...n));return fT(r),new ke(t.firestore,t instanceof Sr?t.converter:null,new M(r))}}function kO(t,e){return t=K(t),e=K(e),(t instanceof ke||t instanceof Sr)&&(e instanceof ke||e instanceof Sr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function CO(t,e){return t=K(t),e=K(e),t instanceof Dt&&e instanceof Dt&&t.firestore===e.firestore&&nd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new CE(this,"async_queue_retry"),this.Xc=()=>{const n=kh();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=kh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=kh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new yt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!fs(e))throw e;N("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw We("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=NE.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&j()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function N0(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class wK{constructor(){this._progressObserver={},this._taskCompletionResolver=new yt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EK=-1;class ze extends ud{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vK,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||PO(this),this._firestoreClient.terminate()}}function It(t){return t._firestoreClient||PO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function PO(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new Q8(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,IO(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new aK(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function _K(t,e){AO(t=ce(t,ze));const n=It(t);if(n._uninitializedComponentsProvider)throw new R(k.FAILED_PRECONDITION,"SDK cache is already specified.");er("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new zE;return RO(n,i,new yO(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function SK(t){AO(t=ce(t,ze));const e=It(t);if(e._uninitializedComponentsProvider)throw new R(k.FAILED_PRECONDITION,"SDK cache is already specified.");er("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new zE;return RO(e,r,new rK(r,n.cacheSizeBytes))}function RO(t,e,n){const r=new yt;return t.asyncQueue.enqueue(async()=>{try{await Ch(t,n),await A0(t,e),r.resolve()}catch(i){const s=i;if(!vO(s))throw s;er("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function IK(t){if(t._initialized&&!t._terminated)throw new R(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!Hn.D())return Promise.resolve();const r=n+"main";await Hn.delete(r)}(TE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function bK(t){return function(e){const n=new yt;return e.asyncQueue.enqueueAndForget(async()=>WG(await GE(e),n)),n.promise}(It(t=ce(t,ze)))}function TK(t){return uK(It(t=ce(t,ze)))}function xK(t){return cK(It(t=ce(t,ze)))}function kK(t,e){const n=It(t=ce(t,ze)),r=new wK;return pK(n,t._databaseId,e,r),r}function CK(t,e){return mK(It(t=ce(t,ze)),e).then(n=>n?new Dt(t,null,n.query):null)}function AO(t){if(t._initialized||t._terminated)throw new R(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kr(ut.fromBase64String(e))}catch(n){throw new R(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kr(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new R(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new R(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new R(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK=/^__.*__$/;class RK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new fl(e,this.data,n,this.fieldTransforms)}}class NO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class Tm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Lf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(OO(this.ca)&&PK.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class AK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ad(e)}ya(e,n,r,i=!1){return new Tm({ca:e,methodName:n,ga:r,path:Ge.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Io(t){const e=t._freezeSettings(),n=ad(t._databaseId);return new AK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xm(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);JE("Data must be an object, but it was:",o,r);const a=MO(r,o);let l,u;if(s.merge)l=new ln(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=O0(e,d,n);if(!o.contains(h))throw new R(k.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);FO(c,h)||c.push(h)}l=new ln(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new RK(new sn(a),l,u)}class cd extends So{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}function DO(t,e,n){return new Tm({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class HE extends So{_toFieldTransform(e){return new id(e.path,new La)}isEqual(e){return e instanceof HE}}class NK extends So{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=DO(this,e,!0),r=this.pa.map(s=>bo(s,n)),i=new lo(r);return new id(e.path,i)}isEqual(e){return this===e}}class OK extends So{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=DO(this,e,!0),r=this.pa.map(s=>bo(s,n)),i=new uo(r);return new id(e.path,i)}isEqual(e){return this===e}}class DK extends So{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Fa(e.serializer,pN(e.serializer,this.Ia));return new id(e.path,n)}isEqual(e){return this===e}}function QE(t,e,n,r){const i=t.ya(1,e,n);JE("Data must be an object, but it was:",i,r);const s=[],o=sn.empty();_o(r,(l,u)=>{const c=XE(e,l,n);u=K(u);const d=i.da(c);if(u instanceof cd)s.push(c);else{const h=bo(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new ln(s);return new NO(o,a,i.fieldTransforms)}function YE(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[O0(e,r,n)],l=[i];if(s.length%2!=0)throw new R(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(O0(e,s[h])),l.push(s[h+1]);const u=[],c=sn.empty();for(let h=a.length-1;h>=0;--h)if(!FO(u,a[h])){const p=a[h];let f=l[h];f=K(f);const m=o.da(p);if(f instanceof cd)u.push(p);else{const E=bo(f,m);E!=null&&(u.push(p),c.set(p,E))}}const d=new ln(u);return new NO(c,d,o.fieldTransforms)}function $O(t,e,n,r=!1){return bo(n,t.ya(r?4:3,e))}function bo(t,e){if(LO(t=K(t)))return JE("Unsupported field value:",e,t),MO(t,e);if(t instanceof So)return function(n,r){if(!OO(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=bo(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=K(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return pN(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Oe.fromDate(n);return{timestampValue:Ua(r.serializer,i)}}if(n instanceof Oe){const i=new Oe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ua(r.serializer,i)}}if(n instanceof bm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof kr)return{bytesValue:xN(r.serializer,n._byteString)};if(n instanceof ke){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wE(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Im(n)}`)}(t,e)}function MO(t,e){const n={};return HA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,i)=>{const s=bo(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function LO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof bm||t instanceof kr||t instanceof ke||t instanceof So)}function JE(t,e,n){if(!LO(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Im(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function O0(t,e,n){if((e=K(e))instanceof es)return e._internalPath;if(typeof e=="string")return XE(t,e);throw Lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const $K=new RegExp("[~\\*/\\[\\]]");function XE(t,e,n){if(e.search($K)>=0)throw Lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new es(...e.split("."))._internalPath}catch{throw Lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new R(k.INVALID_ARGUMENT,a+t+l)}function FO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(km("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MK extends Sc{data(){return super.data()}}function km(t,e){return typeof e=="string"?XE(t,e):e instanceof es?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new R(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZE{}class dd extends ZE{}function gi(t,e,...n){let r=[];e instanceof ZE&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof e_).length,o=i.filter(a=>a instanceof Cm).length;if(s>1||s>0&&o>0)throw new R(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cm extends dd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cm(e,n,r)}_apply(e){const n=this._parse(e);return VO(e._query,n),new Dt(e.firestore,e.converter,w0(e._query,n))}_parse(e){const n=Io(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new R(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){yT(c,u);const h=[];for(const p of c)h.push(gT(a,i,p));d={arrayValue:{values:h}}}else d=gT(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||yT(c,u),d=$O(o,s,c,u==="in"||u==="not-in");return re.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function LK(t,e,n){const r=e,i=km("where",t);return Cm._create(i,r,n)}class e_ extends ZE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new e_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ge.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)VO(s,a),s=w0(s,a)}(e._query,n),new Dt(e.firestore,e.converter,w0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t_ extends dd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t_(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new R(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new R(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ya(i,s);return function(a,l){if(cE(a)===null){const u=pm(a);u!==null&&BO(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Dt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new ai(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function FK(t,e="asc"){const n=e,r=km("orderBy",t);return t_._create(r,n)}class Pm extends dd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Pm(e,n,r)}_apply(e){return new Dt(e.firestore,e.converter,Cf(e._query,this._limit,this._limitType))}}function UK(t){return TO("limit",t),Pm._create("limit",t,"F")}function jK(t){return TO("limitToLast",t),Pm._create("limitToLast",t,"L")}class Rm extends dd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Rm(e,n,r)}_apply(e){const n=jO(e,this.type,this._docOrFields,this._inclusive);return new Dt(e.firestore,e.converter,function(r,i){return new ai(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function VK(...t){return Rm._create("startAt",t,!0)}function BK(...t){return Rm._create("startAfter",t,!1)}class Am extends dd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Am(e,n,r)}_apply(e){const n=jO(e,this.type,this._docOrFields,this._inclusive);return new Dt(e.firestore,e.converter,function(r,i){return new ai(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function zK(...t){return Am._create("endBefore",t,!1)}function qK(...t){return Am._create("endAt",t,!0)}function jO(t,e,n,r){if(n[0]=K(n[0]),n[0]instanceof Sc)return function(i,s,o,a,l){if(!a)throw new R(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Hs(i))if(c.field.isKeyField())u.push(oo(s,a.key));else{const d=a.data.field(c.field);if(fm(d))throw new R(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=c.field.canonicalString();throw new R(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new Xi(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Io(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new R(k.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let p=0;p<u.length;p++){const f=u[p];if(d[p].field.isKeyField()){if(typeof f!="string")throw new R(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof f}`);if(!dE(s)&&f.indexOf("/")!==-1)throw new R(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${f}' contains a slash.`);const m=s.path.child(ae.fromString(f));if(!M.isDocumentKey(m))throw new R(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const E=new M(m);h.push(oo(o,E))}else{const m=$O(a,l,f);h.push(m)}}return new Xi(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function gT(t,e,n){if(typeof(n=K(n))=="string"){if(n==="")throw new R(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dE(e)&&n.indexOf("/")!==-1)throw new R(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ae.fromString(n));if(!M.isDocumentKey(r))throw new R(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oo(t,new M(r))}if(n instanceof ke)return oo(t,n._key);throw new R(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Im(n)}.`)}function yT(t,e){if(!Array.isArray(t)||t.length===0)throw new R(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VO(t,e){if(e.isInequality()){const r=pm(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new R(k.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=cE(t);s!==null&&BO(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new R(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new R(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function BO(t,e,n){if(!n.isEqual(e))throw new R(k.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class n_{convertValue(e,n="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _o(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new bm(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ae.fromString(e);W(MN(r));const i=new Yi(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||We(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class WK extends n_{constructor(e){super(),this.firestore=e}convertBytes(e){return new kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ti extends Sc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(km("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bu extends ti{data(e={}){return super.data(e)}}class ts{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Us(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bu(this._firestore,this._userDataWriter,r.key,r,new Us(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new R(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new bu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Us(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new bu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Us(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:GK(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}function zO(t,e){return t instanceof ti&&e instanceof ti?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ts&&e instanceof ts&&t._firestore===e._firestore&&CO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){t=ce(t,ke);const e=ce(t.firestore,ze);return _O(It(e),t._key).then(n=>r_(e,t,n))}class To extends n_{constructor(e){super(),this.firestore=e}convertBytes(e){return new kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function HK(t){t=ce(t,ke);const e=ce(t.firestore,ze),n=It(e),r=new To(e);return dK(n,t._key).then(i=>new ti(e,r,t._key,i,new Us(i!==null&&i.hasLocalMutations,!0),t.converter))}function QK(t){t=ce(t,ke);const e=ce(t.firestore,ze);return _O(It(e),t._key,{source:"server"}).then(n=>r_(e,t,n))}function YK(t){t=ce(t,Dt);const e=ce(t.firestore,ze),n=It(e),r=new To(e);return UO(t._query),SO(n,t._query).then(i=>new ts(e,r,t,i))}function JK(t){t=ce(t,Dt);const e=ce(t.firestore,ze),n=It(e),r=new To(e);return hK(n,t._query).then(i=>new ts(e,r,t,i))}function XK(t){t=ce(t,Dt);const e=ce(t.firestore,ze),n=It(e),r=new To(e);return SO(n,t._query,{source:"server"}).then(i=>new ts(e,r,t,i))}function vT(t,e,n){t=ce(t,ke);const r=ce(t.firestore,ze),i=Nm(t.converter,e,n);return hd(r,[xm(Io(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ne.none())])}function wT(t,e,n,...r){t=ce(t,ke);const i=ce(t.firestore,ze),s=Io(i);let o;return o=typeof(e=K(e))=="string"||e instanceof es?YE(s,"updateDoc",t._key,e,n,r):QE(s,"updateDoc",t._key,e),hd(i,[o.toMutation(t._key,Ne.exists(!0))])}function ZK(t){return hd(ce(t.firestore,ze),[new pl(t._key,Ne.none())])}function eH(t,e){const n=ce(t.firestore,ze),r=Mf(t),i=Nm(t.converter,e);return hd(n,[xm(Io(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ne.exists(!1))]).then(()=>r)}function qO(t,...e){var n,r,i;t=K(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||N0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(N0(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof ke)u=ce(t.firestore,ze),c=hl(t._key.path),l={next:d=>{e[o]&&e[o](r_(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ce(t,Dt);u=ce(d.firestore,ze),c=d._query;const h=new To(u);l={next:p=>{e[o]&&e[o](new ts(u,h,d,p))},error:e[o+1],complete:e[o+2]},UO(t._query)}return function(d,h,p,f){const m=new _m(f),E=new ME(h,m,p);return d.asyncQueue.enqueueAndForget(async()=>OE(await qa(d),E)),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(async()=>DE(await qa(d),E))}}(It(u),c,a,l)}function tH(t,e){return fK(It(t=ce(t,ze)),N0(e)?e:{next:e})}function hd(t,e){return function(n,r){const i=new yt;return n.asyncQueue.enqueueAndForget(async()=>VG(await GE(n),r,i)),i.promise}(It(t),e)}function r_(t,e,n){const r=n.docs.get(e._key),i=new To(t);return new ti(t,i,e._key,r,new Us(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Io(e)}set(e,n,r){this._verifyNotCommitted();const i=Si(e,this._firestore),s=Nm(i.converter,n,r),o=xm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ne.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Si(e,this._firestore);let o;return o=typeof(n=K(n))=="string"||n instanceof es?YE(this._dataReader,"WriteBatch.update",s._key,n,r,i):QE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ne.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Si(e,this._firestore);return this._mutations=this._mutations.concat(new pl(n._key,Ne.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new R(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Si(t,e){if((t=K(t)).firestore!==e)throw new R(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Io(e)}get(e){const n=Si(e,this._firestore),r=new WK(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return j();const s=i[0];if(s.isFoundDocument())return new Sc(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Sc(this._firestore,r,n._key,null,n.converter);throw j()})}set(e,n,r){const i=Si(e,this._firestore),s=Nm(i.converter,n,r),o=xm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Si(e,this._firestore);let o;return o=typeof(n=K(n))=="string"||n instanceof es?YE(this._dataReader,"Transaction.update",s._key,n,r,i):QE(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Si(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Si(e,this._firestore),r=new To(this._firestore);return super.get(e).then(i=>new ti(this._firestore,r,n._key,i._document,new Us(!1,!1),n.converter))}}function sH(t,e,n){t=ce(t,ze);const r=Object.assign(Object.assign({},nH),n);return function(i){if(i.maxAttempts<1)throw new R(k.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new yt;return i.asyncQueue.enqueueAndForget(async()=>{const l=await lK(i);new oK(i.asyncQueue,l,o,s,a).run()}),a.promise}(It(t),i=>e(new iH(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(){return new cd("deleteField")}function aH(){return new HE("serverTimestamp")}function lH(...t){return new NK("arrayUnion",t)}function uH(...t){return new OK("arrayRemove",t)}function cH(t){return new DK("increment",t)}(function(t,e=!0){(function(n){dl=n})(as),Wi(new br("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ze(new y8(n.getProvider("auth-internal")),new _8(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new R(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yi(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Er(pb,"3.12.0",t),Er(pb,"3.12.0","esm2017")})();const dH="@firebase/firestore-compat",hH="0.3.9";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new R("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){if(typeof Uint8Array>"u")throw new R("unimplemented","Uint8Arrays are not available in this environment.")}function _T(){if(!K8())throw new R("unimplemented","Blobs are unavailable in Firestore in this environment.")}let WO=class D0{constructor(e){this._delegate=e}static fromBase64String(e){return _T(),new D0(kr.fromBase64String(e))}static fromUint8Array(e){return ET(),new D0(kr.fromUint8Array(e))}toBase64(){return _T(),this._delegate.toBase64()}toUint8Array(){return ET(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){return fH(t,["next","error","complete"])}function fH(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{enableIndexedDbPersistence(e,n){return _K(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return SK(e._delegate)}clearIndexedDbPersistence(e){return IK(e._delegate)}}class GO{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Yi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&er("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){gK(this._delegate,e,n,r)}enableNetwork(){return TK(this._delegate)}disableNetwork(){return xK(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,bO("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return bK(this._delegate)}onSnapshotsInSync(e){return tH(this._delegate,e)}get app(){if(!this._appCompat)throw new R("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wa(this,xO(this._delegate,e))}catch(n){throw Kt(n,"collection()","Firestore.collection()")}}doc(e){try{return new $n(this,Mf(this._delegate,e))}catch(n){throw Kt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gt(this,yK(this._delegate,e))}catch(n){throw Kt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return sH(this._delegate,n=>e(new KO(this,n)))}batch(){return It(this._delegate),new HO(new rH(this._delegate,e=>hd(this._delegate,e)))}loadBundle(e){return kK(this._delegate,e)}namedQuery(e){return CK(this._delegate,e).then(n=>n?new Gt(this,n):null)}}class Om extends n_{constructor(e){super(),this.firestore=e}convertBytes(e){return new WO(new kr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return $n.forKey(n,this.firestore,null)}}function mH(t){f8(t)}class KO{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Om(e)}get(e){const n=js(e);return this._delegate.get(n).then(r=>new Ic(this._firestore,new ti(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=js(e);return r?(i_("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=js(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=js(e);return this._delegate.delete(n),this}}class HO{constructor(e){this._delegate=e}set(e,n,r){const i=js(e);return r?(i_("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=js(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=js(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class po{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new bu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=po.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new po(e,new Om(e),n),i.set(n,s)),s}}po.INSTANCES=new WeakMap;class $n{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Om(e)}static forPath(e,n,r){if(e.length%2!==0)throw new R("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $n(n,new ke(n._delegate,r,new M(e)))}static forKey(e,n,r){return new $n(n,new ke(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Wa(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wa(this.firestore,xO(this._delegate,e))}catch(n){throw Kt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=K(e),e instanceof ke?kO(this._delegate,e):!1}set(e,n){n=i_("DocumentReference.set",n);try{return n?vT(this._delegate,e,n):vT(this._delegate,e)}catch(r){throw Kt(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?wT(this._delegate,e):wT(this._delegate,e,n,...r)}catch(i){throw Kt(i,"updateDoc()","DocumentReference.update()")}}delete(){return ZK(this._delegate)}onSnapshot(...e){const n=QO(e),r=YO(e,i=>new Ic(this.firestore,new ti(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return qO(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=HK(this._delegate):(e==null?void 0:e.source)==="server"?n=QK(this._delegate):n=KK(this._delegate),n.then(r=>new Ic(this.firestore,new ti(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $n(this.firestore,e?this._delegate.withConverter(po.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Kt(t,e,n){return t.message=t.message.replace(e,n),t}function QO(t){for(const e of t)if(typeof e=="object"&&!$0(e))return e;return{}}function YO(t,e){var n,r;let i;return $0(t[0])?i=t[0]:$0(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Ic{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new $n(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return zO(this._delegate,e._delegate)}}class bc extends Ic{data(e){const n=this._delegate.data(e);return p8(n!==void 0),n}}class Gt{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Om(e)}where(e,n,r){try{return new Gt(this.firestore,gi(this._delegate,LK(e,n,r)))}catch(i){throw Kt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Gt(this.firestore,gi(this._delegate,FK(e,n)))}catch(r){throw Kt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gt(this.firestore,gi(this._delegate,UK(e)))}catch(n){throw Kt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Gt(this.firestore,gi(this._delegate,jK(e)))}catch(n){throw Kt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gt(this.firestore,gi(this._delegate,VK(...e)))}catch(n){throw Kt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gt(this.firestore,gi(this._delegate,BK(...e)))}catch(n){throw Kt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gt(this.firestore,gi(this._delegate,zK(...e)))}catch(n){throw Kt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gt(this.firestore,gi(this._delegate,qK(...e)))}catch(n){throw Kt(n,"endAt()","Query.endAt()")}}isEqual(e){return CO(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=JK(this._delegate):(e==null?void 0:e.source)==="server"?n=XK(this._delegate):n=YK(this._delegate),n.then(r=>new M0(this.firestore,new ts(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=QO(e),r=YO(e,i=>new M0(this.firestore,new ts(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return qO(this._delegate,n,r)}withConverter(e){return new Gt(this.firestore,e?this._delegate.withConverter(po.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class gH{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new bc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class M0{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Gt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new bc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new gH(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new bc(this._firestore,r))})}isEqual(e){return zO(this._delegate,e._delegate)}}class Wa extends Gt{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $n(this.firestore,e):null}doc(e){try{return e===void 0?new $n(this.firestore,Mf(this._delegate)):new $n(this.firestore,Mf(this._delegate,e))}catch(n){throw Kt(n,"doc()","CollectionReference.doc()")}}add(e){return eH(this._delegate,e).then(n=>new $n(this.firestore,n))}isEqual(e){return kO(this._delegate,e._delegate)}withConverter(e){return new Wa(this.firestore,e?this._delegate.withConverter(po.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function js(t){return ce(t,ke)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(...e){this._delegate=new es(...e)}static documentId(){return new s_(Ge.keyField().canonicalString())}isEqual(e){return e=K(e),e instanceof es?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._delegate=e}static serverTimestamp(){const e=aH();return e._methodName="FieldValue.serverTimestamp",new Rs(e)}static delete(){const e=oH();return e._methodName="FieldValue.delete",new Rs(e)}static arrayUnion(...e){const n=lH(...e);return n._methodName="FieldValue.arrayUnion",new Rs(n)}static arrayRemove(...e){const n=uH(...e);return n._methodName="FieldValue.arrayRemove",new Rs(n)}static increment(e){const n=cH(e);return n._methodName="FieldValue.increment",new Rs(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH={Firestore:GO,GeoPoint:bm,Timestamp:Oe,Blob:WO,Transaction:KO,WriteBatch:HO,DocumentReference:$n,DocumentSnapshot:Ic,Query:Gt,QueryDocumentSnapshot:bc,QuerySnapshot:M0,CollectionReference:Wa,FieldPath:s_,FieldValue:Rs,setLogLevel:mH,CACHE_SIZE_UNLIMITED:EK};function vH(t,e){t.INTERNAL.registerComponent(new br("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},yH)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wH(t){vH(t,(e,n)=>new GO(e,n,new pH)),t.registerVersion(dH,hH)}wH(ls);const EH={apiKey:"AIzaSyCSfpMkO1djcYjP4yeGUIqJgoMt4S_wXKw",authDomain:"netlfix-5259f.firebaseapp.com",projectId:"netlfix-5259f",storageBucket:"netlfix-5259f.appspot.com",messagingSenderId:"265294501588",appId:"1:265294501588:web:258af84515cbceb8a64d41"},_H=ls.initializeApp(EH);_H.firestore();const Tu=ls.auth(),SH=new ls.auth.GoogleAuthProvider;var o_={},IH=aP;Object.defineProperty(o_,"__esModule",{value:!0});var L0=o_.default=void 0;xH(_);var bH=IH(cP()),TH=x;function JO(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(JO=function(r){return r?n:e})(t)}function xH(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=JO(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}var kH=(0,bH.default)((0,TH.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");L0=o_.default=kH;function CH(){const t=_.useRef(null),e=_.useRef(null),n=s=>{s.preventDefault(),Tu.createUserWithEmailAndPassword(t.current.value,e.current.value).then(o=>{console.log(o)}).catch(o=>{alert(o.message)})},r=s=>{s.preventDefault(),Tu.signInWithEmailAndPassword(t.current.value,e.current.value).then(o=>{console.log(o)}).catch(o=>{alert(o.message)})},i=s=>{s.preventDefault(),Tu.signInWithPopup(SH).then(o=>{console.log(o)}).catch(o=>{alert(o.message)})};return x.jsxs("div",{className:"max-w-[400px] px-[40px]  py-[20px] mx-auto ",style:{background:" rgba(0, 0, 0, 0.85)"},children:[x.jsxs("form",{className:"flex flex-col",children:[x.jsx("h1",{className:"text-left text-lg mb-[25px]",children:"Sign In"}),x.jsx("input",{ref:t,type:"email",placeholder:"Email",className:"mb-[14px] outline-0 h-[40px] py-[5px] px-[15px] text-black rounded-md border-none "}),x.jsx("input",{ref:e,type:"password",placeholder:"Password",className:"mb-[14px] outline-0 h-[40px]  py-[5px] px-[15px] text-black rounded-md border-none"}),x.jsx("button",{onClick:r,type:"submit",className:"  font-bold px-[2em] rounded-md cursor-pointer  mt-[20px]  bg-[#e50914] border-[#ff0a16] text-white h-[50px] text-[1rem] ",children:"Sign In"}),x.jsxs("button",{onClick:i,type:"submit",className:" zero:hidden font-bold px-[2em] rounded-md cursor-pointer  mt-[20px]  bg-[#76ac47] border-[#ff0a16] text-white h-[50px] text-[1rem] ",children:[x.jsx(L0,{className:"mr-[10px] "}),"Sign In With Google"]}),x.jsx("div",{children:x.jsxs("h4",{className:"text-left mt-[20px]",children:[x.jsx("span",{className:"text-gray-400",children:"New to Netflix?"})," ",x.jsx("span",{className:"hover:cursor-pointer hover:underline",onClick:n,children:"Sign up now."})]})}),x.jsxs("button",{onClick:i,type:"submit",className:" zero:hidden font-bold px-[2em] rounded-md cursor-pointer  mt-[20px]  bg-[#3617fd] border-[#ff0a16] text-white h-[50px] text-[1rem] ",children:[x.jsx(L0,{className:"mr-[10px] "}),"continue With Google"]})]}),x.jsxs("h4",{className:"text-left mt-[20px]",children:[x.jsx("span",{className:"text-gray-400",children:"This page is protected by Google"})," ",x.jsx("span",{className:"hover:cursor-pointer hover:underline",children:"Privacy Policy"})," ","and"," ",x.jsx("span",{className:"hover:cursor-pointer hover:underline",children:"Terms of Service"})]})]})}function PH(){const[t,e]=_.useState(!1);return x.jsxs("div",{className:"relative h-full  ",style:{backgroundImage:"url('https://assets.nflxext.com/ffe/siteui/vlv3/51e53f54-0d9f-40ec-9e05-c030def06ac9/21ce579d-58aa-484a-aa96-fe1742b6f9c8/PK-en-20230515-popsignuptwoweeks-perspective_alpha_website_large.jpg')",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},children:[x.jsxs("div",{children:[x.jsx("img",{className:"w-[150px] fixed left-0 object-contain pl-[20px]",src:"/Netflix.png",alt:""}),x.jsx("button",{onClick:()=>e(!0),className:"fixed right-[20px] py-[6px] px-[20px] rounded-md font-semibold  top-4 text-[1rem] text-white bg-[#C00812] ",children:"Sign in"}),x.jsx("div",{className:"w-full h-screen z-[1 ",style:{background:" rgba(0, 0, 0, 0.4)",backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, 0.8) 0, rgba(0, 0, 0, 0) 60%, rgba(0, 0, 0, 0.8) 100%)"}})]}),x.jsx("div",{className:`z-[1] text-white  p-[20px] absolute  ${t?"top-[3%] zero:top-[20%]":"top-[30%]"} left-0 right-0 mx-auto text-center `,children:t?x.jsx(CH,{}):x.jsxs(x.Fragment,{children:[x.jsx("h1",{className:"text-[3.125rem] zero:text-[2.5rem] mb-[20px]",children:"Unlimited movies, TV shows, and more"}),x.jsx("h2",{className:"text-[2rem] zero:text-[1.5rem] mb-[30px] font-normal",children:"Watch anywhere. Cancel anytime."}),x.jsx("h3",{className:"text-[1.3rem] zero:text-[0.9rem] font-normal",children:"Ready to watch? Enter your email to create or restart your membership."}),x.jsx("div",{className:"m-[20px]",children:x.jsxs("form",{children:[x.jsx("input",{className:"bg-white py-[10px] px-[20px] w-[400px] zero:w-[300px] mx-w-[600px]  mt-[20px] zero:mt-[10px] mobile:mt-[10px] ",type:"email",placeholder:"Email address"}),x.jsx("button",{onClick:()=>e(!0),className:"bg-[#E50914] py-[10px] px-[20px] w-[150px] zero:w-[300px] mobile:w-[200px]  mt-[20px] zero:mt-[10px] mobile:mt-[10px] ",type:"submit",children:"Get Started"})]})})]})})]})}var XO={exports:{}},ZO={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=_;function RH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var AH=typeof Object.is=="function"?Object.is:RH,NH=Ga.useState,OH=Ga.useEffect,DH=Ga.useLayoutEffect,$H=Ga.useDebugValue;function MH(t,e){var n=e(),r=NH({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return DH(function(){i.value=n,i.getSnapshot=e,ly(i)&&s({inst:i})},[t,n,e]),OH(function(){return ly(i)&&s({inst:i}),t(function(){ly(i)&&s({inst:i})})},[t]),$H(n),n}function ly(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!AH(t,n)}catch{return!0}}function LH(t,e){return e()}var FH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LH:MH;ZO.useSyncExternalStore=Ga.useSyncExternalStore!==void 0?Ga.useSyncExternalStore:FH;XO.exports=ZO;var UH=XO.exports,e2={exports:{}},t2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=_,jH=UH;function VH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var BH=typeof Object.is=="function"?Object.is:VH,zH=jH.useSyncExternalStore,qH=Dm.useRef,WH=Dm.useEffect,GH=Dm.useMemo,KH=Dm.useDebugValue;t2.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=qH(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=GH(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var f=o.value;if(i(f,p))return d=f}return d=p}if(f=d,BH(c,p))return f;var m=r(p);return i!==void 0&&i(f,m)?f:(c=p,d=m)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=zH(t,s[0],s[1]);return WH(function(){o.hasValue=!0,o.value=a},[a]),KH(a),a};e2.exports=t2;var HH=e2.exports;function QH(t){t()}let n2=QH;const YH=t=>n2=t,JH=()=>n2,ns=_.createContext(null);function r2(){return _.useContext(ns)}const XH=()=>{throw new Error("uSES not initialized!")};let i2=XH;const ZH=t=>{i2=t},e7=(t,e)=>t===e;function t7(t=ns){const e=t===ns?r2:()=>_.useContext(t);return function(r,i=e7){const{store:s,subscription:o,getServerState:a}=e(),l=i2(o.addNestedSub,s.getState,a||s.getState,r,i);return _.useDebugValue(l),l}}const s2=t7();var _e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_=Symbol.for("react.element"),l_=Symbol.for("react.portal"),$m=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),Fm=Symbol.for("react.provider"),Um=Symbol.for("react.context"),n7=Symbol.for("react.server_context"),jm=Symbol.for("react.forward_ref"),Vm=Symbol.for("react.suspense"),Bm=Symbol.for("react.suspense_list"),zm=Symbol.for("react.memo"),qm=Symbol.for("react.lazy"),r7=Symbol.for("react.offscreen"),o2;o2=Symbol.for("react.module.reference");function Vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case a_:switch(t=t.type,t){case $m:case Lm:case Mm:case Vm:case Bm:return t;default:switch(t=t&&t.$$typeof,t){case n7:case Um:case jm:case qm:case zm:case Fm:return t;default:return e}}case l_:return e}}}_e.ContextConsumer=Um;_e.ContextProvider=Fm;_e.Element=a_;_e.ForwardRef=jm;_e.Fragment=$m;_e.Lazy=qm;_e.Memo=zm;_e.Portal=l_;_e.Profiler=Lm;_e.StrictMode=Mm;_e.Suspense=Vm;_e.SuspenseList=Bm;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(t){return Vn(t)===Um};_e.isContextProvider=function(t){return Vn(t)===Fm};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===a_};_e.isForwardRef=function(t){return Vn(t)===jm};_e.isFragment=function(t){return Vn(t)===$m};_e.isLazy=function(t){return Vn(t)===qm};_e.isMemo=function(t){return Vn(t)===zm};_e.isPortal=function(t){return Vn(t)===l_};_e.isProfiler=function(t){return Vn(t)===Lm};_e.isStrictMode=function(t){return Vn(t)===Mm};_e.isSuspense=function(t){return Vn(t)===Vm};_e.isSuspenseList=function(t){return Vn(t)===Bm};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===$m||t===Lm||t===Mm||t===Vm||t===Bm||t===r7||typeof t=="object"&&t!==null&&(t.$$typeof===qm||t.$$typeof===zm||t.$$typeof===Fm||t.$$typeof===Um||t.$$typeof===jm||t.$$typeof===o2||t.getModuleId!==void 0)};_e.typeOf=Vn;function i7(){const t=JH();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const ST={notify(){},get:()=>[]};function s7(t,e){let n,r=ST;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=i7())}function u(){n&&(n(),n=void 0,r.clear(),r=ST)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const o7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a7=o7?_.useLayoutEffect:_.useEffect;function l7({store:t,context:e,children:n,serverState:r}){const i=_.useMemo(()=>{const a=s7(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=_.useMemo(()=>t.getState(),[t]);a7(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||ns;return Ht.createElement(o.Provider,{value:i},n)}function a2(t=ns){const e=t===ns?r2:()=>_.useContext(t);return function(){const{store:r}=e();return r}}const u7=a2();function c7(t=ns){const e=t===ns?u7:a2(t);return function(){return e().dispatch}}const d7=c7();ZH(HH.useSyncExternalStoreWithSelector);YH(sp.unstable_batchedUpdates);function Kn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function rs(t){return!!t&&!!t[Pe]}function ni(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===E7}(t)||Array.isArray(t)||!!t[PT]||!!(!((e=t.constructor)===null||e===void 0)&&e[PT])||u_(t)||c_(t))}function mo(t,e,n){n===void 0&&(n=!1),wl(t)===0?(n?Object.keys:Ea)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function wl(t){var e=t[Pe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:u_(t)?2:c_(t)?3:0}function wa(t,e){return wl(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function h7(t,e){return wl(t)===2?t.get(e):t[e]}function l2(t,e,n){var r=wl(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function u2(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function u_(t){return v7&&t instanceof Map}function c_(t){return w7&&t instanceof Set}function bs(t){return t.o||t.t}function d_(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=d2(t);delete e[Pe];for(var n=Ea(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function h_(t,e){return e===void 0&&(e=!1),f_(t)||rs(t)||!ni(t)||(wl(t)>1&&(t.set=t.add=t.clear=t.delete=f7),Object.freeze(t),e&&mo(t,function(n,r){return h_(r,!0)},!0)),t}function f7(){Kn(2)}function f_(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Ir(t){var e=V0[t];return e||Kn(18,t),e}function p7(t,e){V0[t]||(V0[t]=e)}function F0(){return Tc}function uy(t,e){e&&(Ir("Patches"),t.u=[],t.s=[],t.v=e)}function Ff(t){U0(t),t.p.forEach(m7),t.p=null}function U0(t){t===Tc&&(Tc=t.l)}function IT(t){return Tc={p:[],l:Tc,h:t,m:!0,_:0}}function m7(t){var e=t[Pe];e.i===0||e.i===1?e.j():e.g=!0}function cy(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Ir("ES5").S(e,t,r),r?(n[Pe].P&&(Ff(e),Kn(4)),ni(t)&&(t=Uf(e,t),e.l||jf(e,t)),e.u&&Ir("Patches").M(n[Pe].t,t,e.u,e.s)):t=Uf(e,n,[]),Ff(e),e.u&&e.v(e.u,e.s),t!==c2?t:void 0}function Uf(t,e,n){if(f_(e))return e;var r=e[Pe];if(!r)return mo(e,function(a,l){return bT(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return jf(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=d_(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),mo(s,function(a,l){return bT(t,r,i,a,l,n,o)}),jf(t,i,!1),n&&t.u&&Ir("Patches").N(r,n,t.u,t.s)}return r.o}function bT(t,e,n,r,i,s,o){if(rs(i)){var a=Uf(t,i,s&&e&&e.i!==3&&!wa(e.R,r)?s.concat(r):void 0);if(l2(n,r,a),!rs(a))return;t.m=!1}else o&&n.add(i);if(ni(i)&&!f_(i)){if(!t.h.D&&t._<1)return;Uf(t,i),e&&e.A.l||jf(t,i)}}function jf(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&h_(e,n)}function dy(t,e){var n=t[Pe];return(n?bs(n):t)[e]}function TT(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Ii(t){t.P||(t.P=!0,t.l&&Ii(t.l))}function hy(t){t.o||(t.o=d_(t.t))}function j0(t,e,n){var r=u_(e)?Ir("MapSet").F(e,n):c_(e)?Ir("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:F0(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=xc;o&&(l=[a],u=ru);var c=Proxy.revocable(l,u),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(e,n):Ir("ES5").J(e,n);return(n?n.A:F0()).p.push(r),r}function g7(t){return rs(t)||Kn(22,t),function e(n){if(!ni(n))return n;var r,i=n[Pe],s=wl(n);if(i){if(!i.P&&(i.i<4||!Ir("ES5").K(i)))return i.t;i.I=!0,r=xT(n,s),i.I=!1}else r=xT(n,s);return mo(r,function(o,a){i&&h7(i.t,o)===a||l2(r,o,e(a))}),s===3?new Set(r):r}(t)}function xT(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return d_(t)}function y7(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Pe];return xc.get(l,s)},set:function(l){var u=this[Pe];xc.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Pe];if(!a.P)switch(a.i){case 5:r(a)&&Ii(a);break;case 4:n(a)&&Ii(a)}}}function n(s){for(var o=s.t,a=s.k,l=Ea(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Pe){var d=o[c];if(d===void 0&&!wa(o,c))return!0;var h=a[c],p=h&&h[Pe];if(p?p.t!==d:!u2(h,d))return!0}}var f=!!o[Pe];return l.length!==Ea(o).length+(f?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};p7("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var h=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(h,""+p,t(p,!0));return h}var f=d2(d);delete f[Pe];for(var m=Ea(f),E=0;E<m.length;E++){var y=m[E];f[y]=t(y,c||!!f[y].enumerable)}return Object.create(Object.getPrototypeOf(d),f)}(a,s),u={i:a?5:4,A:o?o.A:F0(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Pe,{value:u,writable:!0}),l},S:function(s,o,a){a?rs(o)&&o[Pe].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Pe];if(c){var d=c.t,h=c.k,p=c.R,f=c.i;if(f===4)mo(h,function(v){v!==Pe&&(d[v]!==void 0||wa(d,v)?p[v]||l(h[v]):(p[v]=!0,Ii(c)))}),mo(d,function(v){h[v]!==void 0||wa(h,v)||(p[v]=!1,Ii(c))});else if(f===5){if(r(c)&&(Ii(c),p.length=!0),h.length<d.length)for(var m=h.length;m<d.length;m++)p[m]=!1;else for(var E=d.length;E<h.length;E++)p[E]=!0;for(var y=Math.min(h.length,d.length),g=0;g<y;g++)h.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&l(h[g])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var kT,Tc,p_=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",v7=typeof Map<"u",w7=typeof Set<"u",CT=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",c2=p_?Symbol.for("immer-nothing"):((kT={})["immer-nothing"]=!0,kT),PT=p_?Symbol.for("immer-draftable"):"__$immer_draftable",Pe=p_?Symbol.for("immer-state"):"__$immer_state",E7=""+Object.prototype.constructor,Ea=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,d2=Object.getOwnPropertyDescriptors||function(t){var e={};return Ea(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},V0={},xc={get:function(t,e){if(e===Pe)return t;var n=bs(t);if(!wa(n,e))return function(i,s,o){var a,l=TT(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!ni(r)?r:r===dy(t.t,e)?(hy(t),t.o[e]=j0(t.A.h,r,t)):r},has:function(t,e){return e in bs(t)},ownKeys:function(t){return Reflect.ownKeys(bs(t))},set:function(t,e,n){var r=TT(bs(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=dy(bs(t),e),s=i==null?void 0:i[Pe];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(u2(n,i)&&(n!==void 0||wa(t.t,e)))return!0;hy(t),Ii(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return dy(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,hy(t),Ii(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=bs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Kn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Kn(12)}},ru={};mo(xc,function(t,e){ru[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ru.deleteProperty=function(t,e){return ru.set.call(this,t,e,void 0)},ru.set=function(t,e,n){return xc.set.call(this,t[0],e,n,t[0])};var _7=function(){function t(n){var r=this;this.O=CT,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var E=this;m===void 0&&(m=a);for(var y=arguments.length,g=Array(y>1?y-1:0),v=1;v<y;v++)g[v-1]=arguments[v];return l.produce(m,function(w){var S;return(S=s).call.apply(S,[E,w].concat(g))})}}var u;if(typeof s!="function"&&Kn(6),o!==void 0&&typeof o!="function"&&Kn(7),ni(i)){var c=IT(r),d=j0(r,i,void 0),h=!0;try{u=s(d),h=!1}finally{h?Ff(c):U0(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return uy(c,o),cy(m,c)},function(m){throw Ff(c),m}):(uy(c,o),cy(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===c2&&(u=void 0),r.D&&h_(u,!0),o){var p=[],f=[];Ir("Patches").M(i,u,p,f),o(p,f)}return u}Kn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ni(n)||Kn(8),rs(n)&&(n=g7(n));var r=IT(this),i=j0(this,n,void 0);return i[Pe].C=!0,U0(r),i},e.finishDraft=function(n,r){var i=n&&n[Pe],s=i.A;return uy(s,r),cy(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!CT&&Kn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Ir("Patches").$;return rs(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),xn=new _7,h2=xn.produce;xn.produceWithPatches.bind(xn);xn.setAutoFreeze.bind(xn);xn.setUseProxies.bind(xn);xn.applyPatches.bind(xn);xn.createDraft.bind(xn);xn.finishDraft.bind(xn);function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function S7(t,e){if(kc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I7(t){var e=S7(t,"string");return kc(e)==="symbol"?e:String(e)}function b7(t,e,n){return e=I7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(r){b7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var NT=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),fy=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vf={INIT:"@@redux/INIT"+fy(),REPLACE:"@@redux/REPLACE"+fy(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fy()}};function T7(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function f2(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(jt(1));return n(f2)(t,e)}if(typeof t!="function")throw new Error(jt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(jt(3));return s}function d(m){if(typeof m!="function")throw new Error(jt(4));if(l)throw new Error(jt(5));var E=!0;return u(),a.push(m),function(){if(E){if(l)throw new Error(jt(6));E=!1,u();var g=a.indexOf(m);a.splice(g,1),o=null}}}function h(m){if(!T7(m))throw new Error(jt(7));if(typeof m.type>"u")throw new Error(jt(8));if(l)throw new Error(jt(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var E=o=a,y=0;y<E.length;y++){var g=E[y];g()}return m}function p(m){if(typeof m!="function")throw new Error(jt(10));i=m,h({type:Vf.REPLACE})}function f(){var m,E=d;return m={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(jt(11));function v(){g.next&&g.next(c())}v();var w=E(v);return{unsubscribe:w}}},m[NT]=function(){return this},m}return h({type:Vf.INIT}),r={dispatch:h,subscribe:d,getState:c,replaceReducer:p},r[NT]=f,r}function x7(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Vf.INIT});if(typeof r>"u")throw new Error(jt(12));if(typeof n(void 0,{type:Vf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jt(13))})}function k7(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{x7(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},h=0;h<s.length;h++){var p=s[h],f=n[p],m=l[p],E=f(m,u);if(typeof E>"u")throw u&&u.type,new Error(jt(14));d[p]=E,c=c||E!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function Bf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function C7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(jt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Bf.apply(void 0,a)(i.dispatch),AT(AT({},i),{},{dispatch:s})}}}function p2(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var m2=p2();m2.withExtraArgument=p2;const OT=m2;var g2=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),P7=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ka=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},R7=Object.defineProperty,A7=Object.defineProperties,N7=Object.getOwnPropertyDescriptors,DT=Object.getOwnPropertySymbols,O7=Object.prototype.hasOwnProperty,D7=Object.prototype.propertyIsEnumerable,$T=function(t,e,n){return e in t?R7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Fi=function(t,e){for(var n in e||(e={}))O7.call(e,n)&&$T(t,n,e[n]);if(DT)for(var r=0,i=DT(e);r<i.length;r++){var n=i[r];D7.call(e,n)&&$T(t,n,e[n])}return t},py=function(t,e){return A7(t,N7(e))},$7=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},M7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bf:Bf.apply(null,arguments)};function L7(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var F7=function(t){g2(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Ka([void 0],n[0].concat(this)))):new(e.bind.apply(e,Ka([void 0],n.concat(this))))},e}(Array),U7=function(t){g2(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Ka([void 0],n[0].concat(this)))):new(e.bind.apply(e,Ka([void 0],n.concat(this))))},e}(Array);function B0(t){return ni(t)?h2(t,function(){}):t}function j7(t){return typeof t=="boolean"}function V7(){return function(e){return B7(e)}}function B7(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new F7;return n&&(j7(n)?r.push(OT):r.push(OT.withExtraArgument(n.extraArgument))),r}var z7=!0;function q7(t){var e=V7(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,h=d===void 0?void 0:d,p;if(typeof i=="function")p=i;else if(L7(i))p=k7(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var f=o;typeof f=="function"&&(f=f(e));var m=C7.apply(void 0,f),E=Bf;l&&(E=M7(Fi({trace:!z7},typeof l=="object"&&l)));var y=new U7(m),g=y;Array.isArray(h)?g=Ka([m],h):typeof h=="function"&&(g=h(y));var v=E.apply(void 0,g);return f2(p,c,v)}function Ui(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Fi(Fi({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function y2(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function W7(t){return typeof t=="function"}function G7(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?y2(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(W7(t))l=function(){return B0(t())};else{var u=B0(t);l=function(){return u}}function c(d,h){d===void 0&&(d=l());var p=Ka([s[h.type]],o.filter(function(f){var m=f.matcher;return m(h)}).map(function(f){var m=f.reducer;return m}));return p.filter(function(f){return!!f}).length===0&&(p=[a]),p.reduce(function(f,m){if(m)if(rs(f)){var E=f,y=m(E,h);return y===void 0?f:y}else{if(ni(f))return h2(f,function(g){return m(g,h)});var y=m(f,h);if(y===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return f},d)}return c.getInitialState=l,c}function K7(t,e){return t+"/"+e}function H7(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:B0(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var d=r[c],h=K7(e,c),p,f;"reducer"in d?(p=d.reducer,f=d.prepare):p=d,s[c]=p,o[h]=p,a[c]=f?Ui(h,f):Ui(h)});function l(){var c=typeof t.extraReducers=="function"?y2(t.extraReducers):[t.extraReducers],d=c[0],h=d===void 0?{}:d,p=c[1],f=p===void 0?[]:p,m=c[2],E=m===void 0?void 0:m,y=Fi(Fi({},h),o);return G7(n,function(g){for(var v in y)g.addCase(v,y[v]);for(var w=0,S=f;w<S.length;w++){var I=S[w];g.addMatcher(I.matcher,I.reducer)}E&&g.addDefaultCase(E)})}var u;return{name:e,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Q7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Y7=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=Q7[Math.random()*64|0];return e},J7=["name","message","stack","code"],my=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),MT=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),X7=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=J7;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Ui(e+"/fulfilled",function(u,c,d,h){return{payload:u,meta:py(Fi({},h||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=Ui(e+"/pending",function(u,c,d){return{payload:void 0,meta:py(Fi({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Ui(e+"/rejected",function(u,c,d,h,p){return{payload:h,error:(r&&r.serializeError||X7)(u||"Rejected"),meta:py(Fi({},p||{}),{arg:d,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,h){var p=r!=null&&r.idGenerator?r.idGenerator(u):Y7(),f=new a,m;function E(g){m=g,f.abort()}var y=function(){return $7(this,null,function(){var g,v,w,S,I,b,P;return P7(this,function(V){switch(V.label){case 0:return V.trys.push([0,4,,5]),S=(g=r==null?void 0:r.condition)==null?void 0:g.call(r,u,{getState:d,extra:h}),eQ(S)?[4,S]:[3,2];case 1:S=V.sent(),V.label=2;case 2:if(S===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return I=new Promise(function(A,z){return f.signal.addEventListener("abort",function(){return z({name:"AbortError",message:m||"Aborted"})})}),c(s(p,u,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:p,arg:u},{getState:d,extra:h}))),[4,Promise.race([I,Promise.resolve(n(u,{dispatch:c,getState:d,extra:h,requestId:p,signal:f.signal,abort:E,rejectWithValue:function(A,z){return new my(A,z)},fulfillWithValue:function(A,z){return new MT(A,z)}})).then(function(A){if(A instanceof my)throw A;return A instanceof MT?i(A.payload,p,u,A.meta):i(A,p,u)})])];case 3:return w=V.sent(),[3,5];case 4:return b=V.sent(),w=b instanceof my?o(null,p,u,b.payload,b.meta):o(b,p,u),[3,5];case 5:return P=r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition,P||c(w),[2,w]}})})}();return Object.assign(y,{abort:E,requestId:p,arg:u,unwrap:function(){return y.then(Z7)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function Z7(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function eQ(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var m_="listenerMiddleware";Ui(m_+"/add");Ui(m_+"/removeAll");Ui(m_+"/remove");var LT;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);y7();const v2=H7({name:"user",initialState:{user:null},reducers:{login:(t,e)=>{t.user=e.payload},logout:t=>{t.user=null},google:(t,e)=>{t.user=e.payload}}}),{login:tQ,logout:nQ,google:QQ}=v2.actions,w2=t=>t.user.user,rQ=v2.reducer;function iQ(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=_.useState(!1),h=st(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},f=st(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),_.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,u);return()=>{clearTimeout(m)}}},[l,a,u]),x.jsx("span",{className:h,style:p,children:x.jsx("span",{className:f})})}const sQ=tl("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Rn=sQ,oQ=["center","classes","className"];let Wm=t=>t,FT,UT,jT,VT;const z0=550,aQ=80,lQ=Zw(FT||(FT=Wm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),uQ=Zw(UT||(UT=Wm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),cQ=Zw(jT||(jT=Wm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),dQ=Pr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),hQ=Pr(iQ,{name:"MuiTouchRipple",slot:"Ripple"})(VT||(VT=Wm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Rn.rippleVisible,lQ,z0,({theme:t})=>t.transitions.easing.easeInOut,Rn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Rn.child,Rn.childLeaving,uQ,z0,({theme:t})=>t.transitions.easing.easeInOut,Rn.childPulsate,cQ,({theme:t})=>t.transitions.easing.easeInOut),fQ=_.forwardRef(function(e,n){const r=rl({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Qe(r,oQ),[l,u]=_.useState([]),c=_.useRef(0),d=_.useRef(null);_.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=_.useRef(!1),p=_.useRef(null),f=_.useRef(null),m=_.useRef(null);_.useEffect(()=>()=>{clearTimeout(p.current)},[]);const E=_.useCallback(w=>{const{pulsate:S,rippleX:I,rippleY:b,rippleSize:P,cb:V}=w;u(A=>[...A,x.jsx(hQ,{classes:{ripple:st(s.ripple,Rn.ripple),rippleVisible:st(s.rippleVisible,Rn.rippleVisible),ripplePulsate:st(s.ripplePulsate,Rn.ripplePulsate),child:st(s.child,Rn.child),childLeaving:st(s.childLeaving,Rn.childLeaving),childPulsate:st(s.childPulsate,Rn.childPulsate)},timeout:z0,pulsate:S,rippleX:I,rippleY:b,rippleSize:P},c.current)]),c.current+=1,d.current=V},[s]),y=_.useCallback((w={},S={},I=()=>{})=>{const{pulsate:b=!1,center:P=i||S.pulsate,fakeElement:V=!1}=S;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const A=V?null:m.current,z=A?A.getBoundingClientRect():{width:0,height:0,left:0,top:0};let te,ne,J;if(P||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)te=Math.round(z.width/2),ne=Math.round(z.height/2);else{const{clientX:ee,clientY:pe}=w.touches&&w.touches.length>0?w.touches[0]:w;te=Math.round(ee-z.left),ne=Math.round(pe-z.top)}if(P)J=Math.sqrt((2*z.width**2+z.height**2)/3),J%2===0&&(J+=1);else{const ee=Math.max(Math.abs((A?A.clientWidth:0)-te),te)*2+2,pe=Math.max(Math.abs((A?A.clientHeight:0)-ne),ne)*2+2;J=Math.sqrt(ee**2+pe**2)}w!=null&&w.touches?f.current===null&&(f.current=()=>{E({pulsate:b,rippleX:te,rippleY:ne,rippleSize:J,cb:I})},p.current=setTimeout(()=>{f.current&&(f.current(),f.current=null)},aQ)):E({pulsate:b,rippleX:te,rippleY:ne,rippleSize:J,cb:I})},[i,E]),g=_.useCallback(()=>{y({},{pulsate:!0})},[y]),v=_.useCallback((w,S)=>{if(clearTimeout(p.current),(w==null?void 0:w.type)==="touchend"&&f.current){f.current(),f.current=null,p.current=setTimeout(()=>{v(w,S)});return}f.current=null,u(I=>I.length>0?I.slice(1):I),d.current=S},[]);return _.useImperativeHandle(n,()=>({pulsate:g,start:y,stop:v}),[g,y,v]),x.jsx(dQ,L({className:st(Rn.root,s.root,o),ref:m},a,{children:x.jsx(Dj,{component:null,exit:!0,children:l})}))}),pQ=fQ;function mQ(t){return el("MuiButtonBase",t)}const gQ=tl("MuiButtonBase",["root","disabled","focusVisible"]),yQ=gQ,vQ=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],wQ=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Mc({root:["root",e&&"disabled",n&&"focusVisible"]},mQ,i);return n&&r&&(o.root+=` ${r}`),o},EQ=Pr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${yQ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_Q=_.forwardRef(function(e,n){const r=rl({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:E,onDragLeave:y,onFocus:g,onFocusVisible:v,onKeyDown:w,onKeyUp:S,onMouseDown:I,onMouseLeave:b,onMouseUp:P,onTouchEnd:V,onTouchMove:A,onTouchStart:z,tabIndex:te=0,TouchRippleProps:ne,touchRippleRef:J,type:ee}=r,pe=Qe(r,vQ),dt=_.useRef(null),$=_.useRef(null),H=Bi($,J),{isFocusVisibleRef:G,onFocus:me,onBlur:Ee,ref:mn}=DC(),[nt,ht]=_.useState(!1);u&&nt&&ht(!1),_.useImperativeHandle(i,()=>({focusVisible:()=>{ht(!0),dt.current.focus()}}),[]);const[rt,Rr]=_.useState(!1);_.useEffect(()=>{Rr(!0)},[]);const Gm=rt&&!c&&!u;_.useEffect(()=>{nt&&h&&!c&&rt&&$.current.pulsate()},[c,h,nt,rt]);function Bn(Z,y_,k2=d){return Ds(v_=>(y_&&y_(v_),!k2&&$.current&&$.current[Z](v_),!0))}const Km=Bn("start",I),Hm=Bn("stop",E),xo=Bn("stop",y),fd=Bn("stop",P),Qm=Bn("stop",Z=>{nt&&Z.preventDefault(),b&&b(Z)}),El=Bn("start",z),Ym=Bn("stop",V),$t=Bn("stop",A),_2=Bn("stop",Z=>{Ee(Z),G.current===!1&&ht(!1),f&&f(Z)},!1),S2=Ds(Z=>{dt.current||(dt.current=Z.currentTarget),me(Z),G.current===!0&&(ht(!0),v&&v(Z)),g&&g(Z)}),Jm=()=>{const Z=dt.current;return l&&l!=="button"&&!(Z.tagName==="A"&&Z.href)},Xm=_.useRef(!1),I2=Ds(Z=>{h&&!Xm.current&&nt&&$.current&&Z.key===" "&&(Xm.current=!0,$.current.stop(Z,()=>{$.current.start(Z)})),Z.target===Z.currentTarget&&Jm()&&Z.key===" "&&Z.preventDefault(),w&&w(Z),Z.target===Z.currentTarget&&Jm()&&Z.key==="Enter"&&!u&&(Z.preventDefault(),m&&m(Z))}),b2=Ds(Z=>{h&&Z.key===" "&&$.current&&nt&&!Z.defaultPrevented&&(Xm.current=!1,$.current.stop(Z,()=>{$.current.pulsate(Z)})),S&&S(Z),m&&Z.target===Z.currentTarget&&Jm()&&Z.key===" "&&!Z.defaultPrevented&&m(Z)});let pd=l;pd==="button"&&(pe.href||pe.to)&&(pd=p);const _l={};pd==="button"?(_l.type=ee===void 0?"button":ee,_l.disabled=u):(!pe.href&&!pe.to&&(_l.role="button"),u&&(_l["aria-disabled"]=u));const T2=Bi(n,mn,dt),g_=L({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:te,focusVisible:nt}),x2=wQ(g_);return x.jsxs(EQ,L({as:pd,className:st(x2.root,a),ownerState:g_,onBlur:_2,onClick:m,onContextMenu:Hm,onFocus:S2,onKeyDown:I2,onKeyUp:b2,onMouseDown:Km,onMouseLeave:Qm,onMouseUp:fd,onDragLeave:xo,onTouchEnd:Ym,onTouchMove:$t,onTouchStart:El,ref:T2,tabIndex:u?-1:te,type:ee},_l,pe,{children:[o,Gm?x.jsx(pQ,L({ref:H,center:s},ne)):null]}))}),SQ=_Q;function IQ(t){return el("MuiButton",t)}const bQ=tl("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Qd=bQ,TQ=_.createContext({}),xQ=TQ,kQ=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],CQ=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${et(e)}`,`size${et(i)}`,`${s}Size${et(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${et(i)}`],endIcon:["endIcon",`iconSize${et(i)}`]},l=Mc(a,IQ,o);return L({},o,l)},E2=t=>L({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),PQ=Pr(SQ,{shouldForwardProp:t=>sP(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${et(n.color)}`],e[`size${et(n.size)}`],e[`${n.variant}Size${et(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return L({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":L({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Dd(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Dd(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Dd(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":L({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Qd.focusVisible}`]:L({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Qd.disabled}`]:L({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Dd(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Qd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Qd.disabled}`]:{boxShadow:"none"}}),RQ=Pr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${et(n.size)}`]]}})(({ownerState:t})=>L({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},E2(t))),AQ=Pr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${et(n.size)}`]]}})(({ownerState:t})=>L({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},E2(t))),NQ=_.forwardRef(function(e,n){const r=_.useContext(xQ),i=Ww(r,e),s=rl({props:i,name:"MuiButton"}),{children:o,color:a="primary",component:l="button",className:u,disabled:c=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:p,focusVisibleClassName:f,fullWidth:m=!1,size:E="medium",startIcon:y,type:g,variant:v="text"}=s,w=Qe(s,kQ),S=L({},s,{color:a,component:l,disabled:c,disableElevation:d,disableFocusRipple:h,fullWidth:m,size:E,type:g,variant:v}),I=CQ(S),b=y&&x.jsx(RQ,{className:I.startIcon,ownerState:S,children:y}),P=p&&x.jsx(AQ,{className:I.endIcon,ownerState:S,children:p});return x.jsxs(PQ,L({ownerState:S,className:st(r.className,I.root,u),component:l,disabled:c,focusRipple:!h,focusVisibleClassName:st(I.focusVisible,f),ref:n,type:g},w,{classes:I,children:[b,o,P]}))}),OQ=NQ;function DQ(){const t=s2(w2);return x.jsxs("div",{className:"h-screen text-white",children:[x.jsx(cC,{}),x.jsxs("div",{className:"flex flex-col w-[50%] mx-auto pt-[8%] max-w-[800px]",children:[x.jsx("h1",{className:"text-[60px] font-normal border-b-[1px] border-[#282c2d] mb-[20px]",children:"Edit Profile"}),x.jsxs("div",{className:"flex",children:[x.jsx("img",{className:"h-[100px]",src:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Netflix-avatar.png",alt:""}),x.jsxs("div",{className:"text-white ml-[25px] flex-1",children:[x.jsx("h2",{className:"bg-gray-500 p-[15px] text-[15px] ml-[20px] ",children:t.email}),x.jsx("div",{className:"ml-[25px] mt-[20px]",children:x.jsx(OQ,{fullWidth:!0,sx:{p:"10px 20px",fontSize:"1rem",mt:"5%",bgcolor:"#e50914",color:"#fff","&:hover":{bgcolor:"#e50914",color:"#fff"},fontWeight:"bold"},onClick:()=>Tu.signOut(),children:"Sign Out"})})]})]})]})]})}function $Q(){const t=s2(w2),e=d7();return _.useEffect(()=>Tu.onAuthStateChanged(r=>{e(r?tQ({uid:r.uid,email:r.email}):nQ())}),[e]),x.jsx(x.Fragment,{children:x.jsx("div",{className:"app",children:x.jsx(qM,{children:t?x.jsxs(zM,{children:[x.jsx(hv,{exact:!0,path:"/Profile",element:x.jsx(DQ,{})}),x.jsx(hv,{exact:!0,path:"/",element:x.jsx(PV,{})})]}):x.jsx(PH,{})})})})}const MQ=q7({reducer:{user:rQ}});yy.createRoot(document.getElementById("root")).render(x.jsx(Ht.StrictMode,{children:x.jsx(l7,{store:MQ,children:x.jsx($Q,{})})}));
